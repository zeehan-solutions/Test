import{r as a,j as t,v as o,L as S,K as E}from"./index.8f15b5f4.js";import{s as B,C as _,I as A,f as N,S as I,g as u,E as D,b as j,T as M}from"./App.8a97c86d.js";import"./EmployeeView.5614cc0b.js";import"./format.31ea45b1.js";import"./en-US.128dcaf8.js";import"./CheckInModel.2d85c33d.js";import"./FormGroup.e9a8a077.js";import"./index.es.31798c2f.js";const T=B.button`
  background-color: #0C1539 !important;
  max-width: 300px;
  padding: 10px;
  border-radius: 10px!important;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
`,U=()=>{const[m,i]=a.exports.useState(!1),b=()=>i(!0),g=()=>i(!1),[c,f]=a.exports.useState(""),[s,x]=a.exports.useState("newest");a.exports.useState(!1);const[y,C]=a.exports.useState([]),[L,w]=a.exports.useState(null),h=async()=>{try{const e=localStorage.getItem("authToken"),r=await E.get("https://bapi.reownlogics.com/api/employees",{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});C(Array.isArray(r.data)?r.data:r.data.data||[]),console.log("responsedata",r.data)}catch(e){console.error("Error fetching hiring requests:",e),w("Failed to fetch hiring requests.")}};a.exports.useEffect(()=>{h()},[]);const v=(e,r)=>{const l=e.created_at?new Date(e.created_at):new Date(e.date_of_birth),d=r.created_at?new Date(r.created_at):new Date(r.date_of_birth);return isNaN(l)||isNaN(d)?(console.error("Invalid date found:",e,r),0):s==="newest"?d-l:s==="oldest"?l-d:0},p=[...y].sort(v);console.log("Sorted Employees:",p);const k=p.filter(e=>e.middle_name&&e.middle_name.toLowerCase().includes(c.toLowerCase())),F=e=>{x(e.target.value)},n=e=>e==="Active"?{backgroundColor:"#16C09861",color:"#00B087",border:"2px solid #00B087"}:e==="Inactive"?{backgroundColor:"#FFC5C5",color:"#DF0404",border:"2px solid #DF0404"}:{backgroundColor:"#B3B3BF",color:"black"};return t("div",{children:o(_,{className:"bg-white p-md-2",style:{borderRadius:"40px"},children:[o("div",{className:"p-2 d-flex flex-wrap justify-content-between align-items-center overflow-x-auto z-index-1",children:[o("div",{children:[t("h3",{children:"All Employees"}),t("small",{style:{color:"#16C098"},children:"Active Members"})]}),o("div",{className:"d-flex flex-wrap gap-1 flex-sm-nowrap align-items-center justify-content-center",children:[o(A,{className:"",style:{borderRadius:"10px",overflow:"hidden"},children:[t(N,{style:{backgroundColor:"#F9FBFF",border:"none"},children:t(I,{size:16})}),t(u,{placeholder:"Search by name",value:c,onChange:e=>f(e.target.value),style:{border:"none",backgroundColor:"#F9FBFF"}})]}),o(u,{type:"select",className:"",name:"select",id:"exampleSelect",onChange:F,value:s,style:{border:"none",backgroundColor:"#F9FBFF"},children:[o("option",{disabled:!0,children:["Sort By ",s.charAt(0).toUpperCase()+s.slice(1)]}),t("option",{value:"newest",children:"Newest"}),t("option",{value:"oldest",children:"Oldest"})]}),t(T,{style:{width:"300px"},onClick:b,children:"Add Employee"}),t(D,{isOpen:m,handleClose:g,onEmployeeAdded:h})]})]}),t(j,{children:o(M,{responsive:!0,style:{backgroundColor:"white"},children:[t("thead",{style:{backgroundColor:"white"},children:o("tr",{children:[t("th",{children:"Employee Name"}),t("th",{children:"Date of Birth"}),t("th",{children:"Phone Number"}),t("th",{children:"Email"}),t("th",{children:"Country"}),t("th",{children:"Status"})]})}),t("tbody",{style:{backgroundColor:"white"},children:k.map((e,r)=>o("tr",{children:[t("td",{children:t(S,{to:`/EmployeeView/${e.id}`,style:{color:"#6e6b7b"},children:e.middle_name})}),t("td",{children:e.date_of_birth}),t("td",{children:e.phone}),t("td",{children:e.email}),t("td",{children:e.nationality}),t("td",{children:e.status?t("span",{style:{backgroundColor:n(e.status).backgroundColor,color:n(e.status).color,padding:"4px 25px",borderRadius:"4px",border:n(e.status).border},children:e.status}):null})]},r))})]})})]})})};export{U as default};
