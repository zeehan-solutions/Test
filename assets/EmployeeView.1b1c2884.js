import{p as N,t as io,aa as os,m as rs,a as ls,j as e,r,a6 as co,v as o,F as ve,B as is,M as B}from"./index.6f6a8d80.js";import{s as P,p as po,N as mo,i as V,j as X,k as ho,l as Z,R as z,c as O,C as v,b as w,L as g,h,A as G,M as go,m as uo,n as xo,X as fo}from"./App.c605b380.js";import{e as bo,a as yo,b as _o,l as No,p as cs,v as ds,s as ps,f as ms,t as vo,C as So,c as wo}from"./more-vertical.8df5ad16.js";import{f as Se}from"./format.c2bfa3ae.js";import"./FormGroup.b5670189.js";import"./en-US.128dcaf8.js";var Lo=["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"];function hs(d,S){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);S&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})),f.push.apply(f,b)}return f}function we(d){for(var S=1;S<arguments.length;S++){var f=arguments[S]!=null?arguments[S]:{};S%2?hs(Object(f),!0).forEach(function(b){To(d,b,f[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):hs(Object(f)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(f,b))})}return d}function To(d,S,f){return S in d?Object.defineProperty(d,S,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[S]=f,d}function Oo(d,S){if(d==null)return{};var f=Io(d,S),b,a;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(d);for(a=0;a<k.length;a++)b=k[a],!(S.indexOf(b)>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(f[b]=d[b]))}return f}function Io(d,S){if(d==null)return{};var f={},b=Object.keys(d),a,k;for(k=0;k<b.length;k++)a=b[k],!(S.indexOf(a)>=0)&&(f[a]=d[a]);return f}var ko={animated:N.exports.bool,bar:N.exports.bool,barAriaLabelledBy:N.exports.string,barAriaValueText:N.exports.string,barClassName:N.exports.string,barStyle:N.exports.object,children:N.exports.node,className:N.exports.string,cssModule:N.exports.object,color:N.exports.string,max:N.exports.oneOfType([N.exports.string,N.exports.number]),min:N.exports.oneOfType([N.exports.string,N.exports.number]),multi:N.exports.bool,striped:N.exports.bool,style:N.exports.object,tag:io,value:N.exports.oneOfType([N.exports.string,N.exports.number])};function xs(d){var S=d.children,f=d.className,b=d.barClassName,a=d.cssModule,k=d.value,c=k===void 0?0:k,te=d.min,Te=te===void 0?0:te,C=d.max,ce=C===void 0?100:C,M=d.animated,J=d.striped,A=d.color,$=d.bar,Oe=d.multi,L=d.tag,u=L===void 0?"div":L,ae=d.style,l=ae===void 0?{}:ae,ne=d.barStyle,K=ne===void 0?{}:ne,de=d.barAriaValueText,se=d.barAriaLabelledBy,Q=Oo(d,Lo),oe=os(c)/os(ce)*100,re=rs(ls(f,"progress"),a),le=rs(ls("progress-bar",$&&f||b,M?"progress-bar-animated":null,A?"bg-".concat(A):null,J||M?"progress-bar-striped":null),a),Y={className:le,style:we(we(we({},$?l:{}),K),{},{width:"".concat(oe,"%")}),role:"progressbar","aria-valuenow":c,"aria-valuemin":Te,"aria-valuemax":ce,"aria-valuetext":de,"aria-labelledby":se,children:S};return $?e(u,{...Q,...Y}):e(u,{...Q,style:l,className:re,children:Oe?S:e("div",{...Y})})}xs.propTypes=ko;const gs=P.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px !important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;
  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;P.button`
  background-color: transparent !important;
  padding: 8px;
  width:115px;
  border: 1px solid #BFBFBF;
  border-radius:10px!important;
  color: #BFBFBF;
  cursor: pointer;
  transition: background-color 0.3s;

       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;P.button`
  background-color: #0C1539 !important;
  padding: 8px;
  width:115px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;const Le=P.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Bo=P.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;
opacity: 0.4 !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,us=P.button`
  background-color: #0C1539 !important;
  padding: 10px;
  width:100%;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
  border: none; 

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
`;P.button`
  background-color: white !important;
  padding: 10px;
  width:100%;
  border-radius: 10px!important;
  color: #BFBFBF;
  cursor: pointer;
  transition: background-color 0.3s;
  border: 1px solid #BFBFBF !important;

  &:hover {
    background-color: white !important; /* Lighter shade on hover */
  }
`;const Co="https://bapi.reownlogics.com",Wo=()=>{var pt,mt,ht,gt,ut,xt,ft,bt,yt,_t,Nt,vt,St,wt,Lt,Tt,Ot,It,kt,Bt,Ct,zt,Mt,Rt,Et,jt,At,Wt,Dt,Ht,Ft,Pt,$t,Ut,Vt,Xt,Zt,Gt,Jt,Kt,Qt,Yt,qt,ea,ta,aa,na,sa,oa,ra,la,ia,ca,da,pa,ma,ha,ga,ua,xa,fa,ba,ya,_a,Na,va,Sa,wa,La,Ta,Oa,Ia,ka,Ba,Ca,za,Ma,Ra,Ea,ja,Aa,Wa,Da,Ha,Fa,Pa,$a,Ua,Va,Xa,Za,Ga,Ja,Ka,Qa,Ya,qa,en,tn,an,nn,sn,on,rn,ln,cn,dn,pn,mn,hn,gn,un,xn,fn,bn,yn,_n,Nn,vn,Sn,wn,Ln,Tn,On,In,kn,Bn,Cn,zn,Mn,Rn,En,jn,An,Wn,Dn,Hn,Fn,Pn,$n,Un,Vn,Xn,Zn,Gn,Jn,Kn,Qn,Yn,qn,es,ts,as,ns,ss;r.exports.useState([]),r.exports.useState("");const[d,S]=r.exports.useState(!1),[f,b]=r.exports.useState(!1);r.exports.useState(!1);const[a,k]=r.exports.useState(null),[c,te]=r.exports.useState([]),[Te,C]=r.exports.useState(!0),[ce,M]=r.exports.useState(""),[J,A]=r.exports.useState(""),[$,Oe]=r.exports.useState("");r.exports.useState(!1);const{id:L}=co();r.exports.useState(40.7128),r.exports.useState(-74.006),r.exports.useState("");const[u,ae]=r.exports.useState([]);r.exports.useState([]);const[l,ne]=r.exports.useState([]);r.exports.useState(!1),r.exports.useState(null),r.exports.useState(null),r.exports.useState(null),r.exports.useState(!1),r.exports.useState(!1),r.exports.useState(null);const[K,de]=r.exports.useState(!1);r.exports.useState({});const[se,Q]=r.exports.useState(""),[oe,re]=r.exports.useState(""),[le,Y]=r.exports.useState(!1),[Ie,ke]=r.exports.useState(!1),[Be,Ce]=r.exports.useState(!1),[ze,Me]=r.exports.useState(!1),[fs,pe]=r.exports.useState([]),[ie,Re]=r.exports.useState([]);r.exports.useState(""),r.exports.useState(null),r.exports.useState(!1);const[Ee,bs]=r.exports.useState(null);r.exports.useState(!1),r.exports.useState(null),r.exports.useState(!1);const[je,ys]=r.exports.useState(!1),[_s,Ns]=r.exports.useState(""),[vs,Ae]=r.exports.useState(!1),[Ss,ws]=r.exports.useState(0),[Ls,Ts]=r.exports.useState(0),[me,We]=r.exports.useState([]),[De,He]=r.exports.useState([]),[he,Fe]=r.exports.useState(!1),[Os,Pe]=r.exports.useState(!1),[$e,Ue]=r.exports.useState(""),[Ve,Xe]=r.exports.useState(""),[Ze,Ge]=r.exports.useState(""),[Je,Ke]=r.exports.useState(""),W=r.exports.useRef(null),[Is,Qe]=r.exports.useState(!1),[ks,Bs]=r.exports.useState(0),[Cs,zs]=r.exports.useState(0),D=r.exports.useRef(null),[R,Ye]=r.exports.useState(1),ge=10,qe=t=>t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"",Ms=t=>{t.preventDefault(),Ae(!0),ws(t.pageX-W.current.offsetLeft),Ts(W.current.scrollLeft),W.current.style.cursor="grabbing"},Rs=t=>{if(!vs)return;t.preventDefault();const n=(t.pageX-W.current.offsetLeft-Ss)*2;W.current.scrollLeft=Ls-n},et=()=>{Ae(!1),W.current.style.cursor="grab"},Es=t=>{t.preventDefault(),Qe(!0),Bs(t.pageX-D.current.offsetLeft),zs(D.current.scrollLeft),D.current.style.cursor="grabbing"},js=t=>{if(!Is)return;t.preventDefault();const n=(t.pageX-D.current.offsetLeft-ks)*2;D.current.scrollLeft=Cs-n},tt=()=>{Qe(!1),D.current.style.cursor="grab"},ue=t=>{typeof t=="string"&&Ns(t),ys(!je)},at=r.exports.useRef(null);r.exports.useEffect(()=>{const t=s=>{at.current&&!at.current.contains(s.target)&&!s.target.closest(".action-icon")&&bs(null)};return Ee!==null&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[Ee]);const H=localStorage.getItem("user_role")||"";console.log("UserRole",H),console.log("employee_id",L),console.log("first",L);const q=async()=>{try{const t=localStorage.getItem("authToken"),s=await B.get(`https://bapi.reownlogics.com/api/employees/${L}`,{headers:{Authorization:`Bearer ${t}`}});k(s.data),console.log("emp",s.data)}catch{M("Failed to fetch employee details")}finally{C(!1)}};r.exports.useEffect(()=>{q()},[]);const As=[{task:"Task 1",updatedBy:"John Doe",date:"2025-01-30"},{task:"Task 2",updatedBy:"Jane Smith",date:"2025-01-29"},{task:"Task 3",updatedBy:"Alex Brown",date:"2025-01-28"}],[E,Ws]=r.exports.useState("1"),U=t=>{E!==t&&Ws(t)},Ds=(t,s)=>{const[n,i]=r.exports.useState("");return r.exports.useEffect(()=>{if(!t||s)return;const p=setInterval(()=>{const x=new Date,F=new Date(t),so=new Date(x.getTime()+x.getTimezoneOffset()*6e4+5*36e5),Ne=Math.floor((so-F)/1e3),oo=Math.floor(Ne/3600),ro=Math.floor(Ne%3600/60),lo=Ne%60;i(`${oo.toString().padStart(2,"0")}:${ro.toString().padStart(2,"0")}:${lo.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(p)},[t,s]),n},j=t=>{if(!t)return"Invalid Date";let s;t.includes("T")?s=new Date(t):s=new Date(t.replace(" ","T")+"Z");let n=s.getUTCHours(),i=s.getUTCMinutes(),p=n>=12?"PM":"AM";return n=n%12||12,`${n}:${i.toString().padStart(2,"0")} ${p}`},nt=t=>{if(!t)return"Invalid Time";const[s,n]=t.split(":").map(Number);if(isNaN(s)||isNaN(n))return"Invalid Time";const i=s>=12?"PM":"AM";return`${s%12||12}:${n.toString().padStart(2,"0")} ${i}`},st=t=>{const s=new Date(t),n={weekday:"short",year:"numeric",month:"numeric",day:"numeric"};return s.toLocaleDateString("en-US",n)},ot=t=>{if(!t)return"";const s={month:"short",day:"numeric"};return new Date(t).toLocaleDateString("en-US",s)};function rt(t){const s=new Date(t),n={month:"long",day:"numeric",year:"numeric",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};return s.toLocaleDateString("en-US",n)}const Hs=async()=>{try{const t=localStorage.getItem("authToken"),s=await B.get(`https://bapi.reownlogics.com/api/employee/time-offs/${L}`,{headers:{Authorization:`Bearer ${t}`}});te(s.data),console.log("timeoff",s.data)}catch{M("Failed to fetch timeoff details")}finally{C(!1)}},lt=async()=>{try{C(!0),M(""),A("");const t=localStorage.getItem("authToken"),s=await B.get(`https://bapi.reownlogics.com/api/offboard?employee_id=${L}`,{headers:{Authorization:`Bearer ${t}`}});console.log("API Response of employee offboarding:",s.data),A(s.data.message)}catch(t){console.log("\u274C API Error:",t),t.response&&t.response.status===409?(console.log("\u2705 Employee is already offboarded"),A("Employee Already Offboarded")):A(t.response.data.error)}finally{C(!1)}},xe=async()=>{try{const t=localStorage.getItem("authToken"),s=await B.get(`https://bapi.reownlogics.com/api/current-day-attendance-summary/${L}`,{headers:{Authorization:`Bearer ${t}`}});ne(s.data),console.log("fetchCurrentDaySummary",s.data)}catch{M("Failed to fetch timeoff details")}finally{C(!1)}},fe=async()=>{const t=Se(new Date,"yyyy-MM");try{const s=localStorage.getItem("authToken"),n=await B.get(`https://bapi.reownlogics.com/api/attendance-summary/${L}?month=${t}`,{headers:{Authorization:`Bearer ${s}`}});ae(n.data),console.log("attendence",n.data)}catch{M("Failed to fetch employee details")}finally{C(!1)}};r.exports.useEffect(()=>{fe(),Hs(),xe(),lt()},[]);const Fs=[{id:1,icon:bo,title:"Attendance %",percentage:(pt=u==null?void 0:u.attendance)==null?void 0:pt.attendance_percentage,smallPercentage:"+2%",color:"#E5FFF1",textColor:"#00AE4E"},{id:2,icon:yo,title:"Attendance",percentage:(mt=u==null?void 0:u.attendance)==null?void 0:mt.present,smallPercentage:"-1%",color:"#FFDFF6",textColor:"#F83C3F"},{id:3,icon:_o,title:"Absents",percentage:(ht=u==null?void 0:u.attendance)==null?void 0:ht.absent,smallPercentage:"+3%",color:"#DDFFE7",textColor:"#00AE4E"},{id:4,icon:No,title:"Late",percentage:((gt=u==null?void 0:u.attendance)==null?void 0:gt.totalLateHours)!==void 0?Math.round(Number(u.attendance.totalLateHours)):0,smallPercentage:"-2%",color:"#FFEBEA",textColor:"#F83C3F"}],Ps=t=>{if(!t)return"0hrs 0mins";const s=Math.abs(Math.round(parseFloat(t)*60)),n=Math.floor(s/60),i=s%60;return`${n}hrs ${i}mins`},$s=((xt=(ut=u==null?void 0:u.attendance)==null?void 0:ut.attendance_detail)==null?void 0:xt.map(t=>{const s=t.attendance_date?Se(new Date(t.attendance_date),"dd/MM/yyyy"):"N/A",n=t.check_in?j(t.check_in):"N/A",i=t.check_out?j(t.check_out):"N/A",p=Ps(t.working_hours)||0;return{day:t.attendance_date?Se(new Date(t.attendance_date),"EEEE"):"N/A",date:s,shift:t.working_shift||"N/A",checkIn:n,checkOut:i||"N/A",hours:p}}))||[],Us=[{name:"Day",selector:t=>t.day,sortable:!0},{name:"Date",selector:t=>t.date,sortable:!0},{name:"Shift",selector:t=>t.shift,sortable:!0},{name:"Check-In",selector:t=>t.checkIn,sortable:!0},{name:"Check-Out",selector:t=>t.checkOut,sortable:!0},{name:"Total Working Hour",selector:t=>t.hours,sortable:!0}],it=Math.ceil(As.length/ge),Vs=$s.slice((R-1)*ge,R*ge),Xs=()=>{R>1&&Ye(R-1)},Zs=()=>{R<it&&Ye(R+1)},Gs=[{name:(bt=(ft=c==null?void 0:c.time_off_summary)==null?void 0:ft[0])==null?void 0:bt.name,available:`${(_t=(yt=c==null?void 0:c.time_off_summary)==null?void 0:yt[0])==null?void 0:_t.name} available: ${(vt=(Nt=c==null?void 0:c.time_off_summary)==null?void 0:Nt[0])==null?void 0:vt.available}`,imgSrc:cs},{name:(wt=(St=c==null?void 0:c.time_off_summary)==null?void 0:St[1])==null?void 0:wt.name,available:`${(Tt=(Lt=c==null?void 0:c.time_off_summary)==null?void 0:Lt[1])==null?void 0:Tt.name} available: ${(It=(Ot=c==null?void 0:c.time_off_summary)==null?void 0:Ot[1])==null?void 0:It.available}`,imgSrc:ds},{name:(Bt=(kt=c==null?void 0:c.time_off_summary)==null?void 0:kt[2])==null?void 0:Bt.name,available:`${(zt=(Ct=c==null?void 0:c.time_off_summary)==null?void 0:Ct[2])==null?void 0:zt.name} available: ${(Rt=(Mt=c==null?void 0:c.time_off_summary)==null?void 0:Mt[2])==null?void 0:Rt.available}`,imgSrc:ps},{name:(jt=(Et=c==null?void 0:c.time_off_summary)==null?void 0:Et[3])==null?void 0:jt.name,available:`${(Wt=(At=c==null?void 0:c.time_off_summary)==null?void 0:At[3])==null?void 0:Wt.name} available: ${(Ht=(Dt=c==null?void 0:c.time_off_summary)==null?void 0:Dt[3])==null?void 0:Ht.available}`,imgSrc:ms}];function ee(t){if(!t)return"N/A";const s=new Date(t);return isNaN(s.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit",year:"numeric"}).format(s)}const Js=t=>{const s=t.target.files[0]||null;ye(n=>({...n,profile_picture:s}))},m=H==="hr",[T,be]=r.exports.useState({company_name:((Pt=(Ft=a==null?void 0:a.request[0])==null?void 0:Ft.employee_role)==null?void 0:Pt.company_name)||"",position_arabic:((Ut=($t=a==null?void 0:a.request[0])==null?void 0:$t.employee_role)==null?void 0:Ut.position_arabic)||"",years_of_experience:((Xt=(Vt=a==null?void 0:a.request[0])==null?void 0:Vt.employee_role)==null?void 0:Xt.years_of_experience)||"",project_name:((Gt=(Zt=a==null?void 0:a.request[0])==null?void 0:Zt.employee_role)==null?void 0:Gt.project_name)||"",line_manager_id:((Kt=(Jt=a==null?void 0:a.request[0])==null?void 0:Jt.employee_role)==null?void 0:Kt.line_manager_id)||"",line_manager_email:((Yt=(Qt=a==null?void 0:a.request[0])==null?void 0:Qt.employee_role)==null?void 0:Yt.line_manager_email)||"",department_id:((ea=(qt=a==null?void 0:a.request[0])==null?void 0:qt.employee_role)==null?void 0:ea.department_id)||"",bonafide_id:((aa=(ta=a==null?void 0:a.request[0])==null?void 0:ta.employee_role)==null?void 0:aa.bonafide_id)||"",grade:((sa=(na=a==null?void 0:a.request[0])==null?void 0:na.employee_role)==null?void 0:sa.grade)||"",employee_status:((ra=(oa=a==null?void 0:a.request[0])==null?void 0:oa.employee_role)==null?void 0:ra.employee_status)||"",employment_start_date:((ia=(la=a==null?void 0:a.request[0])==null?void 0:la.employee_role)==null?void 0:ia.employment_start_date)||"",employee_id:L||"",position_english:((da=(ca=a==null?void 0:a.request[0])==null?void 0:ca.employee_role)==null?void 0:da.position_english)||"",sub_department:((ma=(pa=a==null?void 0:a.request[0])==null?void 0:pa.employee_role)==null?void 0:ma.sub_department)||"",employment_type:((ga=(ha=a==null?void 0:a.request[0])==null?void 0:ha.employee_role)==null?void 0:ga.employment_type)||"",probation_period_end_date:((xa=(ua=a==null?void 0:a.request[0])==null?void 0:ua.employee_role)==null?void 0:xa.probation_period_end_date)||"",contract_duration:((ba=(fa=a==null?void 0:a.request[0])==null?void 0:fa.employee_role)==null?void 0:ba.contract_duration)||"",id:((_a=(ya=a==null?void 0:a.request[0])==null?void 0:ya.employee_role)==null?void 0:_a.id)||"",cv:""});console.log("Original Late Value:",(Na=u==null?void 0:u.attendance)==null?void 0:Na.late),console.log("Rounded Late Value:",Math.round(Number((va=u==null?void 0:u.attendance)==null?void 0:va.late)));const Ks=t=>{const s=t.target.files[0]||null;be(n=>({...n,cv:s}))};r.exports.useEffect(()=>{var t;H==="hr"&&((t=a==null?void 0:a.request[0])==null?void 0:t.employee_role)&&be(s=>({...s,...a.request[0].employee_role,employee_id:L||""}))},[a,H,L]);const I=t=>{const{name:s,value:n}=t.target;if(s==="probation_period_end_date"&&T.employment_start_date){const i=new Date(T.employment_start_date);if(new Date(n)<i){Q("End Date cannot be before Start Date");return}else Q("")}be(i=>({...i,[s]:n||""}))},Qs=async()=>{const t=localStorage.getItem("authToken"),s=new FormData;Object.entries(T).forEach(([n,i])=>{n==="cv"?i&&typeof i=="object"&&i.name&&i.size&&i.type&&s.append(n,i):i&&s.append(n,i)});try{Y(!0);const n=await B.post("https://bapi.reownlogics.com/api/employee_role_update",s,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});await q(),re(""),Ce(n.data.message),setTimeout(()=>{Ce("")},2e3)}catch(n){console.error("Error updating data:",n.response.data.error),re(n.response.data.error)}finally{Y(!1)}},[y,ye]=r.exports.useState({family_name:"",nationality:"",religion:"",qualification:"",district:"",zip_code:"",home_country_address:"",middle_name:"",name_in_arabic:"",marital_status:"",phone:"",major:"",street_no:"",additional_number:"",last_name:"",date_of_birth:"",gender:"",email:"",city:"",building_no:"",unit_number:"",profile_picture:"",employee_id:L});r.exports.useEffect(()=>{var t;(t=a==null?void 0:a.request)!=null&&t[0]&&ye(s=>({...s,...a.request[0],employee_id:L}))},[a]);const _=t=>{const{name:s,value:n}=t.target;ye(i=>({...i,[s]:n}))},Ys=async()=>{const t=localStorage.getItem("authToken"),s=new FormData;Object.entries(y).forEach(([n,i])=>{n==="profile_picture"?i&&typeof i=="object"&&i.name&&i.size&&i.type&&s.append(n,i):i&&s.append(n,i)});try{ke(!0);const n=await B.post("https://bapi.reownlogics.com/api/update_onboardEmployee",s,{headers:{Authorization:`Bearer ${t}`}});await q(),Me(n.data.message),setTimeout(()=>{Me("")},3500)}catch(n){console.error("Error updating employee details:",n),alert("Failed to update employee details.")}finally{ke(!1)}};r.exports.useEffect(()=>{const t=async()=>{var i;const n=localStorage.getItem("authToken");if(!n){console.error("User token is missing");return}try{const p=await B.get("https://bapi.reownlogics.com/api/department",{headers:{Authorization:`Bearer ${n}`}});console.log("API Response:",p.data),Array.isArray(p.data)?pe(p.data):(console.error("Unexpected API response format:",p.data),pe([]))}catch(p){console.error("Error fetching departments:",((i=p.response)==null?void 0:i.data)||p.message),pe([])}},s=async()=>{var i;const n=localStorage.getItem("authToken");if(!n){console.error("User token is missing");return}try{const p=await B.get("https://bapi.reownlogics.com/api/all-managers",{headers:{Authorization:`Bearer ${n}`}});console.log("API Response:",p.data),Re(p.data)}catch(p){console.error("Error fetching linemanager:",((i=p.response)==null?void 0:i.data)||p.message),Re([])}};t(),s()},[]),console.log("rolemanager",ie.data),console.log("apichecjin",(Sa=l==null?void 0:l.attendance_detail)==null?void 0:Sa.check_in),console.log("apichecjin",j((wa=l==null?void 0:l.attendance_detail)==null?void 0:wa.check_in)),console.log("hr",(Oa=(Ta=(La=a==null?void 0:a.request)==null?void 0:La[0])==null?void 0:Ta.user)==null?void 0:Oa.profile_picture);const _e=K?c==null?void 0:c.upcoming_requests:(Ia=c==null?void 0:c.upcoming_requests)==null?void 0:Ia.slice(0,2),qs=Ds((ka=l==null?void 0:l.attendance_detail)==null?void 0:ka.check_in,(Ba=l==null?void 0:l.attendance_detail)==null?void 0:Ba.check_out),ct=(Ma=(za=(Ca=a==null?void 0:a.request)==null?void 0:Ca[0])==null?void 0:za.onboarding_tasks)==null?void 0:Ma.reduce((t,s)=>{var n,i;if((n=s==null?void 0:s.task_data)!=null&&n.type){const p=(i=s==null?void 0:s.task_data)==null?void 0:i.type;t[p]||(t[p]=[]),t[p].push(s)}return t},{}),eo=t=>{He(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t])},dt=(ja=(Ea=(Ra=a==null?void 0:a.request)==null?void 0:Ra[0])==null?void 0:Ea.offboarding_tasks)==null?void 0:ja.reduce((t,s)=>{var n,i;if((n=s==null?void 0:s.task_data)!=null&&n.type){const p=(i=s==null?void 0:s.task_data)==null?void 0:i.type;t[p]||(t[p]=[]),t[p].push(s)}return t},{}),to=t=>{We(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t])};console.log("change",me);const ao=async()=>{var s,n,i,p;const t=localStorage.getItem("authToken");if(!t){console.error("User token is missing");return}try{Pe(!0);const x=await B.get(`https://bapi.reownlogics.com/api/update_onboarding_task?employee_id=${L}&onboarding_task_ids=${De}`,{headers:{Authorization:`Bearer ${t}`}});Ge((s=x==null?void 0:x.data)==null?void 0:s.message),He([]),await q(),setTimeout(()=>{Ge("")},3e3)}catch(x){console.error("Error on Board Tasks:",(n=x.response)==null?void 0:n.data.message),Ke((p=(i=x==null?void 0:x.response)==null?void 0:i.data)==null?void 0:p.message),setTimeout(()=>{Ke("")},3e3)}finally{Pe(!1)}},no=async()=>{var s,n,i,p;const t=localStorage.getItem("authToken");if(!t){console.error("User token is missing");return}try{Fe(!0);const x=await B.get(`https://bapi.reownlogics.com/api/update_offboarding_task?employee_id=${L}&offboarding_task_ids=${me}`,{headers:{Authorization:`Bearer ${t}`}});Ue((s=x==null?void 0:x.data)==null?void 0:s.message),We([]),await q(),setTimeout(()=>{Ue("")},3e3)}catch(x){console.error("Error fetching linemanager:",(n=x.response)==null?void 0:n.data.message),Xe((p=(i=x==null?void 0:x.response)==null?void 0:i.data)==null?void 0:p.message),setTimeout(()=>{Xe("")},3e3)}finally{Fe(!1)}};return o(ve,{children:[o("div",{className:"p-2 text-white d-flex align-items-center rounded-lg w-80",style:{backgroundColor:"#081438",borderRadius:"16px"},children:[e("img",{src:(Da=(Wa=(Aa=a==null?void 0:a.request)==null?void 0:Aa[0])==null?void 0:Wa.user)!=null&&Da.profile_picture?`${Co}/${a.request[0].user.profile_picture}`:po,alt:"Profile",className:" rounded-full border-4 border-white headImg",style:{borderRadius:"50%",marginRight:"20px",objectFit:"cover",objectPosition:"center"}}),e("h3",{className:"text-white headTitle",style:{fontWeight:"600"},children:`${qe((Fa=(Ha=a==null?void 0:a.request)==null?void 0:Ha[0])==null?void 0:Fa.middle_name)||""} ${qe(($a=(Pa=a==null?void 0:a.request)==null?void 0:Pa[0])==null?void 0:$a.last_name)||""}`.trim()})]}),e("br",{}),o(mo,{tabs:!0,children:[e(V,{className:"navbarItem",children:e(X,{className:"navbarLink",active:E==="1",onClick:()=>{U("1")},children:"Personal"})}),e(V,{className:"navbarItem",children:e(X,{className:"navbarLink",active:E==="2",onClick:()=>{U("2")},children:"Role"})}),e(V,{className:"navbarItem",children:e(X,{className:"navbarLink",active:E==="3",onClick:()=>{U("3")},children:"Onboarding"})}),e(V,{className:"navbarItem",children:e(X,{className:"navbarLink",active:E==="4",onClick:()=>{U("4")},children:"Time Off"})}),H==="hr"&&e(V,{className:"navbarItem",children:e(X,{className:"navbarLink",active:E==="5",onClick:()=>{U("5")},children:"Offboarding"})}),e(V,{className:"navbarItem",children:e(X,{className:"navbarLink",active:E==="6",onClick:()=>{U("6")},children:"Attendance"})})]}),o(ho,{className:"py-50",activeTab:E,children:[e(Z,{tabId:"1",children:o(z,{children:[e(O,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1",children:[o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((Va=(Ua=a==null?void 0:a.request)==null?void 0:Ua[0])==null?void 0:Va.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",ee((Za=(Xa=a==null?void 0:a.request)==null?void 0:Xa[0])==null?void 0:Za.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((Ka=(Ja=(Ga=a==null?void 0:a.request)==null?void 0:Ga[0])==null?void 0:Ja.department)==null?void 0:Ka.name)||"---"]})]})})}),o(O,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(v,{className:" bg-white",style:{borderRadius:"5px",padding:"15.5px 16px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("h4",{className:"mb-0 fw-semibold",children:"Personal"})})}),e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{children:[o(z,{children:[o(O,{lg:"4",md:"4",xs:"12",children:[e(g,{className:"personalLabel",children:"Family Name"}),e(h,{className:"personalInput",type:"text",name:"family_name",value:y.family_name,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Nationality"}),e(h,{className:"personalInput",type:"text",name:"nationality",value:y.nationality,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Religion"}),e(h,{className:"personalInput",type:"text",name:"religion",value:y.religion,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Qualification"}),e(h,{className:"personalInput",type:"text",name:"qualification",value:y.qualification,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"District"}),e(h,{className:"personalInput",type:"text",name:"district",value:y.district,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Zip Code"}),e(h,{className:"personalInput",type:"text",name:"zip_code",value:y.zip_code,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Home Country Address"}),e(h,{className:"personalInput",type:"text",name:"home_country_address",value:y.home_country_address,onChange:_,readOnly:!m})]}),o(O,{lg:"4",md:"4",xs:"12",children:[e(g,{className:"personalLabel",children:"First Name"}),e(h,{className:"personalInput",type:"text",name:"middle_name",value:y.middle_name,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Name in Arabic"}),e(h,{className:"personalInput",type:"text",name:"name_in_arabic",value:y.name_in_arabic,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Marital Status"}),e(h,{className:"personalInput",type:"text",name:"marital_status",value:y.marital_status,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Phone"}),e(h,{className:"personalInput",type:"text",name:"phone",value:y.phone,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Major"}),e(h,{className:"personalInput",type:"text",name:"major",value:y.major,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Street No"}),e(h,{className:"personalInput",type:"text",name:"street_no",value:y.street_no,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Additional Number"}),e(h,{className:"personalInput",type:"text",name:"additional_number",value:y.additional_number,onChange:_,readOnly:!m})]}),o(O,{lg:"4",md:"4",xs:"12",children:[e(g,{className:"personalLabel",children:"Last Name"}),e(h,{className:"personalInput",type:"text",name:"last_name",value:y.last_name,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Date of Birth"}),e(h,{className:"personalInput",type:"date",name:"date_of_birth",value:y.date_of_birth,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",for:"gender",children:"Gender"}),m?o(h,{className:"personalInput",type:"select",name:"gender",id:"gender",value:y.gender,onChange:_,disabled:!m,children:[e("option",{value:"",children:"Select Gender"}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]}):e(h,{className:"personalInput",type:"text",name:"gender",value:y.gender,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Email"}),e(h,{className:"personalInput",type:"email",name:"email",value:y.email,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"City"}),e(h,{className:"personalInput",type:"text",name:"city",value:y.city,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Building No"}),e(h,{className:"personalInput",type:"text",name:"building_no",value:y.building_no,onChange:_,readOnly:!m}),e(g,{className:"personalLabel",children:"Unit Number"}),e(h,{className:"personalInput",type:"text",name:"unit_number",value:y.unit_number,onChange:_,readOnly:!m})]}),o("div",{className:"px-1",children:[e(g,{className:"personalLabel",children:"Profile Picture"}),e(h,{className:"personalInput",type:"file",accept:".png,.jpg,.jpeg",onChange:Js})]}),ze&&e(G,{color:"warning",className:"mt-2 p-1",children:ze})]}),m&&e("div",{className:"w-100 text-center mt-1",children:e(gs,{onClick:Ys,disabled:Ie,children:Ie?"Updating ...":"Update"})})]})})]})]})}),e(Z,{tabId:"2",children:o(z,{children:[e(O,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1",children:[o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((Ya=(Qa=a==null?void 0:a.request)==null?void 0:Qa[0])==null?void 0:Ya.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",ee((en=(qa=a==null?void 0:a.request)==null?void 0:qa[0])==null?void 0:en.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((nn=(an=(tn=a==null?void 0:a.request)==null?void 0:tn[0])==null?void 0:an.department)==null?void 0:nn.name)||"---"]})]})})}),o(O,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(v,{className:"shadow-sm bg-white",style:{borderRadius:"5px",padding:"15.5px 16px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("h4",{className:"mb-0 fw-semibold",children:"Role"})})}),e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:(sn=a==null?void 0:a.request[0])!=null&&sn.employee_role?o(w,{children:[o(z,{children:[o(O,{sm:"4",children:[e(g,{className:"roleLabel",children:"Company"}),e(h,{className:"roleInput",type:"text",name:"company_name",value:T.company_name,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Position in Arabic"}),e(h,{className:"roleInput",type:"text",name:"position_arabic",value:T.position_arabic,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Years of Experience"}),e(h,{className:"roleInput",type:"text",name:"years_of_experience",value:T.years_of_experience,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",for:"lineManager",children:"Line Manager"}),o(h,{className:"roleInput",type:"select",id:"lineManager",name:"line_manager_id",value:T.line_manager_id,onChange:I,readOnly:!m,children:[e("option",{value:"",children:"Select Line Manager"}),(on=ie==null?void 0:ie.data)==null?void 0:on.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(g,{className:"roleLabel",children:"Project Name"}),e(h,{className:"roleInput",type:"text",name:"project_name",value:T.project_name,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Line Manager Email"}),e(h,{className:"roleInput",type:"text",name:"line_manager_email",value:T.line_manager_email,onChange:I,readOnly:!m})]}),o(O,{sm:"4",children:[e(g,{className:"roleLabel",for:"department",children:"Department"}),o(h,{className:"roleInput",type:"select",id:"department",name:"department_id",value:T.department_id,onChange:I,readOnly:!m,children:[e("option",{value:"",children:"Select Department"}),fs.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(g,{className:"roleLabel",children:"BONAFIDE ID"}),e(h,{className:"roleInput",type:"text",name:"bonafide_id",value:T.bonafide_id,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Grade"}),e(h,{className:"roleInput",type:"text",name:"grade",value:T.grade,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Employee Status"}),e(h,{className:"roleInput",type:"text",name:"employee_status",value:T.employee_status,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Employment Start Date"}),e(h,{className:"roleInput",type:"date",name:"employment_start_date",value:T.employment_start_date||"",onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Employee ID"}),e(h,{className:"roleInput",type:"text",value:((ln=(rn=a==null?void 0:a.request[0])==null?void 0:rn.employee_role)==null?void 0:ln.employee_id)||"",readOnly:!m})]}),o(O,{sm:"4",children:[e(g,{className:"roleLabel",children:"Position in English"}),e(h,{className:"roleInput",type:"text",name:"position_english",value:T.position_english,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"CV"}),e(h,{className:"roleInput",type:"file",accept:".pdf,.doc,.docx",onChange:Ks}),e(g,{className:"roleLabel",children:"Sub-Department"}),e(h,{className:"roleInput",type:"text",name:"sub_department",value:T.sub_department||"",onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Employment Type"}),e(h,{className:"roleInput",type:"text",name:"employment_type",value:T.employment_type,onChange:I,readOnly:!m}),e(g,{className:"roleLabel",children:"Probation Period End Date"}),e(h,{className:"roleInput",type:"date",name:"probation_period_end_date",value:T.probation_period_end_date,onChange:I,readOnly:!m}),se&&e("small",{className:"text-danger",children:se}),e(g,{className:"roleLabel",children:"Contract Duration (In Months)"}),e(h,{className:"roleInput",type:"number",name:"contract_duration",value:T.contract_duration,onChange:I,readOnly:!m})]}),Be&&e(G,{color:"success",className:"mt-2 p-1",children:Be}),oe&&e("small",{className:"text-danger",children:oe})]}),m&&e("div",{className:"w-100 text-center mt-1",children:e(gs,{onClick:Qs,disabled:le,children:le?"Updating ...":"Update"})})]}):e("div",{className:"p-1",children:"Role data is Empty"})})]})]})}),e(Z,{tabId:"4",children:o(z,{children:[e(O,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1",children:[o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((dn=(cn=a==null?void 0:a.request)==null?void 0:cn[0])==null?void 0:dn.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",ee((mn=(pn=a==null?void 0:a.request)==null?void 0:pn[0])==null?void 0:mn.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((un=(gn=(hn=a==null?void 0:a.request)==null?void 0:hn[0])==null?void 0:gn.department)==null?void 0:un.name)||"---"]})]})})}),o(O,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(v,{className:"shadow-sm bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{className:"",style:{padding:"15.5px 16px"},children:e("div",{className:"d-flex align-items-center justify-content-between",children:e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Time Off"})})})}),e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1 p-sm-2",children:[e("div",{ref:W,className:"d-flex  scroll-container",style:{gap:"12px",padding:"6px",cursor:"grab",overflow:"auto"},onMouseDown:Ms,onMouseMove:Rs,onMouseUp:et,onMouseLeave:et,children:Gs.map((t,s)=>e("div",{className:"p-0 timeOff-ep-cards",style:{minHeight:"153px"},children:e("div",{className:" bg-white  py-1 ",style:{boxShadow:" 0px 0px 6px 0px rgba(0, 0, 0, 0.25)",width:"100%",height:"100% ",borderRadius:"8px",paddingInline:"8px"},children:o("div",{className:" px-0",children:[o("div",{className:"d-flex justify-content-between align-item-center",children:[e("h5",{className:"",style:{fontSize:"18px",fontWeight:"700",color:"#253180"},children:t==null?void 0:t.name}),e("div",{className:"time-container",style:{position:"relative",display:"inline-block"},children:e("div",{className:"time-image",style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e("img",{src:t.imgSrc,alt:"icon",style:{width:"100%",height:"100%"}})})})]}),e("hr",{className:"",style:{marginTop:"5px",marginBottom:"5px"}}),e("p",{className:"m-0",style:{fontSize:"16px",fontWeight:"400"},children:t.available})]})})},s))}),o(z,{children:[o("div",{children:[e("h4",{className:" pt-1",style:{fontSize:"16px",color:"#253180",fontWeight:"bold",marginBottom:"5px"},children:" Upcoming Time Off"}),e("hr",{className:"mt-0"})]}),((xn=c==null?void 0:c.upcoming_requests)==null?void 0:xn.length)>0?o("div",{className:"custom-section",children:[_e==null?void 0:_e.map(t=>{var s,n,i,p;return o(v,{className:"custom-card bg-white",style:{marginBottom:"13px"},children:[o("div",{className:"d-flex justify-content-between align-items-center",children:[o(w,{className:"d-sm-flex justify-content-start align-item-center ",style:{padding:"13px",gap:"13px"},children:[e("div",{className:"first-col justify-content-center align-items-center",children:o("div",{className:"d-flex align-items-center",children:[e("div",{className:"image-container w-fit pe-1",children:((s=t==null?void 0:t.time_off)==null?void 0:s.name)==="Paid Leave"?e("img",{style:{width:"40px",height:"40px"},src:cs,className:""}):((n=t==null?void 0:t.time_off)==null?void 0:n.name)==="Sick Leave"?e("img",{style:{width:"40px",height:"40px"},src:ps,className:""}):((i=t==null?void 0:t.time_off)==null?void 0:i.name)==="Maternity Leave"?e("img",{style:{width:"40px",height:"40px"},src:ms,className:""}):((p=t==null?void 0:t.time_off)==null?void 0:p.name)==="Vocation Leave"?e("img",{style:{width:"40px",height:"40px"},src:ds,className:""}):null}),o("div",{children:[o("p",{className:"date mb-0 fw-medium",style:{minWidth:"90px"},children:[ot(t==null?void 0:t.start_date)," - ",ot(t==null?void 0:t.end_date)]}),o("p",{className:"hours mb-0 fw-light ",style:{fontSize:"11px"},children:[t==null?void 0:t.duration," Hours"]})]})]})}),e("div",{className:"second-col",children:e("p",{className:"text mb-0",style:{wordBreak:"break-word",overflowWrap:"break-word",fontWeight:"400"},children:t==null?void 0:t.reason})})]}),o("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{gap:"2px",minWidth:"91px"},children:[e("p",{className:"mb-0",style:{backgroundColor:t.status==="Approved"?"#3A974C":"#E32525",color:"white",padding:"1px 10px",width:"80px",borderRadius:"4px",display:"inline-block",textAlign:"center",borderRadius:"50px"},children:t==null?void 0:t.status}),(t==null?void 0:t.admin_comments)&&e("p",{className:"mb-0 p-0",onClick:()=>ue(t.admin_comments),style:{color:"skyblue",padding:"1px 10px",borderRadius:"4px",display:"inline-block",textAlign:"center",borderRadius:"50px",fontSize:"12px",textDecorationLine:"underline",cursor:"pointer"},children:"Rejected Reason"},t==null?void 0:t.id)]})]}),o(go,{backdropClassName:"transparent-backdrop",color:"transparent",isOpen:je,toggle:ue,centered:!0,children:[e(uo,{toggle:ue,children:e("h2",{className:"mb-0",style:{fontSize:"18px",fontWeight:"600"},children:"Rejection Reason"})}),e(xo,{children:_s||"No reason provided."})]})]},t==null?void 0:t.time_off_id)}),((fn=c==null?void 0:c.upcoming_requests)==null?void 0:fn.length)>2&&e("div",{className:"text-start",children:e("div",{className:"font-semibold cursor-pointer",style:{color:"#253180",fontWeight:"600"},onClick:()=>de(!K),children:K?"Show Less":"Show More"})})]}):e("div",{className:"ps-1",children:"No upcoming time-off requests."})]})]})})]})]})}),H==="hr"&&e(Z,{tabId:"5",children:o(z,{children:[e(O,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1",children:[o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((yn=(bn=a==null?void 0:a.request)==null?void 0:bn[0])==null?void 0:yn.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",ee((Nn=(_n=a==null?void 0:a.request)==null?void 0:_n[0])==null?void 0:Nn.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((wn=(Sn=(vn=a==null?void 0:a.request)==null?void 0:vn[0])==null?void 0:Sn.department)==null?void 0:wn.name)||"---"]})]})})}),o(O,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(v,{className:"bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{style:{padding:"5px 16px"},children:o("div",{className:"d-flex align-items-center justify-content-between",children:[e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Offboarding"}),J==="Employee Already Offboarded"?e(Bo,{children:"Employee Offboarded"}):e(Le,{onClick:lt,children:"OffBoarding"})]})})}),e(v,{className:" bg-white rounded",style:{padding:"16px 26px"},children:o("div",{className:"",children:[o("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e("h4",{className:" font-bold mb-0 me-1",style:{fontSize:"24px",fontWeight:"600",color:"#253180",lineHeight:"30px"},children:"Task"}),o(Le,{onClick:no,disabled:he,children:[" ",he?"OffBoarding Tasks ...":"OffBoard Tasks"]})]}),$e&&e(G,{color:"success",className:"mt-2 p-1",children:$e}),Ve&&e(G,{color:"danger",className:"mt-2 p-1",children:Ve}),J&&e("small",{style:{padding:"0px 5px"},children:J}),!Array.isArray((Tn=(Ln=a==null?void 0:a.request)==null?void 0:Ln[0])==null?void 0:Tn.offboarding_tasks)||((In=(On=a==null?void 0:a.request)==null?void 0:On[0])==null?void 0:In.offboarding_tasks.length)===0?"loading Offboarding Tasks ...":e("div",{children:((kn=Object==null?void 0:Object.keys(dt))==null?void 0:kn.length)===0?e("p",{className:"text-gray-500",children:"No tasks found."}):(Bn=Object==null?void 0:Object.entries(dt))==null?void 0:Bn.map(([t,s])=>o("div",{className:"border rounded-3 p-1 p-sm-2 mb-1",children:[e("h5",{className:"mb-0",style:{fontSize:"18px",fontWeight:"500",color:"#253180",lineHeight:"30px",paddingTop:"6px"},children:t}),e("div",{children:e(w,{className:"tasks-left-padding",children:s.map(n=>{var i,p,x,F;return o("div",{className:"d-flex align-items-center border-b",style:{padding:"4px 0px"},children:[e("input",{type:"checkbox",checked:(n==null?void 0:n.status)==="completed"||me.includes(n==null?void 0:n.offboarding_task_id),disabled:(n==null?void 0:n.status)==="completed",onChange:()=>to(n==null?void 0:n.offboarding_task_id),className:"",style:{marginRight:"8.5px"}}),o("p",{style:{fontSize:"12px",fontWeight:"300",padding:"3px 0px"},className:"mb-0",children:[(i=n==null?void 0:n.task_data)==null?void 0:i.name," ",(n==null?void 0:n.status)==="completed"?o(ve,{children:[o("span",{style:{fontSize:"10px",fontWeight:"300",color:"#214EA5"},className:"text-sm text-gray-500",children:[(F=(x=(p=a==null?void 0:a.request)==null?void 0:p[0])==null?void 0:x.employee_hired_by)==null?void 0:F.name," -"," "]}),e("span",{style:{fontSize:"10px",fontWeight:"300",color:"#ED8D8D"},className:"text-sm text-gray-500",children:rt(n==null?void 0:n.updated_at)})]}):""]})]},n==null?void 0:n.id)})})})]},t))})]})})]})]})}),H==="hr"&&e(Z,{tabId:"3",children:o(z,{children:[e(O,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1",children:[o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((zn=(Cn=a==null?void 0:a.request)==null?void 0:Cn[0])==null?void 0:zn.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",ee((Rn=(Mn=a==null?void 0:a.request)==null?void 0:Mn[0])==null?void 0:Rn.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((An=(jn=(En=a==null?void 0:a.request)==null?void 0:En[0])==null?void 0:jn.department)==null?void 0:An.name)||"---"]})]})})}),o(O,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(v,{className:"bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{style:{padding:"15.5px 16px"},children:e("div",{className:"d-flex align-items-center justify-content-between",children:e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Onboarding"})})})}),e(v,{className:" bg-white rounded",style:{padding:"16px 26px"},children:o("div",{className:"",children:[o("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e("h4",{className:" font-bold mb-0 me-1",style:{fontSize:"24px",fontWeight:"600",color:"#253180",lineHeight:"30px"},children:"Task"}),o(Le,{onClick:ao,disabled:Os,children:[" ",he?"OnBoarding Tasks ...":"OnBoard Tasks"]})]}),Ze&&e(G,{color:"success",className:"mt-2 p-1",children:Ze}),Je&&e(G,{color:"danger",className:"mt-2 p-1",children:Je}),$&&e("small",{style:{padding:"0px 5px"},children:$}),!Array.isArray((Dn=(Wn=a==null?void 0:a.request)==null?void 0:Wn[0])==null?void 0:Dn.onboarding_tasks)||((Fn=(Hn=a==null?void 0:a.request)==null?void 0:Hn[0])==null?void 0:Fn.onboarding_tasks.length)===0?"loading Onboarding Tasks ...":e("div",{children:((Pn=Object==null?void 0:Object.keys(ct))==null?void 0:Pn.length)===0?e("p",{className:"text-gray-500",children:"No tasks found."}):($n=Object==null?void 0:Object.entries(ct))==null?void 0:$n.map(([t,s])=>o("div",{className:"border rounded-3 p-1 p-sm-2 mb-1",children:[e("h5",{className:"mb-0",style:{fontSize:"18px",fontWeight:"500",color:"#253180",lineHeight:"30px",paddingTop:"6px"},children:t}),e("div",{children:e(w,{className:"tasks-left-padding",children:s.map(n=>{var i,p,x,F;return o("div",{className:"d-flex align-items-center border-b",style:{padding:"4px 0px"},children:[e("input",{type:"checkbox",checked:(n==null?void 0:n.status)==="completed"||De.includes(n==null?void 0:n.onboarding_task_id),disabled:(n==null?void 0:n.status)==="completed",onChange:()=>eo(n==null?void 0:n.onboarding_task_id),className:"",style:{marginRight:"8.5px"}}),o("p",{style:{fontSize:"12px",fontWeight:"300",padding:"3px 0px"},className:"mb-0",children:[(i=n==null?void 0:n.task_data)==null?void 0:i.name," ",(n==null?void 0:n.status)==="completed"?o(ve,{children:[o("span",{style:{fontSize:"10px",fontWeight:"300",color:"#214EA5"},className:"text-sm text-gray-500",children:[(F=(x=(p=a==null?void 0:a.request)==null?void 0:p[0])==null?void 0:x.employee_hired_by)==null?void 0:F.name," -"," "]}),e("span",{style:{fontSize:"10px",fontWeight:"300",color:"#ED8D8D"},className:"text-sm text-gray-500",children:rt(n==null?void 0:n.updated_at)})]}):""]})]},n==null?void 0:n.id)})})})]},t))})]})})]})]})}),e(Z,{tabId:"6",children:o(z,{children:[e(O,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(v,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"bg-white",style:{borderRadius:"8px",padding:"16px 11px"},children:[e(v,{className:" bg-white rounded-0 mb-0",style:{borderBottom:"1px solid #B3B3BF",paddingBottom:"20px"},children:o(w,{className:"bg-white p-0",children:[l!=null&&l.attendance_detail?o("div",{children:[e("h5",{style:{fontSize:"18px",fontWeight:"700",lineHeight:"21px"},children:"Employee Status"}),o("div",{className:"flex justify-between items-center mt-1",children:[o("div",{className:"d-flex justify-content-between",children:[e("p",{variant:"h6",className:"mb-0",style:{fontSize:"13px",fontWeight:"600",lineHeight:"16px"},children:(Un=l==null?void 0:l.workSchedule)==null?void 0:Un.day}),o("p",{className:" mb-0",style:{fontSize:"13px",fontWeight:"600",lineHeight:"16px"},children:[" ",qs," ",e("span",{style:{fontSize:"13px",fontWeight:"400"},children:"hrs"})]})]}),e("p",{variant:"h6",fontWeight:"bold",style:{marginTop:"4px",fontSize:"10px",fontWeight:"500",color:"#737373"},className:"",children:st((Vn=l==null?void 0:l.attendance_detail)==null?void 0:Vn.check_in)})]}),e(xs,{value:70,className:"h-2",style:{marginTop:"6px"}}),o("div",{className:"d-flex justify-content-between align-item-center gap-1",style:{marginTop:"4px"},children:[o("p",{variant:"body2",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},className:"mb-0",children:["Check-In:",j((Xn=l==null?void 0:l.attendance_detail)==null?void 0:Xn.check_in)]}),((Zn=l==null?void 0:l.attendance_detail)==null?void 0:Zn.check_out)&&o("p",{variant:"body2",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:["Check-Out:",j((Gn=l==null?void 0:l.attendance_detail)==null?void 0:Gn.check_out)]})]}),o("div",{className:"d-flex justify-content-center align-item-center gap-1 my-1",children:[e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:nt((Jn=l==null?void 0:l.workSchedule)==null?void 0:Jn.check_in)})," -",e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:nt((Kn=l==null?void 0:l.workSchedule)==null?void 0:Kn.check_out)})]})]}):"Not checked in yet Today",e("div",{className:"d-flex justify-content-between flex-wrap flex-lg-nowrap",style:{gap:"3px"},children:(l==null?void 0:l.attendance_detail)&&e(us,{variant:"contained",fullWidth:!0,className:"",children:"Edit the Shift"})})]})}),l!=null&&l.attendance_detail?o("div",{className:"location-container text-start",children:[e("h2",{style:{marginTop:"21px",fontSize:"13px",fontWeight:"600"},children:"Location"}),e("div",{className:"map-container mt-1",style:{borderRadius:"5px"},children:e("iframe",{width:"100%",style:{borderRadius:"5px"},height:"170",frameBorder:"0",src:`https://www.google.com/maps?q=${(Qn=l==null?void 0:l.attendance_detail)==null?void 0:Qn.lat},${(Yn=l==null?void 0:l.attendance_detail)==null?void 0:Yn.lng}&hl=es;z=14&output=embed`,allowFullScreen:!0})}),o("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-2",children:[o("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:[" ",st((qn=l==null?void 0:l.attendance_detail)==null?void 0:qn.check_in)]}),e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:j((es=l==null?void 0:l.attendance_detail)==null?void 0:es.check_in)})]}),e(us,{onClick:()=>{var n,i;const t=((n=l==null?void 0:l.attendance_detail)==null?void 0:n.lat)||"null",s=((i=l==null?void 0:l.attendance_detail)==null?void 0:i.lng)||"null";window.open(`https://www.google.com/maps?q=${t},${s}&z=14`,"_blank")},color:"primary",className:"",children:"Expand the Location"})]}):null]})})}),o(O,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(v,{className:"shadow-sm bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{className:"",style:{padding:"15.5px 16px"},children:e("div",{className:"d-flex align-items-center justify-content-between",children:e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Attendance"})})})}),o(v,{children:[e(v,{className:" ",style:{borderRadius:"8px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("div",{ref:D,className:" d-flex align-items-center gap-1 scroll-container",style:{overflow:"auto",scrollbarColor:"transparent"},onMouseDown:Es,onMouseMove:js,onMouseUp:tt,onMouseLeave:tt,children:Fs.map(t=>{var s,n,i;return e("div",{style:{padding:"0 "},children:o("div",{className:"p-1  text-center bg-white attendence-ep-cards",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[o("div",{className:"d-flex justify-content-between align-items-center gap-1",children:[o("div",{className:"icon-box d-flex justify-content-center align-items-center",style:{backgroundColor:`${t.color}`,padding:"10px",borderRadius:"40px"},children:[e("img",{style:{width:"24px",height:"24px"},src:t.icon})," "]}),o("div",{className:"icon-box d-flex justify-content-center align-items-center",children:[e("img",{style:{width:"24px",height:"24px"},src:vo})," "]})]}),e("div",{className:"d-flex justify-content-start",children:e("h6",{className:"mt-1 ",children:t.title})}),o("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[o("h3",{children:[t.percentage,o("span",{className:"",style:{fontSize:"13px"},children:[t.id===1&&"%",t.id===2&&(((s=u==null?void 0:u.attendance)==null?void 0:s.present)===1?" Day":" Days"),t.id===3&&(((n=u==null?void 0:u.attendance)==null?void 0:n.absent)===1?" Day":" Days"),t.id===4&&(((i=u==null?void 0:u.attendance)==null?void 0:i.late)===1?" Hour":" Hours")]})]}),e("span",{className:"small-percentage",style:{color:`${t.textColor}`,backgroundColor:`${t.color}`,fontSize:"12px",padding:"8px 17px",borderRadius:"20px"},children:t.smallPercentage})]})]})},t.id)})})})}),e(v,{className:"border-none bg-white",style:{borderRadius:"16px"},children:e(w,{className:"p-0",children:o("div",{className:"  ",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[e(fo,{columns:Us,data:Vs,pagination:!1,highlightOnHover:!0,border:!0,className:"custom-attendence-table"}),((as=(ts=u==null?void 0:u.attendance)==null?void 0:ts.attendance_detail)==null?void 0:as.length)>0?o("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderTop:"1px solid rgba(0, 0, 0, 0.2)"},children:[e(is,{onClick:Xs,disabled:R===1,style:{marginRight:"10px",borderRadius:"20px"},children:"Previous"}),e(is,{onClick:Zs,style:{borderRadius:"20px"},disabled:R===it,children:"Next"})]}):null]})})})]})]})]})}),e(So,{employeeId:L,fetchEmployeeAttendence:fe,fetchCurrentDaySummary:xe,time:j((ns=l==null?void 0:l.attendance_detail)==null?void 0:ns.check_out),setCheckOutModal:b,checkOutModal:f}),e(wo,{employeeId:L,fetchEmployeeAttendence:fe,fetchCurrentDaySummary:xe,time:j((ss=l==null?void 0:l.attendance_detail)==null?void 0:ss.check_in),checkInModal:d,setCheckInModal:S})]})]})};export{Wo as default};
