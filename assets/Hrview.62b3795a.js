import{a as ae,j as e,t as eo,p as Dn,m as to,v as o,F as Jn,r as l,a6 as ao,ab as no,B as Fn,M as R}from"./index.b5bd9156.js";import{q as so,r as oo,c as A,C as _,b as w,s as W,S as lo,p as ro,N as io,i as J,j as G,k as co,l as V,R as B,L as p,h as d,A as Tn,D as po,t as mo,M as Pn,m as jn,n as Un,o as ho,v as uo,w as go,X as fo}from"./App.6937329a.js";import{e as xo,a as bo,b as yo,l as No,p as zn,v as Wn,s as Hn,f as On,t as $n,C as _o,c as vo}from"./more-vertical.5e449fec.js";import{e as wo,d as So}from"./delete.bc8c3c16.js";import{f as be}from"./format.c2bfa3ae.js";import"./FormGroup.63b92d8a.js";import"./en-US.128dcaf8.js";var Ao={placement:"right",placementPrefix:"bs-popover",trigger:"click",offset:[0,8]};function ye(g){var k=ae("popover-arrow",g.arrowClassName),S=ae("popover","show",g.popperClassName),y=ae("popover-inner",g.innerClassName);return e(so,{...g,arrowClassName:k,popperClassName:S,innerClassName:y})}ye.propTypes=oo;ye.defaultProps=Ao;var ko=["className","cssModule","tag"];function Io(g,k){if(g==null)return{};var S=Co(g,k),y,a;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);for(a=0;a<M.length;a++)y=M[a],!(k.indexOf(y)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,y)||(S[y]=g[y]))}return S}function Co(g,k){if(g==null)return{};var S={},y=Object.keys(g),a,M;for(M=0;M<y.length;M++)a=y[M],!(k.indexOf(a)>=0)&&(S[a]=g[a]);return S}var Lo={tag:eo,className:Dn.exports.string,cssModule:Dn.exports.object};function Gn(g){var k=g.className,S=g.cssModule,y=g.tag,a=y===void 0?"div":y,M=Io(g,ko),i=to(ae(k,"popover-body"),S);return e(a,{...M,className:i})}Gn.propTypes=Lo;const Mo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOKSURBVHgBzVlbUuJAFG0iPqq0arKDCX5Y+iWsQNzBzApkVgCzAEv8UD/VFRhX4OxAZgUwVVapfEDYQb54P+ac2KG6GJBOhwFOVdN5NLknp7tv375JCEO8vr5mE4lEGuUEp2kUWxbCR/FYhsPhH9Slo6OjkjBAIkrjcrls7+3t5WG0AGIVGkddQl1pt9t+JpPxw3a7u7vOaDRiycqXsNl2MBhcgqyna1OLoDR4AWM5kLnHJTeKEQKKO6iKlmWdRCE6l2C1Ws2DWJHEoNJdqJIpJNEciJ7hmSTpClOA3O37+3sddVosGCQqn337WbupCsoufUI3NKBaIa5qs1Cv1+1ut/uAQ6fZbJ5q28GblfGGrlgSYM+Fks9ajWW3PoklQ5L8p7st9QSq5TAhvkHuH2LJ2NraKtD229tbQb2eUMg5mFnPmFmnUV3IosDJCJLPECgVjsexghsbGxcg97gqcsTBwQGd/z19bngtIEj16PFx6IoVY2dn544LAj0JzwOCVE98rJeeiIGrq6sRi4iBVCrlU0UQLYwJUj16dbE+cDEf8jywGJWg9lc59iZBLgxGyI0KZqHgb7FmkJFSGkpaxzgpiTUDIx5UgYIOCHrCEJgUaZN788AYEySPA4K9Xs8TBri5ueHsL19fX59N3pPXyrJNZGAW01HbJGibRiv9fj9YiTCGXZUkj3lNbRMVdDchQWOcn58XQ/cUElKPeY9tRAyQoB967bgkVcQlx1iR3AKCXwARA5MkF6Ec5oWDyiNB7sgyun+ctZyFJGeRi7oMyh1hI0knDV+YxbVfIibiqqaCyy9KxQp+4KzFmkHupUtJ7vgZ4tdqta/7+/sNjf8G098wavF0GsmtqU1ugZtheNPpdHTD/J+6hibAF9OKmMLwj8eBE5Xbv7oaaq8Kk1uPQEF6bYzFxzBIXCWSySRXpHHwPF5Jtre3mTfJv7y8LDyLoAuqB+Vyqk8dE5QqXm5ubj7FWVlMQZuyaz9PKmFfeoft34NYMuhJaFurMdMQyyRJW0y3TLs3NZpBN39Hd6f5Vv+zu/lsKUSQPBJRQcmZIpOOc6FgFoHPntetc4NJ5msweC9QXASfsTMPahqZk/Lw8DAeQUnSEQbp28ln0MdJYo+tVquosyhECsdVoqh9kmU0xD0Ni5pEh9On2xh/BeCYNkkjG+0XJNms4LbwIxJyZFE/Q7BU+AKMmEw/Q/wFnzOJj0neFD4AAAAASUVORK5CYII=",Eo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL3SURBVHgBtZZLaBNBGMf/M7ubxE3aPFofCEEUeig+2pqgoFIP0mr1IAU9KEIVL15U8CCCICge7EEvgifxKmIPgrUVLXoSqZUohYogWk8K2ubRNo9ukh2/3aRpEzdt0yT/MDA7O9nfN/P999thsNDkZMQjKcm/YExGBQqNT4wfP3KogzGml5vDLQflxJdKYYaEwK6nz1/9FEJIqARIsmGNsimyn6CT5aAcdZABHRi0htYFaEiRrVdaUyCZpejaantrCgy27YCmadB1vdAkifmfPBsuQCt24nLShY79ewOYS6QwG09BLN7yU/NQm655DrPZLBx2BapDoQh0iHxbUF1MY2TSqTqo2cFK7tV0S62ghuKJ+foDS6HLAoXNIcAEqkExbd54T/6DFrY4fKBFcNVl9rnEdCZYFfkVmO88jETfpcKIf/OmZnpPp80Vio9vm2f6b5kR5aaDV7M+Q0roPXD2slnRl8oEzpbOJrBIJnLddWruT4a1F+wty4V5SKeXPG1lS1jOkHcGoF7vN/vZH98wd+UcXHcfQtraYlCgvRlC8sEdCsaFxsevKSAKhDIQPRoEb/QsC7TME1NVpB7dR6wnCP3Pb0hbtoE3rUf0YCti3R2EFLCf6ANTFGRCo4h2t9N4O7jHh5VU1hhMdZrRym1BiPBUbszjBWtqRuLeTdiPnSSsgLx7D9zDIbiHxiBSSaykspuudHZBamlF4vZViEw+T2kNgnJm7z2DzOdRw/zIfPqA+LULFDoHc3uxJqCgeqiNDEJ7MZAfINNIirkS8zIaRuxUN/iGjRQZlS9vE1YrS2Bm7F3OkTy/4+TGmdNdtMKM+eayBje4m8yhpRG/cRHMZkdFwAb6zZTe4cXpZfmiUCRyZ1mYrpcHIhAI05fyJV/nNGtQ3OXeR/lZ80GKUSC/es/DJ4Q1MH+O7FkYnPj6fYpJfPWJKZGB8ZUU7SJgqVy0UMbrc76yfCp9KtKorUQkEsmUBXobnduFQLX1e5Em9BGfzxcz+v8A80ECngwQCFUAAAAASUVORK5CYII=",ee=({HireDate:g,department:k,email:S,UserRole:y})=>e(A,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(_,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1",children:[o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",S||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",g||"---"]}),y!=="employee"&&o(Jn,{children:[e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),o("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",k||"---"]})]})]})})}),te=W.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px !important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;
  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Ro=W.button`
  background-color: transparent !important;
  padding: 8px;
  width:115px;
  border: 1px solid #BFBFBF;
  border-radius:10px!important;
  color: #BFBFBF;
  cursor: pointer;
  transition: background-color 0.3s;

       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Bo=W.button`
  background-color: #0C1539 !important;
  padding: 8px;
  width:115px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;W.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;const Qn=W.button`
  background-color: #0C1539 !important;
  padding: 10px;
  width:100%;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
  border: none; 

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
`,Do=W.button`
  background-color: white !important;
  padding: 10px;
  width:100%;
  border-radius: 10px!important;
  color: #BFBFBF;
  cursor: pointer;
  transition: background-color 0.3s;
  border: 1px solid #BFBFBF !important;

  &:hover {
    background-color: white !important; /* Lighter shade on hover */
  }
`,Fo="https://bapi.reownlogics.com",Ko=()=>{var tt,at,nt,st,ot,lt,rt,it,ct,dt,pt,mt,ht,ut,gt,ft,xt,bt,yt,Nt,_t,vt,wt,St,At,kt,It,Ct,Lt,Mt,Et,Rt,Bt,Dt,Ft,Tt,Pt,jt,Ut,zt,Wt,Ht,Ot,$t,Qt,Jt,Gt,Vt,Kt,Yt,Xt,Zt,qt,ea,ta,aa,na,sa,oa,la,ra,ia,ca,da,pa,ma,ha,ua,ga,fa,xa,ba,ya,Na,_a,va,wa,Sa,Aa,ka,Ia,Ca,La,Ma,Ea,Ra,Ba,Da,Fa,Ta,Pa,ja,Ua,za,Wa,Ha,Oa,$a,Qa,Ja,Ga,Va,Ka,Ya,Xa,Za,qa,en,tn,an,nn,sn,on,ln,rn,cn,dn,pn,mn,hn,un,gn,fn,xn,bn,yn,Nn,_n,vn,wn,Sn,An,kn,In;l.exports.useState([]),l.exports.useState("");const[g,k]=l.exports.useState(!1),[S,y]=l.exports.useState(!1);l.exports.useState(!1);const[a,M]=l.exports.useState(null),[i,Vn]=l.exports.useState([]),[To,K]=l.exports.useState(!0),[Po,Y]=l.exports.useState(""),[Kn,jo]=l.exports.useState("");l.exports.useState(!1);const{id:Yn}=ao();l.exports.useState(40.7128),l.exports.useState(-74.006),l.exports.useState("");const[h,Xn]=l.exports.useState([]);l.exports.useState([]);const[s,Zn]=l.exports.useState([]),[qn,es]=l.exports.useState(!1);l.exports.useState(null),l.exports.useState(null),l.exports.useState(null);const[Ne,ts]=l.exports.useState(!1),[as,_e]=l.exports.useState(!1),[ns,ss]=l.exports.useState(null),[ne,os]=l.exports.useState(!1),[ls,Uo]=l.exports.useState({}),[ve,we]=l.exports.useState(""),[Se,Ae]=l.exports.useState(""),[ke,Ie]=l.exports.useState(!1),[Ce,Le]=l.exports.useState(!1),[Me,Ee]=l.exports.useState(!1),[se,Re]=l.exports.useState(!1),[rs,oe]=l.exports.useState([]),[X,Be]=l.exports.useState([]);l.exports.useState(""),l.exports.useState(null);const[zo,is]=l.exports.useState(!1),[H,T]=l.exports.useState(null),[cs,O]=l.exports.useState(!1),[De,Fe]=l.exports.useState(null),[Te,Pe]=l.exports.useState(!1),[je,ds]=l.exports.useState(!1),[ps,ms]=l.exports.useState(""),[hs,Ue]=l.exports.useState(0),[us,ze]=l.exports.useState(!1),[gs,We]=l.exports.useState(!1),[fs,xs]=l.exports.useState(0),[bs,ys]=l.exports.useState(0),P=l.exports.useRef(null),He=t=>t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"",[Ns,Oe]=l.exports.useState(!1),[_s,vs]=l.exports.useState(0),[ws,Ss]=l.exports.useState(0),j=l.exports.useRef(null),[D,$e]=l.exports.useState(1),le=10;l.exports.useEffect(()=>{ze(!0)},[]);const As=t=>{t.preventDefault(),We(!0),xs(t.pageX-P.current.offsetLeft),ys(P.current.scrollLeft),P.current.style.cursor="grabbing"},ks=t=>{if(!gs)return;t.preventDefault();const r=(t.pageX-P.current.offsetLeft-fs)*2;P.current.scrollLeft=bs-r},Qe=()=>{We(!1),P.current.style.cursor="grab"},Is=t=>{t.preventDefault(),Oe(!0),vs(t.pageX-j.current.offsetLeft),Ss(j.current.scrollLeft),j.current.style.cursor="grabbing"},Cs=t=>{if(!Ns)return;t.preventDefault();const r=(t.pageX-j.current.offsetLeft-_s)*2;j.current.scrollLeft=ws-r},Je=()=>{Oe(!1),j.current.style.cursor="grab"},re=t=>{typeof t=="string"&&ms(t),ds(!je)},ie=l.exports.useRef(null);l.exports.useEffect(()=>{const t=n=>{ie.current&&!ie.current.contains(n.target)&&!n.target.closest(".action-icon")&&T(null)};return H!==null&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[H]);const Ge=(t,n)=>{is(r=>({...r,[t]:n}))},E=localStorage.getItem("user_role")||"",v=localStorage.getItem("employee_id")||"";console.log("UserRole",E),console.log("employee_id",v),console.log("first",Yn);const U=async()=>{try{const t=localStorage.getItem("authToken"),n=await R.get(`https://bapi.reownlogics.com/api/employees/${v}`,{headers:{Authorization:`Bearer ${t}`}});M(n.data),console.log("emp",n.data)}catch{Y("Failed to fetch employee details")}finally{K(!1),ze(!1)}};l.exports.useEffect(()=>{U()},[]);const Ls=[{task:"Task 1",updatedBy:"John Doe",date:"2025-01-30"},{task:"Task 2",updatedBy:"Jane Smith",date:"2025-01-29"},{task:"Task 3",updatedBy:"Alex Brown",date:"2025-01-28"}],[Ms]=no(),ce=Ms.get("tab")||"1",[z,Ve]=l.exports.useState(ce);l.exports.useEffect(()=>{Ve(ce)},[ce]);const $=t=>{Ve(t)},Es=(t,n)=>{const[r,c]=l.exports.useState("");return l.exports.useEffect(()=>{if(!t)return;const m=()=>{const I=new Date(t),L=n?new Date(n):new Date,Q=Math.floor((L-I)/1e3),q=Math.floor(Q/3600),ge=Math.floor(Q%3600/60),fe=Q%60;c(`${q.toString().padStart(2,"0")}:${ge.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`)};if(n){m();return}const C=setInterval(m,1e3);return()=>clearInterval(C)},[t,n]),r},Ke=()=>ts(!Ne),Rs=t=>{ss(t),_e(!0),T(null)},F=t=>{if(!t)return"Invalid Date";let n;t.includes("T")?n=new Date(t):n=new Date(t.replace(" ","T")+"Z");let r=n.getUTCHours(),c=n.getUTCMinutes(),m=r>=12?"PM":"AM";return r=r%12||12,`${r}:${c.toString().padStart(2,"0")} ${m}`},Ye=t=>{if(!t)return"Invalid Time";const[n,r]=t.split(":").map(Number);if(isNaN(n)||isNaN(r))return"Invalid Time";const c=n>=12?"PM":"AM";return`${n%12||12}:${r.toString().padStart(2,"0")} ${c}`},Xe=t=>{const n=new Date(t),r={weekday:"short",year:"numeric",month:"numeric",day:"numeric"};return n.toLocaleDateString("en-US",r)},Ze=t=>{if(!t)return"";const n={month:"short",day:"numeric"};return new Date(t).toLocaleDateString("en-US",n)},Bs=async()=>{try{const t=localStorage.getItem("authToken"),n=await R.get(`https://bapi.reownlogics.com/api/employee/time-offs/${v}`,{headers:{Authorization:`Bearer ${t}`}});Vn(n.data),console.log("timeoff",n.data)}catch{Y("Failed to fetch timeoff details")}finally{K(!1)}},de=async()=>{try{const t=localStorage.getItem("authToken"),n=await R.get(`https://bapi.reownlogics.com/api/current-day-attendance-summary/${v}`,{headers:{Authorization:`Bearer ${t}`}});Zn(n.data),console.log("fetchCurrentDaySummary",n.data)}catch{Y("Failed to fetch timeoff details")}finally{K(!1)}},pe=async()=>{const t=be(new Date,"yyyy-MM");try{const n=localStorage.getItem("authToken"),r=await R.get(`https://bapi.reownlogics.com/api/attendance-summary/${v}?month=${t}`,{headers:{Authorization:`Bearer ${n}`}});Xn(r.data),console.log("attendence",r.data)}catch{Y("Failed to fetch employee details")}finally{K(!1)}};l.exports.useEffect(()=>{console.log("messagee",Kn),pe(),Bs(),de()},[]);const Ds=[{id:1,icon:xo,title:"Attendance %",percentage:(tt=h==null?void 0:h.attendance)==null?void 0:tt.attendance_percentage,smallPercentage:"+2%",color:"#E5FFF1",textColor:"#00AE4E"},{id:2,icon:bo,title:"Attendance",percentage:(at=h==null?void 0:h.attendance)==null?void 0:at.present,smallPercentage:"-1%",color:"#FFDFF6",textColor:"#F83C3F"},{id:3,icon:yo,title:"Absents",percentage:(nt=h==null?void 0:h.attendance)==null?void 0:nt.absent,smallPercentage:"+3%",color:"#DDFFE7",textColor:"#00AE4E"},{id:4,icon:No,title:"Late",percentage:((st=h==null?void 0:h.attendance)==null?void 0:st.totalLateHours)!==void 0?Math.round(Number(h.attendance.totalLateHours)):0,smallPercentage:"-2%",color:"#FFEBEA",textColor:"#F83C3F"}],Fs=t=>{if(!t)return"0hrs 0mins";const n=Math.abs(Math.round(parseFloat(t)*60)),r=Math.floor(n/60),c=n%60;return`${r}hrs ${c}mins`},Ts=((lt=(ot=h==null?void 0:h.attendance)==null?void 0:ot.attendance_detail)==null?void 0:lt.map(t=>{const n=t.attendance_date?be(new Date(t.attendance_date),"dd/MM/yyyy"):"N/A",r=t.check_in?F(t.check_in):"N/A",c=t.check_out?F(t.check_out):"N/A",m=Fs(t.working_hours)||0;return{day:t.attendance_date?be(new Date(t.attendance_date),"EEEE"):"N/A",date:n,shift:t.working_shift||"N/A",checkIn:r,checkOut:c||"N/A",hours:m}}))||[],Ps=[{name:"Day",selector:t=>t.day,sortable:!0},{name:"Date",selector:t=>t.date,sortable:!0},{name:"Shift",selector:t=>t.shift,sortable:!0},{name:"Check-In",selector:t=>t.checkIn,sortable:!0},{name:"Check-Out",selector:t=>t.checkOut,sortable:!0},{name:"Total Working Hour",selector:t=>t.hours,sortable:!0}],qe=Math.ceil(Ls.length/le),js=Ts.slice((D-1)*le,D*le),Us=()=>{D>1&&$e(D-1)},zs=()=>{D<qe&&$e(D+1)},Ws=[{name:(it=(rt=i==null?void 0:i.time_off_summary)==null?void 0:rt[0])==null?void 0:it.name,available:`${(dt=(ct=i==null?void 0:i.time_off_summary)==null?void 0:ct[0])==null?void 0:dt.name} available: ${(mt=(pt=i==null?void 0:i.time_off_summary)==null?void 0:pt[0])==null?void 0:mt.available}`,imgSrc:zn},{name:(ut=(ht=i==null?void 0:i.time_off_summary)==null?void 0:ht[1])==null?void 0:ut.name,available:`${(ft=(gt=i==null?void 0:i.time_off_summary)==null?void 0:gt[1])==null?void 0:ft.name} available: ${(bt=(xt=i==null?void 0:i.time_off_summary)==null?void 0:xt[1])==null?void 0:bt.available}`,imgSrc:Wn},{name:(Nt=(yt=i==null?void 0:i.time_off_summary)==null?void 0:yt[2])==null?void 0:Nt.name,available:`${(vt=(_t=i==null?void 0:i.time_off_summary)==null?void 0:_t[2])==null?void 0:vt.name} available: ${(St=(wt=i==null?void 0:i.time_off_summary)==null?void 0:wt[2])==null?void 0:St.available}`,imgSrc:Hn},{name:(kt=(At=i==null?void 0:i.time_off_summary)==null?void 0:At[3])==null?void 0:kt.name,available:`${(Ct=(It=i==null?void 0:i.time_off_summary)==null?void 0:It[3])==null?void 0:Ct.name} available: ${(Mt=(Lt=i==null?void 0:i.time_off_summary)==null?void 0:Lt[3])==null?void 0:Mt.available}`,imgSrc:On}],Hs=t=>{if(!t)return"N/A";const n={year:"numeric",month:"short",day:"2-digit"};return new Date(t).toLocaleDateString("en-US",n)};function Z(t){if(!t)return"N/A";const n=new Date(t);return isNaN(n.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit",year:"numeric"}).format(n)}const Os=t=>{Fe(t),O(!0)},$s=async()=>{if(!De)return;const t=localStorage.getItem("authToken");try{Pe(!0);const n=await R.delete(`https://bapi.reownlogics.com/api/employee_document_delete/${De}`,{headers:{Authorization:`Bearer ${t}`}});await U()}catch(n){console.error("Error deleting document:",n),alert("Error deleting document. Please try again.")}finally{O(!1),Fe(null),T(null),Pe(!1)}},x=E==="hr",[b,me]=l.exports.useState({company_name:((Rt=(Et=a==null?void 0:a.request[0])==null?void 0:Et.employee_role)==null?void 0:Rt.company_name)||"",position_arabic:((Dt=(Bt=a==null?void 0:a.request[0])==null?void 0:Bt.employee_role)==null?void 0:Dt.position_arabic)||"",years_of_experience:((Tt=(Ft=a==null?void 0:a.request[0])==null?void 0:Ft.employee_role)==null?void 0:Tt.years_of_experience)||"",project_name:((jt=(Pt=a==null?void 0:a.request[0])==null?void 0:Pt.employee_role)==null?void 0:jt.project_name)||"",line_manager_id:((zt=(Ut=a==null?void 0:a.request[0])==null?void 0:Ut.employee_role)==null?void 0:zt.line_manager_id)||"",line_manager_email:((Ht=(Wt=a==null?void 0:a.request[0])==null?void 0:Wt.employee_role)==null?void 0:Ht.line_manager_email)||"",department_id:(($t=(Ot=a==null?void 0:a.request[0])==null?void 0:Ot.employee_role)==null?void 0:$t.department_id)||"",bonafide_id:((Jt=(Qt=a==null?void 0:a.request[0])==null?void 0:Qt.employee_role)==null?void 0:Jt.bonafide_id)||"",grade:((Vt=(Gt=a==null?void 0:a.request[0])==null?void 0:Gt.employee_role)==null?void 0:Vt.grade)||"",employee_status:((Yt=(Kt=a==null?void 0:a.request[0])==null?void 0:Kt.employee_role)==null?void 0:Yt.employee_status)||"",employment_start_date:((Zt=(Xt=a==null?void 0:a.request[0])==null?void 0:Xt.employee_role)==null?void 0:Zt.employment_start_date)||"",employee_id:v||"",position_english:((ea=(qt=a==null?void 0:a.request[0])==null?void 0:qt.employee_role)==null?void 0:ea.position_english)||"",sub_department:((aa=(ta=a==null?void 0:a.request[0])==null?void 0:ta.employee_role)==null?void 0:aa.sub_department)||"",employment_type:((sa=(na=a==null?void 0:a.request[0])==null?void 0:na.employee_role)==null?void 0:sa.employment_type)||"",probation_period_end_date:((la=(oa=a==null?void 0:a.request[0])==null?void 0:oa.employee_role)==null?void 0:la.probation_period_end_date)||"",contract_duration:((ia=(ra=a==null?void 0:a.request[0])==null?void 0:ra.employee_role)==null?void 0:ia.contract_duration)||"",id:((da=(ca=a==null?void 0:a.request[0])==null?void 0:ca.employee_role)==null?void 0:da.id)||"",cv:""}),Qs=t=>{const n=t.target.files[0]||null;me(r=>({...r,cv:n}))},Js=t=>{const n=t.target.files[0]||null;n&&["image/jpeg","image/png","image/jpg","image/gif"].includes(n.type)?he(r=>({...r,profile_picture:n})):alert("Invalid file type. Please select a jpeg, png, jpg, or gif image.")};l.exports.useEffect(()=>{var t;E==="hr"&&((t=a==null?void 0:a.request[0])==null?void 0:t.employee_role)&&me(n=>({...n,...a.request[0].employee_role,employee_id:v||""}))},[a,E,v]);const N=t=>{const{name:n,value:r}=t.target;if(n==="probation_period_end_date"&&b.employment_start_date){const c=new Date(b.employment_start_date);if(new Date(r)<c){we("End Date cannot be before Start Date");return}else we("")}me(c=>({...c,[n]:r||""}))},Gs=async()=>{var r,c,m,C;const t=localStorage.getItem("authToken"),n=new FormData;Object.entries(b).forEach(([I,L])=>{I==="cv"?L&&typeof L=="object"&&L.name&&L.size&&L.type&&n.append(I,L):L&&n.append(I,L)});try{Ie(!0);const I=await R.post("https://bapi.reownlogics.com/api/employee_role_update",n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});await U(),Ae(""),Ee(I.data.message),setTimeout(()=>{Ee("")},2e3)}catch(I){console.error("Error updating data:",((c=(r=I.response)==null?void 0:r.data)==null?void 0:c.error)||I.message),Ae(((C=(m=I.response)==null?void 0:m.data)==null?void 0:C.error)||"An error occurred")}finally{Ie(!1)}},[u,he]=l.exports.useState({family_name:"",nationality:"",religion:"",qualification:"",district:"",zip_code:"",home_country_address:"",middle_name:"",name_in_arabic:"",marital_status:"",phone:"",major:"",street_no:"",additional_number:"",last_name:"",date_of_birth:"",gender:"",email:"",city:"",building_no:"",unit_number:"",profile_picture:"",employee_id:v});l.exports.useEffect(()=>{var t;(t=a==null?void 0:a.request)!=null&&t[0]&&he(n=>({...n,...a.request[0],employee_id:v}))},[a]);const f=t=>{const{name:n,value:r}=t.target;he(c=>({...c,[n]:r}))},Vs=async()=>{const t=localStorage.getItem("authToken"),n=new FormData;Object.entries(u).forEach(([r,c])=>{r==="profile_picture"?c&&typeof c=="object"&&c.name&&c.size&&c.type&&n.append(r,c):c&&n.append(r,c)});try{Le(!0);const r=await R.post("https://bapi.reownlogics.com/api/update_onboardEmployee",n,{headers:{Authorization:`Bearer ${t}`}});localStorage.setItem("user_first_name",u.middle_name),localStorage.setItem("user_last_name",u.last_name),await U(),E==="hr"&&setTimeout(()=>{var c,m,C;localStorage.setItem("picture",(C=(m=(c=r==null?void 0:r.data)==null?void 0:c.data)==null?void 0:m.user)==null?void 0:C.profile_picture),window.dispatchEvent(new Event("storage"))},500),Re(r.data.message),setTimeout(()=>{Re("")},3e3)}catch(r){console.error("Error updating employee details:",r),alert("Failed to update employee details.")}finally{Le(!1)}};l.exports.useEffect(()=>{const t=async()=>{var c;const r=localStorage.getItem("authToken");if(!r){console.error("User token is missing");return}try{const m=await R.get("https://bapi.reownlogics.com/api/department",{headers:{Authorization:`Bearer ${r}`}});console.log("API Response:",m.data),Array.isArray(m.data)?oe(m.data):(console.error("Unexpected API response format:",m.data),oe([]))}catch(m){console.error("Error fetching departments:",((c=m.response)==null?void 0:c.data)||m.message),oe([])}},n=async()=>{var c;const r=localStorage.getItem("authToken");if(!r){console.error("User token is missing");return}try{const m=await R.get("https://bapi.reownlogics.com/api/all-managers",{headers:{Authorization:`Bearer ${r}`}});console.log("API Response:",m.data),Be(m.data)}catch(m){console.error("Error fetching linemanager:",((c=m.response)==null?void 0:c.data)||m.message),Be([])}};t(),n()},[]),console.log("rolemanager",X.data);const et=()=>{es(t=>!t)};console.log("apichecjin",(pa=s==null?void 0:s.attendance_detail)==null?void 0:pa.check_in),console.log("apichecjin",F((ma=s==null?void 0:s.attendance_detail)==null?void 0:ma.check_in)),console.log("hr",(ga=(ua=(ha=a==null?void 0:a.request)==null?void 0:ha[0])==null?void 0:ua.user)==null?void 0:ga.profile_picture);const ue=ne?i==null?void 0:i.upcoming_requests:(fa=i==null?void 0:i.upcoming_requests)==null?void 0:fa.slice(0,2),Ks=Es((xa=s==null?void 0:s.attendance_detail)==null?void 0:xa.check_in,(ba=s==null?void 0:s.attendance_detail)==null?void 0:ba.check_out);return l.exports.useEffect(()=>{const t=()=>{var Mn,En,Rn,Bn;const r=(Mn=s==null?void 0:s.attendance_detail)==null?void 0:Mn.check_in;(En=s==null?void 0:s.attendance_detail)==null||En.check_out;const c=(Rn=s==null?void 0:s.workSchedule)==null?void 0:Rn.check_in,m=(Bn=s==null?void 0:s.workSchedule)==null?void 0:Bn.check_out;if(!r||!c||!m)return Ue(0);const C=new Date(r),[I,L,Q]=c.split(":").map(Number),q=new Date(C);q.setHours(I,L,Q,0);const[ge,fe,Ys]=m.split(":").map(Number),Cn=new Date(C);Cn.setHours(ge,fe,Ys,0);const Ln=q.getTime(),Xs=Cn.getTime(),Zs=new Date().getTime()-Math.max(C.getTime(),Ln),xe=Xs-Ln;console.log("totalShiftDuration",xe);const qs=xe>0?Math.min(Zs/xe*100,100):0;Ue(qs)};t();const n=setInterval(t,1e3);return()=>clearInterval(n)},[s]),us?o("div",{className:"d-flex justify-content-center align-items-center fs-3",style:{height:"calc(100vh - 170px)"},children:[e(lo,{}),e("span",{className:"fs-2",style:{paddingBottom:"6px",paddingLeft:"5px"}})]}):o(Jn,{children:[o("div",{className:"p-2 text-white d-flex align-items-center rounded-lg w-80",style:{backgroundColor:"#081438",borderRadius:"16px"},children:[e("img",{src:(_a=(Na=(ya=a==null?void 0:a.request)==null?void 0:ya[0])==null?void 0:Na.user)!=null&&_a.profile_picture?`${Fo}/${a.request[0].user.profile_picture}`:ro,alt:"Profile",className:" rounded-full border-4 border-white headImg",style:{borderRadius:"50%",marginRight:"20px"}}),e("h3",{className:"text-white headTitle",style:{fontWeight:"600"},children:`${He((wa=(va=a==null?void 0:a.request)==null?void 0:va[0])==null?void 0:wa.middle_name)||""} ${He((Aa=(Sa=a==null?void 0:a.request)==null?void 0:Sa[0])==null?void 0:Aa.last_name)||""}`.trim()})]}),e("br",{}),o(io,{tabs:!0,children:[e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:z==="1",onClick:()=>{$("1")},children:"Personal"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:z==="2",onClick:()=>{$("2")},children:"Role"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:z==="3",onClick:()=>{$("3")},children:"Documents"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:z==="4",onClick:()=>{$("4")},children:"Time Off"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:z==="6",onClick:()=>{$("6")},children:"Attendance"})})]}),o(co,{className:"py-50",activeTab:z,children:[e(V,{tabId:"1",children:o(B,{children:[e(ee,{UserRole:E,department:(Ca=(Ia=(ka=a==null?void 0:a.request)==null?void 0:ka[0])==null?void 0:Ia.department)==null?void 0:Ca.name,email:(Ma=(La=a==null?void 0:a.request)==null?void 0:La[0])==null?void 0:Ma.email,HireDate:Z((Ra=(Ea=a==null?void 0:a.request)==null?void 0:Ea[0])==null?void 0:Ra.created_at)}),o(A,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(_,{className:" bg-white",style:{borderRadius:"5px",padding:"15.5px 16px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("h4",{className:"mb-0 fw-semibold",children:"Personal"})})}),e(_,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{children:[o(B,{children:[o(A,{lg:"4",md:"4",xs:"12",children:[e(p,{className:"personalLabel",children:"Family Name"}),e(d,{className:"personalInput",type:"text",name:"family_name",value:u.family_name,onChange:f}),e(p,{className:"personalLabel",children:"Nationality"}),e(d,{className:"personalInput",type:"text",name:"nationality",value:u.nationality,onChange:f}),e(p,{className:"personalLabel",children:"Religion"}),e(d,{className:"personalInput",type:"text",name:"religion",value:u.religion,onChange:f}),e(p,{className:"personalLabel",children:"Qualification"}),e(d,{className:"personalInput",type:"text",name:"qualification",value:u.qualification,onChange:f}),e(p,{className:"personalLabel",children:"District"}),e(d,{className:"personalInput",type:"text",name:"district",value:u.district,onChange:f}),e(p,{className:"personalLabel",children:"Zip Code"}),e(d,{className:"personalInput",type:"text",name:"zip_code",value:u.zip_code,onChange:f}),e(p,{className:"personalLabel",children:"Home Country Address"}),e(d,{className:"personalInput",type:"text",name:"home_country_address",value:u.home_country_address,onChange:f})]}),o(A,{lg:"4",md:"4",xs:"12",children:[e(p,{className:"personalLabel",children:"First Name"}),e(d,{className:"personalInput",type:"text",name:"middle_name",value:u.middle_name,onChange:f}),e(p,{className:"personalLabel",children:"Name in Arabic"}),e(d,{className:"personalInput",type:"text",name:"name_in_arabic",value:u.name_in_arabic,onChange:f}),e(p,{className:"personalLabel",children:"Marital Status"}),e(d,{className:"personalInput",type:"text",name:"marital_status",value:u.marital_status,onChange:f}),e(p,{className:"personalLabel",children:"Phone"}),e(d,{className:"personalInput",type:"text",name:"phone",value:u.phone,onChange:f}),e(p,{className:"personalLabel",children:"Major"}),e(d,{className:"personalInput",type:"text",name:"major",value:u.major,onChange:f}),e(p,{className:"personalLabel",children:"Street No"}),e(d,{className:"personalInput",type:"text",name:"street_no",value:u.street_no,onChange:f}),e(p,{className:"personalLabel",children:"Additional Number"}),e(d,{className:"personalInput",type:"text",name:"additional_number",value:u.additional_number,onChange:f})]}),o(A,{lg:"4",md:"4",xs:"12",children:[e(p,{className:"personalLabel",children:"Last Name"}),e(d,{className:"personalInput",type:"text",name:"last_name",value:u.last_name,onChange:f}),e(p,{className:"personalLabel",children:"Date of Birth"}),e(d,{className:"personalInput",type:"date",name:"date_of_birth",value:u.date_of_birth,onChange:f}),e(p,{className:"personalLabel",for:"gender",children:"Gender"}),x?o(d,{className:"personalInput",type:"select",name:"gender",id:"gender",value:u.gender,onChange:f,disabled:!x,children:[e("option",{value:"",children:"Select Gender"}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]}):e(d,{className:"personalInput",type:"text",name:"gender",value:u.gender,onChange:f}),e(p,{className:"personalLabel",children:"Email"}),e(d,{className:"personalInput",type:"email",name:"email",value:u.email,onChange:f}),e(p,{className:"personalLabel",children:"City"}),e(d,{className:"personalInput",type:"text",name:"city",value:u.city,onChange:f}),e(p,{className:"personalLabel",children:"Building No"}),e(d,{className:"personalInput",type:"text",name:"building_no",value:u.building_no,onChange:f}),e(p,{className:"personalLabel",children:"Unit Number"}),e(d,{className:"personalInput",type:"text",name:"unit_number",value:u.unit_number,onChange:f})]}),o("div",{className:"px-1",children:[e(p,{className:"personalLabel",children:"Profile Picture"}),e(d,{className:"personalInput",type:"file",accept:".png,.jpg,.jpeg",onChange:Js})]}),se&&e(Tn,{color:se==="Profile updated request sent to hr successfully"?"warning":"success",className:"mt-2 p-1",children:se})]}),e("div",{className:"w-100 text-center mt-1",children:e(te,{onClick:Vs,disabled:Ce,children:Ce?"Updating ...":"Update"})})]})})]})]})}),e(V,{tabId:"2",children:o(B,{children:[e(ee,{UserRole:E,department:(Fa=(Da=(Ba=a==null?void 0:a.request)==null?void 0:Ba[0])==null?void 0:Da.department)==null?void 0:Fa.name,email:(Pa=(Ta=a==null?void 0:a.request)==null?void 0:Ta[0])==null?void 0:Pa.email,HireDate:Z((Ua=(ja=a==null?void 0:a.request)==null?void 0:ja[0])==null?void 0:Ua.created_at)}),o(A,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(_,{className:"shadow-sm bg-white",style:{borderRadius:"5px",padding:"15.5px 16px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("h4",{className:"mb-0 fw-semibold",children:"Role"})})}),e(_,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:(za=a==null?void 0:a.request[0])!=null&&za.employee_role?o(w,{children:[o(B,{children:[o(A,{sm:"4",children:[e(p,{className:"roleLabel",children:"Company"}),e(d,{className:"roleInput",type:"text",name:"company_name",value:b.company_name,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Position in Arabic"}),e(d,{className:"roleInput",type:"text",name:"position_arabic",value:b.position_arabic,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Years of Experience"}),e(d,{className:"roleInput",type:"text",name:"years_of_experience",value:b.years_of_experience,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",for:"lineManager",children:"Line Manager"}),o(d,{className:"roleInput",type:"select",id:"lineManager",name:"line_manager_id",value:b.line_manager_id,onChange:N,readOnly:!x,children:[e("option",{value:"",children:"Select Line Manager"}),(Wa=X==null?void 0:X.data)==null?void 0:Wa.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(p,{className:"roleLabel",children:"Project Name"}),e(d,{className:"roleInput",type:"text",name:"project_name",value:b.project_name,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Line Manager Email"}),e(d,{className:"roleInput",type:"text",name:"line_manager_email",value:b.line_manager_email,onChange:N,readOnly:!x})]}),o(A,{sm:"4",children:[e(p,{className:"roleLabel",for:"department",children:"Department"}),o(d,{className:"roleInput",type:"select",id:"department",name:"department_id",value:b.department_id,onChange:N,readOnly:!x,children:[e("option",{value:"",children:"Select Department"}),rs.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(p,{className:"roleLabel",children:"BONAFIDE ID"}),e(d,{className:"roleInput",type:"text",name:"bonafide_id",value:b.bonafide_id,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Grade"}),e(d,{className:"roleInput",type:"text",name:"grade",value:b.grade,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"My Status"}),e(d,{className:"roleInput",type:"text",name:"employee_status",value:b.employee_status,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Employment Start Date"}),e(d,{className:"roleInput",type:"date",name:"employment_start_date",value:b.employment_start_date||"",onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Employee ID"}),e(d,{className:"roleInput",type:"text",value:((Oa=(Ha=a==null?void 0:a.request[0])==null?void 0:Ha.employee_role)==null?void 0:Oa.employee_id)||"",readOnly:!x})]}),o(A,{sm:"4",children:[e(p,{className:"roleLabel",children:"Position in English"}),e(d,{className:"roleInput",type:"text",name:"position_english",value:b.position_english,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"CV"}),e(d,{className:"roleInput",type:"file",accept:".pdf,.doc,.docx",onChange:Qs}),e(p,{className:"roleLabel",children:"Sub-Department"}),e(d,{className:"roleInput",type:"text",name:"sub_department",value:b.sub_department||"",onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Employment Type"}),e(d,{className:"roleInput",type:"text",name:"employment_type",value:b.employment_type,onChange:N,readOnly:!x}),e(p,{className:"roleLabel",children:"Probation Period End Date"}),e(d,{className:"roleInput",type:"date",name:"probation_period_end_date",value:b.probation_period_end_date,onChange:N,readOnly:!x}),ve&&e("small",{className:"text-danger",children:ve}),e(p,{className:"roleLabel",children:"Contract Duration (In Months)"}),e(d,{className:"roleInput",type:"number",name:"contract_duration",value:b.contract_duration,onChange:N,readOnly:!x})]}),Me&&e(Tn,{color:"success",className:"mt-2 p-1",children:Me}),Se&&e("small",{className:"text-danger",children:Se})]}),x&&e("div",{className:"w-100 text-center mt-1",children:e(te,{onClick:Gs,disabled:ke,children:ke?"Updating ...":"Update"})})]}):e("div",{className:"p-1",children:"Role Data is Empty"})})]})]})}),E==="hr"&&e(V,{tabId:"3",children:o(B,{children:[e(ee,{UserRole:E,department:(Ja=(Qa=($a=a==null?void 0:a.request)==null?void 0:$a[0])==null?void 0:Qa.department)==null?void 0:Ja.name,email:(Va=(Ga=a==null?void 0:a.request)==null?void 0:Ga[0])==null?void 0:Va.email,HireDate:Z((Ya=(Ka=a==null?void 0:a.request)==null?void 0:Ka[0])==null?void 0:Ya.created_at)}),o(A,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(_,{className:"bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{style:{padding:"5px 16px"},children:o("div",{className:"d-flex align-items-center justify-content-between",children:[e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Documents"}),e(te,{onClick:Ke,children:"Upload"}),e(po,{employeeId:v,isOpen:Ne,toggle:Ke,fetchEmployeeDetail:U})]})})}),e(_,{className:" ",style:{borderRadius:"8px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("div",{className:"container",children:e(B,{className:"d-flex flex-wrap",style:{gap:"10px",display:"flex"},children:(qa=(Za=(Xa=a==null?void 0:a.request)==null?void 0:Xa[0])==null?void 0:Za.document)==null?void 0:qa.map(t=>{var n;return o(A,{className:"d-flex p-0",style:{flex:"1 1 calc(25% - 10px)",minWidth:"180px"},children:[o("div",{className:"p-1 text-center bg-white w-100",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[o("div",{className:"d-flex justify-content-between align-items-center gap-1",children:[e("div",{className:"icon-box d-flex justify-content-center align-items-center",style:{backgroundColor:"#FFDFF6",padding:"8px",borderRadius:"40px"},children:e("img",{style:{width:"24px",height:"24px"},src:Eo})}),e("div",{id:`popover-${t.id}`,onClick:()=>T(H===t.id?null:t.id),className:"icon-box d-flex justify-content-center align-items-center",children:e("img",{style:{width:"24px",height:"24px",cursor:"pointer"},src:$n})})]}),o("div",{className:"text-start",children:[e("h6",{id:`titleTooltip-${t.id}`,onMouseEnter:()=>Ge(t.id,!0),onMouseLeave:()=>Ge(t.id,!1),className:"mt-1 two-line-ellipsis",children:t.title}),e(mo,{isOpen:ls[t.id]||!1,target:`titleTooltip-${t.id}`,children:t.title}),o("p",{className:"mb-0",style:{fontSize:"13px",fontWeight:"400",color:"#686868"},children:["Updated By: ",e("span",{style:{fontSize:"12px",fontWeight:"400"},children:(n=t.added_user)==null?void 0:n.name})]}),e("p",{className:"mb-0",style:{fontSize:"13px",fontWeight:"400",color:"#686868"},children:Hs(t.updated_at)})]})]}),H===t.id&&e("div",{ref:ie,style:{boxShadow:"none"},children:e(ye,{placement:"left",isOpen:H===t.id,target:`popover-${t.id}`,container:"body",trigger:"legacy",style:{boxShadow:"none"},children:o(Gn,{className:"d-flex gap-1 rounded shadow-none",style:{padding:"5px 10px",boxShadow:"none"},children:[e("img",{src:Mo,onClick:()=>{window.location.href=`https://bapi.reownlogics.com/api/downloadFile?file_path=${t==null?void 0:t.file_path}`,T(null)},style:{cursor:"pointer"},className:"action-icon"}),e("img",{src:wo,onClick:r=>{r.stopPropagation(),Rs(t),T(null)},style:{cursor:"pointer"},className:"action-icon"},t.id),e("img",{src:So,onClick:()=>{Os(t.id),T(null)},style:{cursor:"pointer"},className:"action-icon"})]})})}),o(Pn,{className:"custom-centered-modal w-100",isOpen:cs,toggle:()=>O(!1),children:[e(jn,{className:"",toggle:()=>O(!1),children:e("h3",{className:"mb-0",style:{fontSize:"18px",fontWeight:"600"},children:"Confirm Deletion"})}),e(Un,{className:" pt-0",children:e("p",{className:"mb-0",style:{fontSize:"14px",fontWeight:"500",color:"#C2C2C2"},children:"Are you sure you want to delete this document?"})}),o(ho,{children:[e(Ro,{onClick:()=>O(!1),children:"Cancel"}),e(Bo,{onClick:$s,disabled:Te,children:Te?"Deleting":"Delete"})]})]}),e(uo,{isOpen:as,toggle:()=>_e(!1),editData:ns,fetchEmployeeDetail:U,employeeId:v})]},t.id)})})})})})]})]})}),e(V,{tabId:"4",children:o(B,{children:[e(ee,{UserRole:E,department:(an=(tn=(en=a==null?void 0:a.request)==null?void 0:en[0])==null?void 0:tn.department)==null?void 0:an.name,email:(sn=(nn=a==null?void 0:a.request)==null?void 0:nn[0])==null?void 0:sn.email,HireDate:Z((ln=(on=a==null?void 0:a.request)==null?void 0:on[0])==null?void 0:ln.created_at)}),o(A,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(_,{className:"shadow-sm bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{className:"",style:{padding:"5px 16px"},children:o("div",{className:"d-flex align-items-center justify-content-between",children:[e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Timeoff"}),e(te,{onClick:et,children:"Apply for Leave"}),e(go,{employeeId:v,isOpen:qn,toggle:et})]})})}),e(_,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"p-1 p-sm-2",children:[e("div",{ref:P,className:" d-flex align-item-center scroll-container ",style:{overflow:"auto",gap:"12px",padding:"6px"},onMouseDown:As,onMouseMove:ks,onMouseUp:Qe,onMouseLeave:Qe,children:Ws.map((t,n)=>e("div",{className:"p-0 timeOff-cards",style:{minHeight:"153px"},children:e("div",{className:" bg-white  py-1 ",style:{boxShadow:" 0px 0px 6px 0px rgba(0, 0, 0, 0.25)",width:"100%",height:"100% ",borderRadius:"8px",paddingInline:"8px"},children:o("div",{className:" px-0",children:[o("div",{className:"d-flex justify-content-between align-item-center",children:[e("h5",{className:"",style:{fontSize:"18px",fontWeight:"700",color:"#253180"},children:t==null?void 0:t.name}),e("div",{className:"time-container",style:{position:"relative",display:"inline-block"},children:e("div",{className:"time-image",style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e("img",{src:t.imgSrc,alt:"icon",style:{width:"100%",height:"100%"}})})})]}),e("hr",{className:"",style:{marginTop:"5px",marginBottom:"5px"}}),e("p",{className:"m-0",style:{fontSize:"16px",fontWeight:"400"},children:t.available})]})})},n))}),o(B,{children:[o("div",{children:[e("h4",{className:" pt-1",style:{fontSize:"16px",color:"#253180",fontWeight:"bold",marginBottom:"5px"},children:" Upcoming Time Off"}),e("hr",{className:"mt-0"})]}),((rn=i==null?void 0:i.upcoming_requests)==null?void 0:rn.length)>0?o("div",{className:"custom-section",children:[ue==null?void 0:ue.map(t=>{var n,r,c,m;return o(_,{className:"custom-card bg-white",style:{marginBottom:"13px"},children:[o("div",{className:"d-flex justify-content-between align-items-center",children:[o(w,{className:"d-sm-flex justify-content-start align-item-center ",style:{padding:"13px",gap:"13px"},children:[e("div",{className:"first-col justify-content-center align-items-center",children:o("div",{className:"d-flex align-items-center",children:[e("div",{className:"image-container w-fit pe-1",children:((n=t==null?void 0:t.time_off)==null?void 0:n.name)==="Paid Leave"?e("img",{style:{width:"40px",height:"40px"},src:zn,className:""}):((r=t==null?void 0:t.time_off)==null?void 0:r.name)==="Sick Leave"?e("img",{style:{width:"40px",height:"40px"},src:Hn,className:""}):((c=t==null?void 0:t.time_off)==null?void 0:c.name)==="Maternity Leave"?e("img",{style:{width:"40px",height:"40px"},src:On,className:""}):((m=t==null?void 0:t.time_off)==null?void 0:m.name)==="Vocation Leave"?e("img",{style:{width:"40px",height:"40px"},src:Wn,className:""}):null}),o("div",{children:[o("p",{className:"date mb-0 fw-medium",style:{minWidth:"90px"},children:[Ze(t==null?void 0:t.start_date)," - ",Ze(t==null?void 0:t.end_date)]}),o("p",{className:"hours mb-0 fw-light ",style:{fontSize:"11px"},children:[t==null?void 0:t.duration," Hours"]})]})]})}),e("div",{className:"second-col",children:e("p",{className:"text mb-0",style:{wordBreak:"break-word",overflowWrap:"break-word",fontWeight:"400"},children:t==null?void 0:t.reason})})]}),o("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{gap:"2px",minWidth:"91px"},children:[e("p",{className:"mb-0",style:{backgroundColor:t.status==="Approved"?"#3A974C":"#E32525",color:"white",padding:"1px 10px",width:"80px",borderRadius:"4px",display:"inline-block",textAlign:"center",borderRadius:"50px"},children:t==null?void 0:t.status}),(t==null?void 0:t.admin_comments)&&e("p",{className:"mb-0 p-0",onClick:()=>re(t.admin_comments),style:{color:"skyblue",padding:"1px 10px",borderRadius:"4px",display:"inline-block",textAlign:"center",borderRadius:"50px",fontSize:"12px",textDecorationLine:"underline",cursor:"pointer"},children:"Rejected Reason"},t==null?void 0:t.id)]})]}),o(Pn,{backdropClassName:"transparent-backdrop",color:"transparent",isOpen:je,toggle:re,centered:!0,children:[e(jn,{toggle:re,children:e("h2",{className:"mb-0",style:{fontSize:"18px",fontWeight:"600"},children:"Rejection Reason"})}),e(Un,{children:ps||"No reason provided."})]})]},t==null?void 0:t.time_off_id)}),((cn=i==null?void 0:i.upcoming_requests)==null?void 0:cn.length)>2&&e("div",{className:"text-start",children:e("div",{className:"font-semibold cursor-pointer",style:{color:"#253180",fontWeight:"600"},onClick:()=>os(!ne),children:ne?"Show Less":"Show More"})})]}):e("div",{className:"ps-1",children:"No upcoming time-off requests."})]})]})})]})]})}),e(V,{tabId:"6",children:o(B,{children:[e(A,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(_,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:o(w,{className:"bg-white",style:{borderRadius:"8px",padding:"16px 11px"},children:[e(_,{className:" bg-white rounded-0 mb-0",style:{borderBottom:"1px solid #B3B3BF",paddingBottom:"20px"},children:o(w,{className:"bg-white p-0",children:[(s==null?void 0:s.attendance_detail)&&o("div",{children:[e("h5",{style:{fontSize:"18px",fontWeight:"700",lineHeight:"21px"},children:"Employee Status"}),o("div",{className:"flex justify-between items-center mt-1",children:[o("div",{className:"d-flex justify-content-between",children:[e("p",{variant:"h6",className:"mb-0",style:{fontSize:"13px",fontWeight:"600",lineHeight:"16px"},children:(dn=s==null?void 0:s.workSchedule)==null?void 0:dn.day}),o("p",{className:" mb-0",style:{fontSize:"13px",fontWeight:"600",lineHeight:"16px"},children:[" ",Ks," ",e("span",{style:{fontSize:"13px",fontWeight:"400"},children:"hrs"})]})]}),e("p",{variant:"h6",fontWeight:"bold",style:{marginTop:"4px",fontSize:"10px",fontWeight:"500",color:"#737373"},className:"",children:Xe((pn=s==null?void 0:s.attendance_detail)==null?void 0:pn.check_in)})]}),e("div",{style:{width:"100%",background:"#ddd",borderRadius:"10px",height:"8px",overflow:"hidden"},children:e("div",{style:{width:`${hs}%`,background:"#081438",height:"100%",transition:"width 1s linear"}})}),o("div",{className:"d-flex justify-content-between align-item-center gap-1",style:{marginTop:"4px"},children:[o("p",{variant:"body2",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},className:"mb-0",children:["Check-In:",F((mn=s==null?void 0:s.attendance_detail)==null?void 0:mn.check_in)]}),((hn=s==null?void 0:s.attendance_detail)==null?void 0:hn.check_out)&&o("p",{variant:"body2",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:["Check-Out:",F((un=s==null?void 0:s.attendance_detail)==null?void 0:un.check_out)]})]}),o("div",{className:"d-flex justify-content-center align-item-center gap-1 my-1",children:[e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:Ye((gn=s==null?void 0:s.workSchedule)==null?void 0:gn.check_in)})," -",e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:Ye((fn=s==null?void 0:s.workSchedule)==null?void 0:fn.check_out)})]})]}),o("div",{className:"d-flex justify-content-between flex-wrap flex-lg-nowrap",style:{gap:"3px"},children:[((xn=s==null?void 0:s.attendance_detail)==null?void 0:xn.check_in)&&!((bn=s==null?void 0:s.attendance_detail)!=null&&bn.check_out)&&e(Do,{onClick:()=>y(!S),variant:"contained",fullWidth:!0,className:"",children:"Check-Out"}),(yn=s==null?void 0:s.attendance_detail)!=null&&yn.check_in?"":e(Qn,{onClick:()=>k(!g),variant:"contained",fullWidth:!0,className:"",children:"Check-In"})]})]})}),(s==null?void 0:s.attendance_detail)&&o("div",{className:"location-container text-start",children:[e("h2",{style:{marginTop:"21px",fontSize:"13px",fontWeight:"600"},children:"Location"}),e("div",{className:"map-container mt-1",style:{borderRadius:"5px"},children:e("iframe",{width:"100%",style:{borderRadius:"5px"},height:"170",frameBorder:"0",src:`https://www.google.com/maps?q=${(Nn=s==null?void 0:s.attendance_detail)==null?void 0:Nn.lat},${(_n=s==null?void 0:s.attendance_detail)==null?void 0:_n.lng}&hl=es;z=14&output=embed`,allowFullScreen:!0})}),o("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-2",children:[o("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:[" ",Xe((vn=s==null?void 0:s.attendance_detail)==null?void 0:vn.check_in)]}),e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:F((wn=s==null?void 0:s.attendance_detail)==null?void 0:wn.check_in)})]}),e(Qn,{onClick:()=>{var r,c;const t=((r=s==null?void 0:s.attendance_detail)==null?void 0:r.lat)||"null",n=((c=s==null?void 0:s.attendance_detail)==null?void 0:c.lng)||"null";window.open(`https://www.google.com/maps?q=${t},${n}&z=14`,"_blank")},color:"primary",className:"",children:"Expand the Location"})]})]})})}),o(A,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(_,{className:"shadow-sm bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(w,{className:"",style:{padding:"15.5px 16px"},children:e("div",{className:"d-flex align-items-center justify-content-between",children:e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Attendance"})})})}),o(_,{children:[e(_,{className:" ",style:{borderRadius:"8px",marginBottom:"20px"},children:e(w,{className:"p-0",children:e("div",{ref:j,className:" d-flex align-items-center gap-1 scroll-container",style:{overflow:"auto",scrollbarColor:"transparent"},onMouseDown:Is,onMouseMove:Cs,onMouseUp:Je,onMouseLeave:Je,children:Ds.map(t=>{var n,r,c;return e("div",{style:{padding:"0 "},children:o("div",{className:"p-1  text-center bg-white attendence-cards",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[o("div",{className:"d-flex justify-content-between align-items-center gap-1",children:[o("div",{className:"icon-box d-flex justify-content-center align-items-center",style:{backgroundColor:`${t.color}`,padding:"10px",borderRadius:"40px"},children:[e("img",{style:{width:"24px",height:"24px"},src:t.icon})," "]}),o("div",{className:"icon-box d-flex justify-content-center align-items-center",children:[e("img",{style:{width:"24px",height:"24px"},src:$n})," "]})]}),e("div",{className:"d-flex justify-content-start",children:e("h6",{className:"mt-1 ",children:t.title})}),o("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[o("h3",{children:[t.percentage,o("span",{className:"",style:{fontSize:"13px"},children:[t.id===1&&"%",t.id===2&&(((n=h==null?void 0:h.attendance)==null?void 0:n.present)===1?" Day":" Days"),t.id===3&&(((r=h==null?void 0:h.attendance)==null?void 0:r.absent)===1?" Day":" Days"),t.id===4&&(((c=h==null?void 0:h.attendance)==null?void 0:c.late)===1?" Hour":" Hours")]})]}),e("span",{className:"small-percentage",style:{color:`${t.textColor}`,backgroundColor:`${t.color}`,fontSize:"12px",padding:"8px 17px",borderRadius:"20px"},children:t.smallPercentage})]})]})},t.id)})})})}),e(_,{className:"border-none bg-white",style:{borderRadius:"16px"},children:e(w,{className:"p-0",children:o("div",{className:"  ",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[e(fo,{columns:Ps,data:js,pagination:!1,highlightOnHover:!0,border:!0,className:"custom-attendence-table"}),((An=(Sn=h==null?void 0:h.attendance)==null?void 0:Sn.attendance_detail)==null?void 0:An.length)>0?o("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderTop:"1px solid rgba(0, 0, 0, 0.2)"},children:[e(Fn,{onClick:Us,disabled:D===1,style:{marginRight:"10px",borderRadius:"20px"},children:"Previous"}),e(Fn,{onClick:zs,style:{borderRadius:"20px"},disabled:D===qe,children:"Next"})]}):null]})})})]})]})]})}),e(_o,{employeeId:v,fetchEmployeeAttendence:pe,fetchCurrentDaySummary:de,time:F((kn=s==null?void 0:s.attendance_detail)==null?void 0:kn.check_out),setCheckOutModal:y,checkOutModal:S}),e(vo,{employeeId:v,fetchEmployeeAttendence:pe,fetchCurrentDaySummary:de,time:F((In=s==null?void 0:s.attendance_detail)==null?void 0:In.check_in),checkInModal:g,setCheckInModal:k})]})]})};export{Ko as default};
