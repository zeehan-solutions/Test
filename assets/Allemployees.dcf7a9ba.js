import{r as s,v as r,j as t,L,B as C,M as O}from"./index.4455fcbe.js";import{s as T,S as z,C as G,I as R,f as q,g as $,h as w,E as U,b as V,T as H}from"./App.e864e2a1.js";import"./EmployeeView.7f8ead18.js";import"./more-vertical.766df9ae.js";import"./FormGroup.5df170b5.js";import"./format.c2bfa3ae.js";import"./en-US.128dcaf8.js";const J=T.button`
  background-color: #0C1539 !important;
  padding: 15px 50px;
  border-radius: 10px!important;
  color: white;
  display: block;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;
  white-space: nowrap; /* Prevent text wrapping */

  &:hover {
    background-color: #1a2447 !important;
  }
`,re=()=>{const[v,h]=s.exports.useState(!1),[F,u]=s.exports.useState(!1),S=()=>h(!0),k=()=>h(!1),[m,E]=s.exports.useState(""),[n,B]=s.exports.useState("newest");s.exports.useState(!1);const[N,_]=s.exports.useState([]),[K,A]=s.exports.useState(null),[a,I]=s.exports.useState(1),l=10,g=async()=>{try{const e=localStorage.getItem("authToken"),o=await O.get("https://bapi.reownlogics.com/api/employees",{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});_(Array.isArray(o.data)?o.data:o.data.data||[]),console.log("responsedata",o.data)}catch(e){console.error("Error fetching hiring requests:",e),A("Failed to fetch hiring requests.")}finally{u(!1)}};s.exports.useEffect(()=>{u(!0),g()},[]);const P=(e,o)=>{const c=e.created_at?new Date(e.created_at):new Date(e.date_of_birth),p=o.created_at?new Date(o.created_at):new Date(o.date_of_birth);return isNaN(c)||isNaN(p)?(console.error("Invalid date found:",e,o),0):n==="newest"?p-c:n==="oldest"?c-p:0},f=[...N].sort(P);console.log("Sorted Employees:",f);const x=f.filter(e=>e.middle_name&&e.middle_name.toLowerCase().includes(m.toLowerCase())),j=e=>{B(e.target.value)},d=e=>e==="Active"?{backgroundColor:"#16C09861",color:"#00B087",border:"2px solid #00B087"}:e==="Inactive"?{backgroundColor:"#FFC5C5",color:"#DF0404",border:"2px solid #DF0404"}:{backgroundColor:"#B3B3BF",color:"black"};if(F)return r("div",{className:"d-flex justify-content-center align-items-center fs-3",style:{height:"calc(100vh - 170px)"},children:[t(z,{}),t("span",{className:"fs-2",style:{paddingBottom:"6px",paddingLeft:"5px"}})]});const b=a*l,M=b-l,D=x.slice(M,b),i=Math.ceil(x.length/l),y=e=>{e>=1&&e<=i&&I(e)};return t("div",{children:r(G,{className:"bg-white p-md-2",style:{borderRadius:"40px"},children:[r("div",{className:"p-2 d-flex flex-wrap justify-content-between align-items-center overflow-x-auto z-index-1",children:[r("div",{children:[t("h3",{children:"All Employees"}),t("small",{style:{color:"#16C098"},children:"Active Members"})]}),r("div",{className:"d-flex flex-wrap gap-1 flex-sm-nowrap align-items-center justify-content-center",children:[r(R,{className:"",style:{borderRadius:"10px",overflow:"hidden"},children:[t(q,{style:{backgroundColor:"#F9FBFF",border:"none",padding:"15px 10px"},children:t($,{size:16})}),t(w,{placeholder:"Search",value:m,onChange:e=>E(e.target.value),style:{border:"none",backgroundColor:"#F9FBFF"}})]}),r(w,{type:"select",className:"",name:"select",id:"exampleSelect",onChange:j,value:n,style:{border:"none",backgroundColor:"#F9FBFF",padding:"15px 10px"},children:[r("option",{disabled:!0,children:["Sort By ",n.charAt(0).toUpperCase()+n.slice(1)]}),t("option",{value:"newest",children:"Newest"}),t("option",{value:"oldest",children:"Oldest"})]}),t(J,{onClick:S,children:"Add Employee"}),t(U,{isOpen:v,handleClose:k,onEmployeeAdded:g})]})]}),r(V,{children:[r(H,{responsive:!0,className:"table-employees",children:[t("thead",{className:"custom-thead",children:r("tr",{children:[t("th",{children:"Employee Name"}),t("th",{children:"Date of Birth"}),t("th",{children:"Phone Number"}),t("th",{children:"Email"}),t("th",{children:"Country"}),t("th",{children:"Status"})]})}),t("tbody",{style:{backgroundColor:"white"},children:D.map((e,o)=>r("tr",{children:[t("td",{children:t(L,{to:`/EmployeeView/${e.id}`,style:{color:"#0071FF"},children:e.middle_name})}),t("td",{children:e.date_of_birth}),t("td",{children:e.phone}),t("td",{children:e.email}),t("td",{children:e.nationality}),t("td",{children:e.status?t("span",{style:{backgroundColor:d(e.status).backgroundColor,color:d(e.status).color,padding:"4px 25px",borderRadius:"4px",border:d(e.status).border},children:e.status}):null})]},o))})]}),r("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[t(C,{className:"pagbutton",disabled:a===1,onClick:()=>y(a-1),children:"Previous"}),r("span",{children:["Page ",a," of ",i]}),t(C,{className:"pagbutton",disabled:a===i,onClick:()=>y(a+1),children:"Next"})]})]})]})})};export{re as default};
