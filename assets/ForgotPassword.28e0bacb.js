import{r as m,j as s,p as c,a6 as f,v as i,L as x,K as v}from"./index.0c706ca6.js";import{R as b,c as g,F as w,L as y,g as N}from"./App.dac02815.js";import{C as j,a as k}from"./CardTitle.d2d46202.js";import{b as O}from"./bgimage.20ea7dbb.js";function P(e,n){if(e==null)return{};var o=z(e,n),t,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,t)||(o[t]=e[t]))}return o}function z(e,n){if(e==null)return{};var o={},t=Object.keys(e),r,a;for(a=0;a<t.length;a++)r=t[a],!(n.indexOf(r)>=0)&&(o[r]=e[r]);return o}var u=m.exports.forwardRef(function(e,n){var o=e.color,t=o===void 0?"currentColor":o,r=e.size,a=r===void 0?24:r,d=P(e,["color","size"]);return s("svg",{ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:s("polyline",{points:"15 18 9 12 15 6"})})});u.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};u.displayName="ChevronLeft";const L=u;const R=()=>{const[e,n]=m.exports.useState(""),[o,t]=m.exports.useState(null),[r,a]=m.exports.useState(""),d=f(),h=async p=>{if(p.preventDefault(),!e.trim()){t("Email is required.");return}if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)){t("Please enter a valid email.");return}try{const l=await v.post("http://bapi.reownlogics.com/api/password/forgot",{email:e});console.log(l.data),a(l.data.message),setTimeout(()=>{d("/changepassword")},2e3),t(null)}catch(l){console.log(l),l.response&&l.response.data&&l.response.data.message?t(l.response.data.message):t("Failed to send OTP. Please try again."),a("")}};return s("div",{className:"auth-wrapper auth-cover",children:i(b,{className:"auth-inner m-0",children:[s(g,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",style:{backgroundImage:`url(${O})`,backgroundSize:"cover",backgroundPosition:"center",height:"100vh"},children:s("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5"})}),s(g,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:i(g,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[s(j,{tag:"h2",className:"fw-bold mb-1",children:"Forgot Password? \u{1F512}"}),s(k,{className:"mb-2",children:"Enter your registered email address. we\u2019ll send you a code to reset your password."}),i(w,{className:"auth-forgot-password-form mt-2",onSubmit:h,children:[o&&s("p",{className:"text-danger",children:o}),r&&s("p",{className:"text-success",children:r}),i("div",{className:"mb-1",children:[s(y,{className:"form-label",for:"login-email",children:"Email"}),s(N,{type:"email",id:"login-email",value:e,onChange:p=>n(p.target.value),placeholder:"john@example.com",autoFocus:!0})]}),s("button",{type:"submit",className:"custom-button",children:"Send OTP"})]}),s("p",{className:"text-center mt-2",children:i(x,{to:"/login",children:[s(L,{className:"rotate-rtl me-25",size:14}),s("span",{className:"align-middle",children:"Back to login"})]})})]})})]})})};export{R as default};
