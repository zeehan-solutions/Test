import{r as a,v as o,j as t,L as E,K as N}from"./index.fe43fbf5.js";import{s as _,C as A,I,f as L,S as j,g as m,E as D,b as M,T}from"./App.9644e084.js";import"./EmployeeView.d34c9c26.js";import"./format.dd21d0fc.js";import"./en-US.128dcaf8.js";import"./CheckInModel.9e8b1f9f.js";import"./FormGroup.09c843ed.js";import"./index.es.fe919ca2.js";const O=_.button`
  background-color: #0C1539 !important;
  max-width: 300px;
  padding: 10px;
  border-radius: 10px!important;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
`,H=()=>{const[g,i]=a.exports.useState(!1),[f,c]=a.exports.useState(!1),b=()=>i(!0),x=()=>i(!1),[h,y]=a.exports.useState(""),[s,C]=a.exports.useState("newest");a.exports.useState(!1);const[w,v]=a.exports.useState([]),[z,k]=a.exports.useState(null),p=async()=>{c(!0);try{const e=localStorage.getItem("authToken"),r=await N.get("https://bapi.reownlogics.com/api/employees",{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});v(Array.isArray(r.data)?r.data:r.data.data||[]),console.log("responsedata",r.data)}catch(e){console.error("Error fetching hiring requests:",e),k("Failed to fetch hiring requests.")}finally{c(!1)}};a.exports.useEffect(()=>{p()},[]);const S=(e,r)=>{const l=e.created_at?new Date(e.created_at):new Date(e.date_of_birth),d=r.created_at?new Date(r.created_at):new Date(r.date_of_birth);return isNaN(l)||isNaN(d)?(console.error("Invalid date found:",e,r),0):s==="newest"?d-l:s==="oldest"?l-d:0},u=[...w].sort(S);console.log("Sorted Employees:",u);const F=u.filter(e=>e.middle_name&&e.middle_name.toLowerCase().includes(h.toLowerCase())),B=e=>{C(e.target.value)},n=e=>e==="Active"?{backgroundColor:"#16C09861",color:"#00B087",border:"2px solid #00B087"}:e==="Inactive"?{backgroundColor:"#FFC5C5",color:"#DF0404",border:"2px solid #DF0404"}:{backgroundColor:"#B3B3BF",color:"black"};return f?o("div",{className:"d-flex justify-content-center align-items-center fs-3",style:{height:"calc(100vh - 170px)"},children:["Loading ",t("span",{className:"fs-2",style:{paddingBottom:"6px",paddingLeft:"5px"},children:"...."})]}):t("div",{children:o(A,{className:"bg-white p-md-2",style:{borderRadius:"40px"},children:[o("div",{className:"p-2 d-flex flex-wrap justify-content-between align-items-center overflow-x-auto z-index-1",children:[o("div",{children:[t("h3",{children:"All Employees"}),t("small",{style:{color:"#16C098"},children:"Active Members"})]}),o("div",{className:"d-flex flex-wrap gap-1 flex-sm-nowrap align-items-center justify-content-center",children:[o(I,{className:"",style:{borderRadius:"10px",overflow:"hidden"},children:[t(L,{style:{backgroundColor:"#F9FBFF",border:"none"},children:t(j,{size:16})}),t(m,{placeholder:"Search by name",value:h,onChange:e=>y(e.target.value),style:{border:"none",backgroundColor:"#F9FBFF"}})]}),o(m,{type:"select",className:"",name:"select",id:"exampleSelect",onChange:B,value:s,style:{border:"none",backgroundColor:"#F9FBFF"},children:[o("option",{disabled:!0,children:["Sort By ",s.charAt(0).toUpperCase()+s.slice(1)]}),t("option",{value:"newest",children:"Newest"}),t("option",{value:"oldest",children:"Oldest"})]}),t(O,{style:{width:"300px"},onClick:b,children:"Add Employee"}),t(D,{isOpen:g,handleClose:x,onEmployeeAdded:p})]})]}),t(M,{children:o(T,{responsive:!0,style:{backgroundColor:"white"},children:[t("thead",{style:{backgroundColor:"white"},children:o("tr",{children:[t("th",{children:"Employee Name"}),t("th",{children:"Date of Birth"}),t("th",{children:"Phone Number"}),t("th",{children:"Email"}),t("th",{children:"Country"}),t("th",{children:"Status"})]})}),t("tbody",{style:{backgroundColor:"white"},children:F.map((e,r)=>o("tr",{children:[t("td",{children:t(E,{to:`/EmployeeView/${e.id}`,style:{color:"#6e6b7b"},children:e.middle_name})}),t("td",{children:e.date_of_birth}),t("td",{children:e.phone}),t("td",{children:e.email}),t("td",{children:e.nationality}),t("td",{children:e.status?t("span",{style:{backgroundColor:n(e.status).backgroundColor,color:n(e.status).color,padding:"4px 25px",borderRadius:"4px",border:n(e.status).border},children:e.status}):null})]},r))})]})})]})})};export{H as default};
