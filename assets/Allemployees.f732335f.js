import{r as s,j as t,v as o,L as E,K as F}from"./index.f9ed2f7a.js";import{s as B,C as _,I as A,f as N,S as I,g as p,E as D,b as M,T}from"./App.b83c219c.js";import"./EmployeeView.b6cafb5f.js";import"./format.6bb0b1f2.js";import"./en-US.128dcaf8.js";import"./CheckInModel.9c6c9fb2.js";import"./FormGroup.bfcc8298.js";import"./index.es.afeec317.js";const j=B.button`
  background-color: #0C1539 !important;
  width: 300px;
  padding: 10px;
  border-radius: 10px!important;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
`,U=()=>{const[m,i]=s.exports.useState(!1),b=()=>i(!0),g=()=>i(!1),[c,y]=s.exports.useState(""),[a,f]=s.exports.useState("newest");s.exports.useState(!1);const[C,x]=s.exports.useState([]),[L,w]=s.exports.useState(null),h=async()=>{try{const e=localStorage.getItem("authToken"),r=await F.get("https://bapi.reownlogics.com/api/employees",{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});x(Array.isArray(r.data)?r.data:r.data.data||[]),console.log("responsedata",r.data)}catch(e){console.error("Error fetching hiring requests:",e),w("Failed to fetch hiring requests.")}};s.exports.useEffect(()=>{h()},[]);const v=(e,r)=>{const l=e.created_at?new Date(e.created_at):new Date(e.date_of_birth),d=r.created_at?new Date(r.created_at):new Date(r.date_of_birth);return isNaN(l)||isNaN(d)?(console.error("Invalid date found:",e,r),0):a==="newest"?d-l:a==="oldest"?l-d:0},u=[...C].sort(v);console.log("Sorted Employees:",u);const k=u.filter(e=>e.middle_name&&e.middle_name.toLowerCase().includes(c.toLowerCase())),S=e=>{f(e.target.value)},n=e=>e==="Active"?{backgroundColor:"#16C09861",color:"#00B087",border:"2px solid #00B087"}:e==="Inactive"?{backgroundColor:"#FFC5C5",color:"#DF0404",border:"2px solid #DF0404"}:{backgroundColor:"white",color:"black"};return t("div",{children:o(_,{className:"bg-white p-2",style:{borderRadius:"40px"},children:[o("div",{className:"p-2 d-flex justify-content-between align-items-center overflow-x-auto z-index-1",children:[o("div",{children:[t("h3",{children:"All Employees"}),t("small",{style:{color:"#16C098"},children:"Active Members"})]}),o("div",{className:"d-flex align-items-center",children:[o(A,{className:"mr-3 ms-2",style:{borderRadius:"10px",overflow:"hidden"},children:[t(N,{style:{backgroundColor:"#F9FBFF",border:"none"},children:t(I,{size:16})}),t(p,{placeholder:"Search by name",value:c,onChange:e=>y(e.target.value),style:{border:"none",backgroundColor:"#F9FBFF"}})]}),o(p,{type:"select",className:"ms-1 me-1",name:"select",id:"exampleSelect",onChange:S,value:a,style:{border:"none",backgroundColor:"#F9FBFF"},children:[o("option",{disabled:!0,children:["Sort By ",a.charAt(0).toUpperCase()+a.slice(1)]}),t("option",{value:"newest",children:"Newest"}),t("option",{value:"oldest",children:"Oldest"})]}),t(j,{onClick:b,children:"Add Employee"}),t(D,{isOpen:m,handleClose:g,onEmployeeAdded:h})]})]}),t(M,{children:o(T,{responsive:!0,style:{backgroundColor:"white"},children:[t("thead",{style:{backgroundColor:"white"},children:o("tr",{children:[t("th",{children:"Employee Name"}),t("th",{children:"Date of Birth"}),t("th",{children:"Phone Number"}),t("th",{children:"Email"}),t("th",{children:"Country"}),t("th",{children:"Status"})]})}),t("tbody",{style:{backgroundColor:"white"},children:k.map((e,r)=>o("tr",{children:[t("td",{children:t(E,{to:`/EmployeeView/${e.id}`,style:{color:"#6e6b7b"},children:e.middle_name})}),t("td",{children:e.date_of_birth}),t("td",{children:e.phone}),t("td",{children:e.email}),t("td",{children:e.nationality}),t("td",{children:t("span",{style:{backgroundColor:n(e.status).backgroundColor,color:n(e.status).color,padding:"4px 25px",borderRadius:"4px",border:n(e.status).border},children:e.status})})]},r))})]})})]})})};export{U as default};
