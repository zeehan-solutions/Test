import{r as m,j as t,p as c,K as f,v as i,L as x,M as v}from"./index.9ce7a48c.js";import{R as b,c as g,F as w,L as y,h as N}from"./App.67f4a7e8.js";import{C as j,a as k}from"./CardTitle.079b6f41.js";import{b as O}from"./bgimage.20ea7dbb.js";function P(e,n){if(e==null)return{};var o=z(e,n),s,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],!(n.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(o[s]=e[s]))}return o}function z(e,n){if(e==null)return{};var o={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(n.indexOf(r)>=0)&&(o[r]=e[r]);return o}var u=m.exports.forwardRef(function(e,n){var o=e.color,s=o===void 0?"currentColor":o,r=e.size,a=r===void 0?24:r,d=P(e,["color","size"]);return t("svg",{ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:t("polyline",{points:"15 18 9 12 15 6"})})});u.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};u.displayName="ChevronLeft";const L=u;const R=()=>{const[e,n]=m.exports.useState(""),[o,s]=m.exports.useState(null),[r,a]=m.exports.useState(""),d=f(),h=async p=>{if(p.preventDefault(),!e.trim()){s("Email is required.");return}if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)){s("Please enter a valid email.");return}try{const l=await v.post("https://bapi.reownlogics.com/api/password/forgot",{email:e});console.log(l.data),a(l.data.message),setTimeout(()=>{d("/changepassword")},2e3),s(null)}catch(l){console.log(l),l.response&&l.response.data&&l.response.data.message?s(l.response.data.message):s("Failed to send OTP. Please try again."),a("")}};return t("div",{className:"auth-wrapper auth-cover",children:i(b,{className:"auth-inner m-0",children:[t(g,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",style:{backgroundImage:`url(${O})`,backgroundSize:"cover",backgroundPosition:"center",height:"100vh"},children:t("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5"})}),t(g,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:i(g,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[t(j,{tag:"h2",className:"fw-bold mb-1",children:"Forgot Password? \u{1F512}"}),t(k,{className:"mb-2",children:"Enter your registered email address. we\u2019ll send you a code to reset your password."}),i(w,{className:"auth-forgot-password-form mt-2",onSubmit:h,children:[o&&t("p",{className:"text-danger",children:o}),r&&t("p",{className:"text-success",children:r}),i("div",{className:"mb-1",children:[t(y,{className:"form-label",for:"login-email",children:"Email"}),t(N,{type:"email",id:"login-email",value:e,onChange:p=>n(p.target.value),placeholder:"john@example.com",autoFocus:!0})]}),t("button",{type:"submit",className:"custom-button",children:"Send OTP"})]}),t("p",{className:"text-center mt-2",children:i(x,{to:"/login",children:[t(L,{className:"rotate-rtl me-25",size:14}),t("span",{className:"align-middle",children:"Back to login"})]})})]})})]})})};export{R as default};
