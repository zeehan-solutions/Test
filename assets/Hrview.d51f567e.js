import{a as te,j as e,t as Vs,p as En,m as Ks,r,a6 as Ys,v as n,F as Xs,B as Mn,M}from"./index.9ce7a48c.js";import{q as Zs,r as qs,s as H,p as eo,N as to,i as J,j as G,k as ao,l as V,R,c as _,C as y,b as N,L as p,h as d,A as Rn,D as no,t as so,M as Bn,m as Tn,n as Dn,o as oo,v as lo,w as ro,X as io}from"./App.67f4a7e8.js";import{e as co,a as po,b as mo,l as ho,p as Fn,v as Pn,s as zn,f as jn,t as Wn,C as go,c as uo}from"./more-vertical.fd1ac41e.js";import{e as fo,d as xo}from"./delete.bc8c3c16.js";import{f as fe}from"./format.c2bfa3ae.js";import"./FormGroup.2d4a8952.js";import"./en-US.128dcaf8.js";var bo={placement:"right",placementPrefix:"bs-popover",trigger:"click",offset:[0,8]};function xe(u){var L=te("popover-arrow",u.arrowClassName),k=te("popover","show",u.popperClassName),v=te("popover-inner",u.innerClassName);return e(Zs,{...u,arrowClassName:L,popperClassName:k,innerClassName:v})}xe.propTypes=qs;xe.defaultProps=bo;var yo=["className","cssModule","tag"];function No(u,L){if(u==null)return{};var k=_o(u,L),v,a;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(u);for(a=0;a<E.length;a++)v=E[a],!(L.indexOf(v)>=0)&&(!Object.prototype.propertyIsEnumerable.call(u,v)||(k[v]=u[v]))}return k}function _o(u,L){if(u==null)return{};var k={},v=Object.keys(u),a,E;for(E=0;E<v.length;E++)a=v[E],!(L.indexOf(a)>=0)&&(k[a]=u[a]);return k}var vo={tag:Vs,className:En.exports.string,cssModule:En.exports.object};function Un(u){var L=u.className,k=u.cssModule,v=u.tag,a=v===void 0?"div":v,E=No(u,yo),i=Ks(te(L,"popover-body"),k);return e(a,{...E,className:i})}Un.propTypes=vo;const wo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOKSURBVHgBzVlbUuJAFG0iPqq0arKDCX5Y+iWsQNzBzApkVgCzAEv8UD/VFRhX4OxAZgUwVVapfEDYQb54P+ac2KG6GJBOhwFOVdN5NLknp7tv375JCEO8vr5mE4lEGuUEp2kUWxbCR/FYhsPhH9Slo6OjkjBAIkrjcrls7+3t5WG0AGIVGkddQl1pt9t+JpPxw3a7u7vOaDRiycqXsNl2MBhcgqyna1OLoDR4AWM5kLnHJTeKEQKKO6iKlmWdRCE6l2C1Ws2DWJHEoNJdqJIpJNEciJ7hmSTpClOA3O37+3sddVosGCQqn337WbupCsoufUI3NKBaIa5qs1Cv1+1ut/uAQ6fZbJ5q28GblfGGrlgSYM+Fks9ajWW3PoklQ5L8p7st9QSq5TAhvkHuH2LJ2NraKtD229tbQb2eUMg5mFnPmFmnUV3IosDJCJLPECgVjsexghsbGxcg97gqcsTBwQGd/z19bngtIEj16PFx6IoVY2dn544LAj0JzwOCVE98rJeeiIGrq6sRi4iBVCrlU0UQLYwJUj16dbE+cDEf8jywGJWg9lc59iZBLgxGyI0KZqHgb7FmkJFSGkpaxzgpiTUDIx5UgYIOCHrCEJgUaZN788AYEySPA4K9Xs8TBri5ueHsL19fX59N3pPXyrJNZGAW01HbJGibRiv9fj9YiTCGXZUkj3lNbRMVdDchQWOcn58XQ/cUElKPeY9tRAyQoB967bgkVcQlx1iR3AKCXwARA5MkF6Ec5oWDyiNB7sgyun+ctZyFJGeRi7oMyh1hI0knDV+YxbVfIibiqqaCyy9KxQp+4KzFmkHupUtJ7vgZ4tdqta/7+/sNjf8G098wavF0GsmtqU1ugZtheNPpdHTD/J+6hibAF9OKmMLwj8eBE5Xbv7oaaq8Kk1uPQEF6bYzFxzBIXCWSySRXpHHwPF5Jtre3mTfJv7y8LDyLoAuqB+Vyqk8dE5QqXm5ubj7FWVlMQZuyaz9PKmFfeoft34NYMuhJaFurMdMQyyRJW0y3TLs3NZpBN39Hd6f5Vv+zu/lsKUSQPBJRQcmZIpOOc6FgFoHPntetc4NJ5msweC9QXASfsTMPahqZk/Lw8DAeQUnSEQbp28ln0MdJYo+tVquosyhECsdVoqh9kmU0xD0Ni5pEh9On2xh/BeCYNkkjG+0XJNms4LbwIxJyZFE/Q7BU+AKMmEw/Q/wFnzOJj0neFD4AAAAASUVORK5CYII=",So="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL3SURBVHgBtZZLaBNBGMf/M7ubxE3aPFofCEEUeig+2pqgoFIP0mr1IAU9KEIVL15U8CCCICge7EEvgifxKmIPgrUVLXoSqZUohYogWk8K2ubRNo9ukh2/3aRpEzdt0yT/MDA7O9nfN/P999thsNDkZMQjKcm/YExGBQqNT4wfP3KogzGml5vDLQflxJdKYYaEwK6nz1/9FEJIqARIsmGNsimyn6CT5aAcdZABHRi0htYFaEiRrVdaUyCZpejaantrCgy27YCmadB1vdAkifmfPBsuQCt24nLShY79ewOYS6QwG09BLN7yU/NQm655DrPZLBx2BapDoQh0iHxbUF1MY2TSqTqo2cFK7tV0S62ghuKJ+foDS6HLAoXNIcAEqkExbd54T/6DFrY4fKBFcNVl9rnEdCZYFfkVmO88jETfpcKIf/OmZnpPp80Vio9vm2f6b5kR5aaDV7M+Q0roPXD2slnRl8oEzpbOJrBIJnLddWruT4a1F+wty4V5SKeXPG1lS1jOkHcGoF7vN/vZH98wd+UcXHcfQtraYlCgvRlC8sEdCsaFxsevKSAKhDIQPRoEb/QsC7TME1NVpB7dR6wnCP3Pb0hbtoE3rUf0YCti3R2EFLCf6ANTFGRCo4h2t9N4O7jHh5VU1hhMdZrRym1BiPBUbszjBWtqRuLeTdiPnSSsgLx7D9zDIbiHxiBSSaykspuudHZBamlF4vZViEw+T2kNgnJm7z2DzOdRw/zIfPqA+LULFDoHc3uxJqCgeqiNDEJ7MZAfINNIirkS8zIaRuxUN/iGjRQZlS9vE1YrS2Bm7F3OkTy/4+TGmdNdtMKM+eayBje4m8yhpRG/cRHMZkdFwAb6zZTe4cXpZfmiUCRyZ1mYrpcHIhAI05fyJV/nNGtQ3OXeR/lZ80GKUSC/es/DJ4Q1MH+O7FkYnPj6fYpJfPWJKZGB8ZUU7SJgqVy0UMbrc76yfCp9KtKorUQkEsmUBXobnduFQLX1e5Em9BGfzxcz+v8A80ECngwQCFUAAAAASUVORK5CYII=",ee=H.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px !important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;
  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Ao=H.button`
  background-color: transparent !important;
  padding: 8px;
  width:115px;
  border: 1px solid #BFBFBF;
  border-radius:10px!important;
  color: #BFBFBF;
  cursor: pointer;
  transition: background-color 0.3s;

       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,ko=H.button`
  background-color: #0C1539 !important;
  padding: 8px;
  width:115px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;H.button`
  background-color: #0C1539 !important;
  padding: 12px;
  width:185px;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
border: none !important;

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
       &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;const Hn=H.button`
  background-color: #0C1539 !important;
  padding: 10px;
  width:100%;
  border-radius:10px!important;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
  border: none; 

  &:hover {
    background-color: #1a2447 !important; /* Lighter shade on hover */
  }
`,Io=H.button`
  background-color: white !important;
  padding: 10px;
  width:100%;
  border-radius: 10px!important;
  color: #BFBFBF;
  cursor: pointer;
  transition: background-color 0.3s;
  border: 1px solid #BFBFBF !important;

  &:hover {
    background-color: white !important; /* Lighter shade on hover */
  }
`,Co="https://bapi.reownlogics.com",Uo=()=>{var Xe,Ze,qe,et,tt,at,nt,st,ot,lt,rt,it,ct,dt,pt,mt,ht,gt,ut,ft,xt,bt,yt,Nt,_t,vt,wt,St,At,kt,It,Ct,Lt,Et,Mt,Rt,Bt,Tt,Dt,Ft,Pt,zt,jt,Wt,Ht,Ut,Ot,$t,Qt,Jt,Gt,Vt,Kt,Yt,Xt,Zt,qt,ea,ta,aa,na,sa,oa,la,ra,ia,ca,da,pa,ma,ha,ga,ua,fa,xa,ba,ya,Na,_a,va,wa,Sa,Aa,ka,Ia,Ca,La,Ea,Ma,Ra,Ba,Ta,Da,Fa,Pa,za,ja,Wa,Ha,Ua,Oa,$a,Qa,Ja,Ga,Va,Ka,Ya,Xa,Za,qa,en,tn,an,nn,sn,on,ln,rn,cn,dn,pn,mn,hn,gn,un,fn,xn,bn,yn,Nn,_n,vn,wn;r.exports.useState([]),r.exports.useState("");const[u,L]=r.exports.useState(!1),[k,v]=r.exports.useState(!1);r.exports.useState(!1);const[a,E]=r.exports.useState(null),[i,On]=r.exports.useState([]),[Lo,K]=r.exports.useState(!0),[Eo,Y]=r.exports.useState(""),[$n,Mo]=r.exports.useState("");r.exports.useState(!1);const{id:Qn}=Ys();r.exports.useState(40.7128),r.exports.useState(-74.006),r.exports.useState("");const[h,Jn]=r.exports.useState([]);r.exports.useState([]);const[o,Gn]=r.exports.useState([]),[Vn,Kn]=r.exports.useState(!1);r.exports.useState(null),r.exports.useState(null),r.exports.useState(null);const[be,Yn]=r.exports.useState(!1),[Xn,ye]=r.exports.useState(!1),[Zn,qn]=r.exports.useState(null),[ae,es]=r.exports.useState(!1),[ts,Ro]=r.exports.useState({}),[Ne,_e]=r.exports.useState(""),[ve,we]=r.exports.useState(""),[Se,Ae]=r.exports.useState(!1),[ke,Ie]=r.exports.useState(!1),[Ce,Le]=r.exports.useState(!1),[ne,Ee]=r.exports.useState(!1),[as,se]=r.exports.useState([]),[X,Me]=r.exports.useState([]);r.exports.useState(""),r.exports.useState(null);const[Bo,ns]=r.exports.useState(!1),[U,D]=r.exports.useState(null),[ss,O]=r.exports.useState(!1),[Re,Be]=r.exports.useState(null),[Te,De]=r.exports.useState(!1),[Fe,os]=r.exports.useState(!1),[ls,rs]=r.exports.useState(""),[is,Pe]=r.exports.useState(0),[cs,ze]=r.exports.useState(!1),[ds,ps]=r.exports.useState(0),[ms,hs]=r.exports.useState(0),F=r.exports.useRef(null),je=t=>t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"",[gs,We]=r.exports.useState(!1),[us,fs]=r.exports.useState(0),[xs,bs]=r.exports.useState(0),P=r.exports.useRef(null),[B,He]=r.exports.useState(1),oe=10,ys=t=>{t.preventDefault(),ze(!0),ps(t.pageX-F.current.offsetLeft),hs(F.current.scrollLeft),F.current.style.cursor="grabbing"},Ns=t=>{if(!cs)return;t.preventDefault();const l=(t.pageX-F.current.offsetLeft-ds)*2;F.current.scrollLeft=ms-l},Ue=()=>{ze(!1),F.current.style.cursor="grab"},_s=t=>{t.preventDefault(),We(!0),fs(t.pageX-P.current.offsetLeft),bs(P.current.scrollLeft),P.current.style.cursor="grabbing"},vs=t=>{if(!gs)return;t.preventDefault();const l=(t.pageX-P.current.offsetLeft-us)*2;P.current.scrollLeft=xs-l},Oe=()=>{We(!1),P.current.style.cursor="grab"},le=t=>{typeof t=="string"&&rs(t),os(!Fe)},re=r.exports.useRef(null);r.exports.useEffect(()=>{const t=s=>{re.current&&!re.current.contains(s.target)&&!s.target.closest(".action-icon")&&D(null)};return U!==null&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[U]);const $e=(t,s)=>{ns(l=>({...l,[t]:s}))},z=localStorage.getItem("user_role")||"",S=localStorage.getItem("employee_id")||"";console.log("UserRole",z),console.log("employee_id",S),console.log("first",Qn);const W=async()=>{try{const t=localStorage.getItem("authToken"),s=await M.get(`https://bapi.reownlogics.com/api/employees/${S}`,{headers:{Authorization:`Bearer ${t}`}});E(s.data),console.log("emp",s.data)}catch{Y("Failed to fetch employee details")}finally{K(!1)}};r.exports.useEffect(()=>{W()},[]);const ws=[{task:"Task 1",updatedBy:"John Doe",date:"2025-01-30"},{task:"Task 2",updatedBy:"Jane Smith",date:"2025-01-29"},{task:"Task 3",updatedBy:"Alex Brown",date:"2025-01-28"}],[j,Ss]=r.exports.useState("1"),$=t=>{j!==t&&Ss(t)},As=(t,s)=>{const[l,c]=r.exports.useState("");return r.exports.useEffect(()=>{if(!t)return;const m=()=>{const A=new Date(t),C=s?new Date(s):new Date,Q=Math.floor((C-A)/1e3),q=Math.floor(Q/3600),he=Math.floor(Q%3600/60),ge=Q%60;c(`${q.toString().padStart(2,"0")}:${he.toString().padStart(2,"0")}:${ge.toString().padStart(2,"0")}`)};if(s){m();return}const I=setInterval(m,1e3);return()=>clearInterval(I)},[t,s]),l},Qe=()=>Yn(!be),ks=t=>{qn(t),ye(!0),D(null)},T=t=>{if(!t)return"Invalid Date";let s;t.includes("T")?s=new Date(t):s=new Date(t.replace(" ","T")+"Z");let l=s.getUTCHours(),c=s.getUTCMinutes(),m=l>=12?"PM":"AM";return l=l%12||12,`${l}:${c.toString().padStart(2,"0")} ${m}`},Je=t=>{if(!t)return"Invalid Time";const[s,l]=t.split(":").map(Number);if(isNaN(s)||isNaN(l))return"Invalid Time";const c=s>=12?"PM":"AM";return`${s%12||12}:${l.toString().padStart(2,"0")} ${c}`},Ge=t=>{const s=new Date(t),l={weekday:"short",year:"numeric",month:"numeric",day:"numeric"};return s.toLocaleDateString("en-US",l)},Ve=t=>{if(!t)return"";const s={month:"short",day:"numeric"};return new Date(t).toLocaleDateString("en-US",s)},Is=async()=>{try{const t=localStorage.getItem("authToken"),s=await M.get(`https://bapi.reownlogics.com/api/employee/time-offs/${S}`,{headers:{Authorization:`Bearer ${t}`}});On(s.data),console.log("timeoff",s.data)}catch{Y("Failed to fetch timeoff details")}finally{K(!1)}},ie=async()=>{try{const t=localStorage.getItem("authToken"),s=await M.get(`https://bapi.reownlogics.com/api/current-day-attendance-summary/${S}`,{headers:{Authorization:`Bearer ${t}`}});Gn(s.data),console.log("fetchCurrentDaySummary",s.data)}catch{Y("Failed to fetch timeoff details")}finally{K(!1)}},ce=async()=>{const t=fe(new Date,"yyyy-MM");try{const s=localStorage.getItem("authToken"),l=await M.get(`https://bapi.reownlogics.com/api/attendance-summary/${S}?month=${t}`,{headers:{Authorization:`Bearer ${s}`}});Jn(l.data),console.log("attendence",l.data)}catch{Y("Failed to fetch employee details")}finally{K(!1)}};r.exports.useEffect(()=>{console.log("messagee",$n),ce(),Is(),ie()},[]);const Cs=[{id:1,icon:co,title:"Attendance %",percentage:(Xe=h==null?void 0:h.attendance)==null?void 0:Xe.attendance_percentage,smallPercentage:"+2%",color:"#E5FFF1",textColor:"#00AE4E"},{id:2,icon:po,title:"Attendance",percentage:(Ze=h==null?void 0:h.attendance)==null?void 0:Ze.present,smallPercentage:"-1%",color:"#FFDFF6",textColor:"#F83C3F"},{id:3,icon:mo,title:"Absents",percentage:(qe=h==null?void 0:h.attendance)==null?void 0:qe.absent,smallPercentage:"+3%",color:"#DDFFE7",textColor:"#00AE4E"},{id:4,icon:ho,title:"Late",percentage:((et=h==null?void 0:h.attendance)==null?void 0:et.totalLateHours)!==void 0?Math.round(Number(h.attendance.totalLateHours)):0,smallPercentage:"-2%",color:"#FFEBEA",textColor:"#F83C3F"}],Ls=t=>{if(!t)return"0hrs 0mins";const s=Math.abs(Math.round(parseFloat(t)*60)),l=Math.floor(s/60),c=s%60;return`${l}hrs ${c}mins`},Es=((at=(tt=h==null?void 0:h.attendance)==null?void 0:tt.attendance_detail)==null?void 0:at.map(t=>{const s=t.attendance_date?fe(new Date(t.attendance_date),"dd/MM/yyyy"):"N/A",l=t.check_in?T(t.check_in):"N/A",c=t.check_out?T(t.check_out):"N/A",m=Ls(t.working_hours)||0;return{day:t.attendance_date?fe(new Date(t.attendance_date),"EEEE"):"N/A",date:s,shift:t.working_shift||"N/A",checkIn:l,checkOut:c||"N/A",hours:m}}))||[],Ms=[{name:"Day",selector:t=>t.day,sortable:!0},{name:"Date",selector:t=>t.date,sortable:!0},{name:"Shift",selector:t=>t.shift,sortable:!0},{name:"Check-In",selector:t=>t.checkIn,sortable:!0},{name:"Check-Out",selector:t=>t.checkOut,sortable:!0},{name:"Total Working Hour",selector:t=>t.hours,sortable:!0}],Ke=Math.ceil(ws.length/oe),Rs=Es.slice((B-1)*oe,B*oe),Bs=()=>{B>1&&He(B-1)},Ts=()=>{B<Ke&&He(B+1)},Ds=[{name:(st=(nt=i==null?void 0:i.time_off_summary)==null?void 0:nt[0])==null?void 0:st.name,available:`${(lt=(ot=i==null?void 0:i.time_off_summary)==null?void 0:ot[0])==null?void 0:lt.name} available: ${(it=(rt=i==null?void 0:i.time_off_summary)==null?void 0:rt[0])==null?void 0:it.available}`,imgSrc:Fn},{name:(dt=(ct=i==null?void 0:i.time_off_summary)==null?void 0:ct[1])==null?void 0:dt.name,available:`${(mt=(pt=i==null?void 0:i.time_off_summary)==null?void 0:pt[1])==null?void 0:mt.name} available: ${(gt=(ht=i==null?void 0:i.time_off_summary)==null?void 0:ht[1])==null?void 0:gt.available}`,imgSrc:Pn},{name:(ft=(ut=i==null?void 0:i.time_off_summary)==null?void 0:ut[2])==null?void 0:ft.name,available:`${(bt=(xt=i==null?void 0:i.time_off_summary)==null?void 0:xt[2])==null?void 0:bt.name} available: ${(Nt=(yt=i==null?void 0:i.time_off_summary)==null?void 0:yt[2])==null?void 0:Nt.available}`,imgSrc:zn},{name:(vt=(_t=i==null?void 0:i.time_off_summary)==null?void 0:_t[3])==null?void 0:vt.name,available:`${(St=(wt=i==null?void 0:i.time_off_summary)==null?void 0:wt[3])==null?void 0:St.name} available: ${(kt=(At=i==null?void 0:i.time_off_summary)==null?void 0:At[3])==null?void 0:kt.available}`,imgSrc:jn}],Fs=t=>{if(!t)return"N/A";const s={year:"numeric",month:"short",day:"2-digit"};return new Date(t).toLocaleDateString("en-US",s)};function Z(t){if(!t)return"N/A";const s=new Date(t);return isNaN(s.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit",year:"numeric"}).format(s)}const Ps=t=>{Be(t),O(!0)},zs=async()=>{if(!Re)return;const t=localStorage.getItem("authToken");try{De(!0);const s=await M.delete(`https://bapi.reownlogics.com/api/employee_document_delete/${Re}`,{headers:{Authorization:`Bearer ${t}`}});await W()}catch(s){console.error("Error deleting document:",s),alert("Error deleting document. Please try again.")}finally{O(!1),Be(null),D(null),De(!1)}},x=z==="hr",[b,de]=r.exports.useState({company_name:((Ct=(It=a==null?void 0:a.request[0])==null?void 0:It.employee_role)==null?void 0:Ct.company_name)||"",position_arabic:((Et=(Lt=a==null?void 0:a.request[0])==null?void 0:Lt.employee_role)==null?void 0:Et.position_arabic)||"",years_of_experience:((Rt=(Mt=a==null?void 0:a.request[0])==null?void 0:Mt.employee_role)==null?void 0:Rt.years_of_experience)||"",project_name:((Tt=(Bt=a==null?void 0:a.request[0])==null?void 0:Bt.employee_role)==null?void 0:Tt.project_name)||"",line_manager_id:((Ft=(Dt=a==null?void 0:a.request[0])==null?void 0:Dt.employee_role)==null?void 0:Ft.line_manager_id)||"",line_manager_email:((zt=(Pt=a==null?void 0:a.request[0])==null?void 0:Pt.employee_role)==null?void 0:zt.line_manager_email)||"",department_id:((Wt=(jt=a==null?void 0:a.request[0])==null?void 0:jt.employee_role)==null?void 0:Wt.department_id)||"",bonafide_id:((Ut=(Ht=a==null?void 0:a.request[0])==null?void 0:Ht.employee_role)==null?void 0:Ut.bonafide_id)||"",grade:(($t=(Ot=a==null?void 0:a.request[0])==null?void 0:Ot.employee_role)==null?void 0:$t.grade)||"",employee_status:((Jt=(Qt=a==null?void 0:a.request[0])==null?void 0:Qt.employee_role)==null?void 0:Jt.employee_status)||"",employment_start_date:((Vt=(Gt=a==null?void 0:a.request[0])==null?void 0:Gt.employee_role)==null?void 0:Vt.employment_start_date)||"",employee_id:S||"",position_english:((Yt=(Kt=a==null?void 0:a.request[0])==null?void 0:Kt.employee_role)==null?void 0:Yt.position_english)||"",sub_department:((Zt=(Xt=a==null?void 0:a.request[0])==null?void 0:Xt.employee_role)==null?void 0:Zt.sub_department)||"",employment_type:((ea=(qt=a==null?void 0:a.request[0])==null?void 0:qt.employee_role)==null?void 0:ea.employment_type)||"",probation_period_end_date:((aa=(ta=a==null?void 0:a.request[0])==null?void 0:ta.employee_role)==null?void 0:aa.probation_period_end_date)||"",contract_duration:((sa=(na=a==null?void 0:a.request[0])==null?void 0:na.employee_role)==null?void 0:sa.contract_duration)||"",id:((la=(oa=a==null?void 0:a.request[0])==null?void 0:oa.employee_role)==null?void 0:la.id)||"",cv:""}),js=t=>{const s=t.target.files[0]||null;de(l=>({...l,cv:s}))},Ws=t=>{const s=t.target.files[0]||null;s&&["image/jpeg","image/png","image/jpg","image/gif"].includes(s.type)?pe(l=>({...l,profile_picture:s})):alert("Invalid file type. Please select a jpeg, png, jpg, or gif image.")};r.exports.useEffect(()=>{var t;z==="hr"&&((t=a==null?void 0:a.request[0])==null?void 0:t.employee_role)&&de(s=>({...s,...a.request[0].employee_role,employee_id:S||""}))},[a,z,S]);const w=t=>{const{name:s,value:l}=t.target;if(s==="probation_period_end_date"&&b.employment_start_date){const c=new Date(b.employment_start_date);if(new Date(l)<c){_e("End Date cannot be before Start Date");return}else _e("")}de(c=>({...c,[s]:l||""}))},Hs=async()=>{var l,c,m,I;const t=localStorage.getItem("authToken"),s=new FormData;Object.entries(b).forEach(([A,C])=>{A==="cv"?C&&typeof C=="object"&&C.name&&C.size&&C.type&&s.append(A,C):C&&s.append(A,C)});try{Ae(!0);const A=await M.post("https://bapi.reownlogics.com/api/employee_role_update",s,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});await W(),we(""),Le(A.data.message),setTimeout(()=>{Le("")},2e3)}catch(A){console.error("Error updating data:",((c=(l=A.response)==null?void 0:l.data)==null?void 0:c.error)||A.message),we(((I=(m=A.response)==null?void 0:m.data)==null?void 0:I.error)||"An error occurred")}finally{Ae(!1)}},[g,pe]=r.exports.useState({family_name:"",nationality:"",religion:"",qualification:"",district:"",zip_code:"",home_country_address:"",middle_name:"",name_in_arabic:"",marital_status:"",phone:"",major:"",street_no:"",additional_number:"",last_name:"",date_of_birth:"",gender:"",email:"",city:"",building_no:"",unit_number:"",profile_picture:"",employee_id:S});r.exports.useEffect(()=>{var t;(t=a==null?void 0:a.request)!=null&&t[0]&&pe(s=>({...s,...a.request[0],employee_id:S}))},[a]);const f=t=>{const{name:s,value:l}=t.target;pe(c=>({...c,[s]:l}))},Us=async()=>{const t=localStorage.getItem("authToken"),s=new FormData;Object.entries(g).forEach(([l,c])=>{l==="profile_picture"?c&&typeof c=="object"&&c.name&&c.size&&c.type&&s.append(l,c):c&&s.append(l,c)});try{Ie(!0);const l=await M.post("https://bapi.reownlogics.com/api/update_onboardEmployee",s,{headers:{Authorization:`Bearer ${t}`}});localStorage.setItem("user_first_name",g.middle_name),localStorage.setItem("user_last_name",g.last_name),await W(),z==="hr"&&setTimeout(()=>{var c,m,I;localStorage.setItem("picture",(I=(m=(c=l==null?void 0:l.data)==null?void 0:c.data)==null?void 0:m.user)==null?void 0:I.profile_picture),window.dispatchEvent(new Event("storage"))},500),Ee(l.data.message),setTimeout(()=>{Ee("")},3e3)}catch(l){console.error("Error updating employee details:",l),alert("Failed to update employee details.")}finally{Ie(!1)}};r.exports.useEffect(()=>{const t=async()=>{var c;const l=localStorage.getItem("authToken");if(!l){console.error("User token is missing");return}try{const m=await M.get("https://bapi.reownlogics.com/api/department",{headers:{Authorization:`Bearer ${l}`}});console.log("API Response:",m.data),Array.isArray(m.data)?se(m.data):(console.error("Unexpected API response format:",m.data),se([]))}catch(m){console.error("Error fetching departments:",((c=m.response)==null?void 0:c.data)||m.message),se([])}},s=async()=>{var c;const l=localStorage.getItem("authToken");if(!l){console.error("User token is missing");return}try{const m=await M.get("https://bapi.reownlogics.com/api/all-managers",{headers:{Authorization:`Bearer ${l}`}});console.log("API Response:",m.data),Me(m.data)}catch(m){console.error("Error fetching linemanager:",((c=m.response)==null?void 0:c.data)||m.message),Me([])}};t(),s()},[]),console.log("rolemanager",X.data);const Ye=()=>{Kn(t=>!t)};console.log("apichecjin",(ra=o==null?void 0:o.attendance_detail)==null?void 0:ra.check_in),console.log("apichecjin",T((ia=o==null?void 0:o.attendance_detail)==null?void 0:ia.check_in)),console.log("hr",(pa=(da=(ca=a==null?void 0:a.request)==null?void 0:ca[0])==null?void 0:da.user)==null?void 0:pa.profile_picture);const me=ae?i==null?void 0:i.upcoming_requests:(ma=i==null?void 0:i.upcoming_requests)==null?void 0:ma.slice(0,2),Os=As((ha=o==null?void 0:o.attendance_detail)==null?void 0:ha.check_in,(ga=o==null?void 0:o.attendance_detail)==null?void 0:ga.check_out);return r.exports.useEffect(()=>{const t=()=>{var kn,In,Cn,Ln;const l=(kn=o==null?void 0:o.attendance_detail)==null?void 0:kn.check_in;(In=o==null?void 0:o.attendance_detail)==null||In.check_out;const c=(Cn=o==null?void 0:o.workSchedule)==null?void 0:Cn.check_in,m=(Ln=o==null?void 0:o.workSchedule)==null?void 0:Ln.check_out;if(!l||!c||!m)return Pe(0);const I=new Date(l),[A,C,Q]=c.split(":").map(Number),q=new Date(I);q.setHours(A,C,Q,0);const[he,ge,$s]=m.split(":").map(Number),Sn=new Date(I);Sn.setHours(he,ge,$s,0);const An=q.getTime(),Qs=Sn.getTime(),Js=new Date().getTime()-Math.max(I.getTime(),An),ue=Qs-An;console.log("totalShiftDuration",ue);const Gs=ue>0?Math.min(Js/ue*100,100):0;Pe(Gs)};t();const s=setInterval(t,1e3);return()=>clearInterval(s)},[o]),n(Xs,{children:[n("div",{className:"p-2 text-white d-flex align-items-center rounded-lg w-80",style:{backgroundColor:"#081438",borderRadius:"16px"},children:[e("img",{src:(xa=(fa=(ua=a==null?void 0:a.request)==null?void 0:ua[0])==null?void 0:fa.user)!=null&&xa.profile_picture?`${Co}/${a.request[0].user.profile_picture}`:eo,alt:"Profile",className:" rounded-full border-4 border-white headImg",style:{borderRadius:"50%",marginRight:"20px"}}),e("h3",{className:"text-white headTitle",style:{fontWeight:"600"},children:`${je((ya=(ba=a==null?void 0:a.request)==null?void 0:ba[0])==null?void 0:ya.middle_name)||""} ${je((_a=(Na=a==null?void 0:a.request)==null?void 0:Na[0])==null?void 0:_a.last_name)||""}`.trim()})]}),e("br",{}),n(to,{tabs:!0,children:[e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:j==="1",onClick:()=>{$("1")},children:"Personal"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:j==="2",onClick:()=>{$("2")},children:"Role"})}),z==="hr"&&e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:j==="3",onClick:()=>{$("3")},children:"Documents"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:j==="4",onClick:()=>{$("4")},children:"Time Off"})}),e(J,{className:"navbarItem",children:e(G,{className:"navbarLink",active:j==="6",onClick:()=>{$("6")},children:"Attendance"})})]}),n(ao,{className:"py-50",activeTab:j,children:[e(V,{tabId:"1",children:n(R,{children:[e(_,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{className:"p-1",children:[n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((wa=(va=a==null?void 0:a.request)==null?void 0:va[0])==null?void 0:wa.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",Z((Aa=(Sa=a==null?void 0:a.request)==null?void 0:Sa[0])==null?void 0:Aa.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((Ca=(Ia=(ka=a==null?void 0:a.request)==null?void 0:ka[0])==null?void 0:Ia.department)==null?void 0:Ca.name)||"---"]})]})})}),n(_,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(y,{className:" bg-white",style:{borderRadius:"5px",padding:"15.5px 16px",marginBottom:"20px"},children:e(N,{className:"p-0",children:e("h4",{className:"mb-0 fw-semibold",children:"Personal"})})}),e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{children:[n(R,{children:[n(_,{lg:"4",md:"4",xs:"12",children:[e(p,{className:"personalLabel",children:"Family Name"}),e(d,{className:"personalInput",type:"text",name:"family_name",value:g.family_name,onChange:f}),e(p,{className:"personalLabel",children:"Nationality"}),e(d,{className:"personalInput",type:"text",name:"nationality",value:g.nationality,onChange:f}),e(p,{className:"personalLabel",children:"Religion"}),e(d,{className:"personalInput",type:"text",name:"religion",value:g.religion,onChange:f}),e(p,{className:"personalLabel",children:"Qualification"}),e(d,{className:"personalInput",type:"text",name:"qualification",value:g.qualification,onChange:f}),e(p,{className:"personalLabel",children:"District"}),e(d,{className:"personalInput",type:"text",name:"district",value:g.district,onChange:f}),e(p,{className:"personalLabel",children:"Zip Code"}),e(d,{className:"personalInput",type:"text",name:"zip_code",value:g.zip_code,onChange:f}),e(p,{className:"personalLabel",children:"Home Country Address"}),e(d,{className:"personalInput",type:"text",name:"home_country_address",value:g.home_country_address,onChange:f})]}),n(_,{lg:"4",md:"4",xs:"12",children:[e(p,{className:"personalLabel",children:"First Name"}),e(d,{className:"personalInput",type:"text",name:"middle_name",value:g.middle_name,onChange:f}),e(p,{className:"personalLabel",children:"Name in Arabic"}),e(d,{className:"personalInput",type:"text",name:"name_in_arabic",value:g.name_in_arabic,onChange:f}),e(p,{className:"personalLabel",children:"Marital Status"}),e(d,{className:"personalInput",type:"text",name:"marital_status",value:g.marital_status,onChange:f}),e(p,{className:"personalLabel",children:"Phone"}),e(d,{className:"personalInput",type:"text",name:"phone",value:g.phone,onChange:f}),e(p,{className:"personalLabel",children:"Major"}),e(d,{className:"personalInput",type:"text",name:"major",value:g.major,onChange:f}),e(p,{className:"personalLabel",children:"Street No"}),e(d,{className:"personalInput",type:"text",name:"street_no",value:g.street_no,onChange:f}),e(p,{className:"personalLabel",children:"Additional Number"}),e(d,{className:"personalInput",type:"text",name:"additional_number",value:g.additional_number,onChange:f})]}),n(_,{lg:"4",md:"4",xs:"12",children:[e(p,{className:"personalLabel",children:"Last Name"}),e(d,{className:"personalInput",type:"text",name:"last_name",value:g.last_name,onChange:f}),e(p,{className:"personalLabel",children:"Date of Birth"}),e(d,{className:"personalInput",type:"date",name:"date_of_birth",value:g.date_of_birth,onChange:f}),e(p,{className:"personalLabel",for:"gender",children:"Gender"}),x?n(d,{className:"personalInput",type:"select",name:"gender",id:"gender",value:g.gender,onChange:f,disabled:!x,children:[e("option",{value:"",children:"Select Gender"}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]}):e(d,{className:"personalInput",type:"text",name:"gender",value:g.gender,onChange:f}),e(p,{className:"personalLabel",children:"Email"}),e(d,{className:"personalInput",type:"email",name:"email",value:g.email,onChange:f}),e(p,{className:"personalLabel",children:"City"}),e(d,{className:"personalInput",type:"text",name:"city",value:g.city,onChange:f}),e(p,{className:"personalLabel",children:"Building No"}),e(d,{className:"personalInput",type:"text",name:"building_no",value:g.building_no,onChange:f}),e(p,{className:"personalLabel",children:"Unit Number"}),e(d,{className:"personalInput",type:"text",name:"unit_number",value:g.unit_number,onChange:f})]}),n("div",{className:"px-1",children:[e(p,{className:"personalLabel",children:"Profile Picture"}),e(d,{className:"personalInput",type:"file",accept:".png,.jpg,.jpeg",onChange:Ws})]}),ne&&e(Rn,{color:ne==="Profile updated request sent to hr successfully"?"warning":"success",className:"mt-2 p-1",children:ne})]}),e("div",{className:"w-100 text-center mt-1",children:e(ee,{onClick:Us,disabled:ke,children:ke?"Updating ...":"Update"})})]})})]})]})}),e(V,{tabId:"2",children:n(R,{children:[e(_,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{className:"p-1",children:[n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((Ea=(La=a==null?void 0:a.request)==null?void 0:La[0])==null?void 0:Ea.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",Z((Ra=(Ma=a==null?void 0:a.request)==null?void 0:Ma[0])==null?void 0:Ra.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((Da=(Ta=(Ba=a==null?void 0:a.request)==null?void 0:Ba[0])==null?void 0:Ta.department)==null?void 0:Da.name)||"---"]})]})})}),n(_,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(y,{className:"shadow-sm bg-white",style:{borderRadius:"5px",padding:"15.5px 16px",marginBottom:"20px"},children:e(N,{className:"p-0",children:e("h4",{className:"mb-0 fw-semibold",children:"Role"})})}),e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:(Fa=a==null?void 0:a.request[0])!=null&&Fa.employee_role?n(N,{children:[n(R,{children:[n(_,{sm:"4",children:[e(p,{className:"roleLabel",children:"Company"}),e(d,{className:"roleInput",type:"text",name:"company_name",value:b.company_name,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Position in Arabic"}),e(d,{className:"roleInput",type:"text",name:"position_arabic",value:b.position_arabic,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Years of Experience"}),e(d,{className:"roleInput",type:"text",name:"years_of_experience",value:b.years_of_experience,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",for:"lineManager",children:"Line Manager"}),n(d,{className:"roleInput",type:"select",id:"lineManager",name:"line_manager_id",value:b.line_manager_id,onChange:w,readOnly:!x,children:[e("option",{value:"",children:"Select Line Manager"}),(Pa=X==null?void 0:X.data)==null?void 0:Pa.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(p,{className:"roleLabel",children:"Project Name"}),e(d,{className:"roleInput",type:"text",name:"project_name",value:b.project_name,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Line Manager Email"}),e(d,{className:"roleInput",type:"text",name:"line_manager_email",value:b.line_manager_email,onChange:w,readOnly:!x})]}),n(_,{sm:"4",children:[e(p,{className:"roleLabel",for:"department",children:"Department"}),n(d,{className:"roleInput",type:"select",id:"department",name:"department_id",value:b.department_id,onChange:w,readOnly:!x,children:[e("option",{value:"",children:"Select Department"}),as.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e(p,{className:"roleLabel",children:"BONAFIDE ID"}),e(d,{className:"roleInput",type:"text",name:"bonafide_id",value:b.bonafide_id,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Grade"}),e(d,{className:"roleInput",type:"text",name:"grade",value:b.grade,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"My Status"}),e(d,{className:"roleInput",type:"text",name:"employee_status",value:b.employee_status,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Employment Start Date"}),e(d,{className:"roleInput",type:"date",name:"employment_start_date",value:b.employment_start_date||"",onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Employee ID"}),e(d,{className:"roleInput",type:"text",value:((ja=(za=a==null?void 0:a.request[0])==null?void 0:za.employee_role)==null?void 0:ja.employee_id)||"",readOnly:!x})]}),n(_,{sm:"4",children:[e(p,{className:"roleLabel",children:"Position in English"}),e(d,{className:"roleInput",type:"text",name:"position_english",value:b.position_english,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"CV"}),e(d,{className:"roleInput",type:"file",accept:".pdf,.doc,.docx",onChange:js}),e(p,{className:"roleLabel",children:"Sub-Department"}),e(d,{className:"roleInput",type:"text",name:"sub_department",value:b.sub_department||"",onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Employment Type"}),e(d,{className:"roleInput",type:"text",name:"employment_type",value:b.employment_type,onChange:w,readOnly:!x}),e(p,{className:"roleLabel",children:"Probation Period End Date"}),e(d,{className:"roleInput",type:"date",name:"probation_period_end_date",value:b.probation_period_end_date,onChange:w,readOnly:!x}),Ne&&e("small",{className:"text-danger",children:Ne}),e(p,{className:"roleLabel",children:"Contract Duration (In Months)"}),e(d,{className:"roleInput",type:"number",name:"contract_duration",value:b.contract_duration,onChange:w,readOnly:!x})]}),Ce&&e(Rn,{color:"success",className:"mt-2 p-1",children:Ce}),ve&&e("small",{className:"text-danger",children:ve})]}),x&&e("div",{className:"w-100 text-center mt-1",children:e(ee,{onClick:Hs,disabled:Se,children:Se?"Updating ...":"Update"})})]}):e("div",{className:"p-1",children:"Role Data is Empty"})})]})]})}),z==="hr"&&e(V,{tabId:"3",children:n(R,{children:[e(_,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{className:"p-1",children:[n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((Ha=(Wa=a==null?void 0:a.request)==null?void 0:Wa[0])==null?void 0:Ha.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",Z((Oa=(Ua=a==null?void 0:a.request)==null?void 0:Ua[0])==null?void 0:Oa.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((Ja=(Qa=($a=a==null?void 0:a.request)==null?void 0:$a[0])==null?void 0:Qa.department)==null?void 0:Ja.name)||"---"]})]})})}),n(_,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(y,{className:"bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(N,{style:{padding:"5px 16px"},children:n("div",{className:"d-flex align-items-center justify-content-between",children:[e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Documents"}),e(ee,{onClick:Qe,children:"Upload"}),e(no,{employeeId:S,isOpen:be,toggle:Qe,fetchEmployeeDetail:W})]})})}),e(y,{className:" ",style:{borderRadius:"8px",marginBottom:"20px"},children:e(N,{className:"p-0",children:e("div",{className:"container",children:e(R,{className:"d-flex flex-wrap",style:{gap:"10px",display:"flex"},children:(Ka=(Va=(Ga=a==null?void 0:a.request)==null?void 0:Ga[0])==null?void 0:Va.document)==null?void 0:Ka.map(t=>{var s;return n(_,{className:"d-flex p-0",style:{flex:"1 1 calc(25% - 10px)",minWidth:"180px"},children:[n("div",{className:"p-1 text-center bg-white w-100",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[n("div",{className:"d-flex justify-content-between align-items-center gap-1",children:[e("div",{className:"icon-box d-flex justify-content-center align-items-center",style:{backgroundColor:"#FFDFF6",padding:"8px",borderRadius:"40px"},children:e("img",{style:{width:"24px",height:"24px"},src:So})}),e("div",{id:`popover-${t.id}`,onClick:()=>D(U===t.id?null:t.id),className:"icon-box d-flex justify-content-center align-items-center",children:e("img",{style:{width:"24px",height:"24px",cursor:"pointer"},src:Wn})})]}),n("div",{className:"text-start",children:[e("h6",{id:`titleTooltip-${t.id}`,onMouseEnter:()=>$e(t.id,!0),onMouseLeave:()=>$e(t.id,!1),className:"mt-1 two-line-ellipsis",children:t.title}),e(so,{isOpen:ts[t.id]||!1,target:`titleTooltip-${t.id}`,children:t.title}),n("p",{className:"mb-0",style:{fontSize:"13px",fontWeight:"400",color:"#686868"},children:["Updated By: ",e("span",{style:{fontSize:"12px",fontWeight:"400"},children:(s=t.added_user)==null?void 0:s.name})]}),e("p",{className:"mb-0",style:{fontSize:"13px",fontWeight:"400",color:"#686868"},children:Fs(t.updated_at)})]})]}),U===t.id&&e("div",{ref:re,style:{boxShadow:"none"},children:e(xe,{placement:"left",isOpen:U===t.id,target:`popover-${t.id}`,container:"body",trigger:"legacy",style:{boxShadow:"none"},children:n(Un,{className:"d-flex gap-1 rounded shadow-none",style:{padding:"5px 10px",boxShadow:"none"},children:[e("img",{src:wo,onClick:()=>{window.location.href=`https://bapi.reownlogics.com/api/downloadFile?file_path=${t==null?void 0:t.file_path}`,D(null)},style:{cursor:"pointer"},className:"action-icon"}),e("img",{src:fo,onClick:l=>{l.stopPropagation(),ks(t),D(null)},style:{cursor:"pointer"},className:"action-icon"},t.id),e("img",{src:xo,onClick:()=>{Ps(t.id),D(null)},style:{cursor:"pointer"},className:"action-icon"})]})})}),n(Bn,{className:"custom-centered-modal w-100",isOpen:ss,toggle:()=>O(!1),children:[e(Tn,{className:"",toggle:()=>O(!1),children:e("h3",{className:"mb-0",style:{fontSize:"18px",fontWeight:"600"},children:"Confirm Deletion"})}),e(Dn,{className:" pt-0",children:e("p",{className:"mb-0",style:{fontSize:"14px",fontWeight:"500",color:"#C2C2C2"},children:"Are you sure you want to delete this document?"})}),n(oo,{children:[e(Ao,{onClick:()=>O(!1),children:"Cancel"}),e(ko,{onClick:zs,disabled:Te,children:Te?"Deleting":"Delete"})]})]}),e(lo,{isOpen:Xn,toggle:()=>ye(!1),editData:Zn,fetchEmployeeDetail:W,employeeId:S})]},t.id)})})})})})]})]})}),e(V,{tabId:"4",children:n(R,{children:[e(_,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{className:"p-1",children:[n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Email"})," ",e("br",{})," ",((Xa=(Ya=a==null?void 0:a.request)==null?void 0:Ya[0])==null?void 0:Xa.email)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Hire Date:"})," ",e("br",{})," ",Z((qa=(Za=a==null?void 0:a.request)==null?void 0:Za[0])==null?void 0:qa.created_at)||"---"]}),e("hr",{style:{marginTop:"5px",marginBottom:"0px"}}),n("p",{className:"mb-0",style:{fontSize:"12px",fontWeight:"400",lineHeight:"30px"},children:[e("strong",{style:{fontSize:"14px",fontWeight:"700",lineHeight:"30px"},children:"Department:"})," ",e("br",{})," ",((an=(tn=(en=a==null?void 0:a.request)==null?void 0:en[0])==null?void 0:tn.department)==null?void 0:an.name)||"---"]})]})})}),n(_,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(y,{className:"shadow-sm bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(N,{className:"",style:{padding:"5px 16px"},children:n("div",{className:"d-flex align-items-center justify-content-between",children:[e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Timeoff"}),e(ee,{onClick:Ye,children:"Apply for Leave"}),e(ro,{employeeId:S,isOpen:Vn,toggle:Ye})]})})}),e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{className:"p-1 p-sm-2",children:[e("div",{ref:F,className:" d-flex align-item-center scroll-container ",style:{overflow:"auto",gap:"12px",padding:"6px"},onMouseDown:ys,onMouseMove:Ns,onMouseUp:Ue,onMouseLeave:Ue,children:Ds.map((t,s)=>e("div",{className:"p-0 timeOff-cards",style:{minHeight:"153px"},children:e("div",{className:" bg-white  py-1 ",style:{boxShadow:" 0px 0px 6px 0px rgba(0, 0, 0, 0.25)",width:"100%",height:"100% ",borderRadius:"8px",paddingInline:"8px"},children:n("div",{className:" px-0",children:[n("div",{className:"d-flex justify-content-between align-item-center",children:[e("h5",{className:"",style:{fontSize:"18px",fontWeight:"700",color:"#253180"},children:t==null?void 0:t.name}),e("div",{className:"time-container",style:{position:"relative",display:"inline-block"},children:e("div",{className:"time-image",style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e("img",{src:t.imgSrc,alt:"icon",style:{width:"100%",height:"100%"}})})})]}),e("hr",{className:"",style:{marginTop:"5px",marginBottom:"5px"}}),e("p",{className:"m-0",style:{fontSize:"16px",fontWeight:"400"},children:t.available})]})})},s))}),n(R,{children:[n("div",{children:[e("h4",{className:" pt-1",style:{fontSize:"16px",color:"#253180",fontWeight:"bold",marginBottom:"5px"},children:" Upcoming Time Off"}),e("hr",{className:"mt-0"})]}),((nn=i==null?void 0:i.upcoming_requests)==null?void 0:nn.length)>0?n("div",{className:"custom-section",children:[me==null?void 0:me.map(t=>{var s,l,c,m;return n(y,{className:"custom-card bg-white",style:{marginBottom:"13px"},children:[n("div",{className:"d-flex justify-content-between align-items-center",children:[n(N,{className:"d-sm-flex justify-content-start align-item-center ",style:{padding:"13px",gap:"13px"},children:[e("div",{className:"first-col justify-content-center align-items-center",children:n("div",{className:"d-flex align-items-center",children:[e("div",{className:"image-container w-fit pe-1",children:((s=t==null?void 0:t.time_off)==null?void 0:s.name)==="Paid Leave"?e("img",{style:{width:"40px",height:"40px"},src:Fn,className:""}):((l=t==null?void 0:t.time_off)==null?void 0:l.name)==="Sick Leave"?e("img",{style:{width:"40px",height:"40px"},src:zn,className:""}):((c=t==null?void 0:t.time_off)==null?void 0:c.name)==="Maternity Leave"?e("img",{style:{width:"40px",height:"40px"},src:jn,className:""}):((m=t==null?void 0:t.time_off)==null?void 0:m.name)==="Vocation Leave"?e("img",{style:{width:"40px",height:"40px"},src:Pn,className:""}):null}),n("div",{children:[n("p",{className:"date mb-0 fw-medium",style:{minWidth:"90px"},children:[Ve(t==null?void 0:t.start_date)," - ",Ve(t==null?void 0:t.end_date)]}),n("p",{className:"hours mb-0 fw-light ",style:{fontSize:"11px"},children:[t==null?void 0:t.duration," Hours"]})]})]})}),e("div",{className:"second-col",children:e("p",{className:"text mb-0",style:{wordBreak:"break-word",overflowWrap:"break-word",fontWeight:"400"},children:t==null?void 0:t.reason})})]}),n("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{gap:"2px",minWidth:"91px"},children:[e("p",{className:"mb-0",style:{backgroundColor:t.status==="Approved"?"#3A974C":"#E32525",color:"white",padding:"1px 10px",width:"80px",borderRadius:"4px",display:"inline-block",textAlign:"center",borderRadius:"50px"},children:t==null?void 0:t.status}),(t==null?void 0:t.admin_comments)&&e("p",{className:"mb-0 p-0",onClick:()=>le(t.admin_comments),style:{color:"skyblue",padding:"1px 10px",borderRadius:"4px",display:"inline-block",textAlign:"center",borderRadius:"50px",fontSize:"12px",textDecorationLine:"underline",cursor:"pointer"},children:"Rejected Reason"},t==null?void 0:t.id)]})]}),n(Bn,{backdropClassName:"transparent-backdrop",color:"transparent",isOpen:Fe,toggle:le,centered:!0,children:[e(Tn,{toggle:le,children:e("h2",{className:"mb-0",style:{fontSize:"18px",fontWeight:"600"},children:"Rejection Reason"})}),e(Dn,{children:ls||"No reason provided."})]})]},t==null?void 0:t.time_off_id)}),((sn=i==null?void 0:i.upcoming_requests)==null?void 0:sn.length)>2&&e("div",{className:"text-start",children:e("div",{className:"font-semibold cursor-pointer",style:{color:"#253180",fontWeight:"600"},onClick:()=>es(!ae),children:ae?"Show Less":"Show More"})})]}):e("div",{className:"ps-1",children:"No upcoming time-off requests."})]})]})})]})]})}),e(V,{tabId:"6",children:n(R,{children:[e(_,{lg:"3",md:"4",xs:"12",style:{padding:"0px 10px"},children:e(y,{className:"shadow-sm bg-white",style:{borderRadius:"8px"},children:n(N,{className:"bg-white",style:{borderRadius:"8px",padding:"16px 11px"},children:[e(y,{className:" bg-white rounded-0 mb-0",style:{borderBottom:"1px solid #B3B3BF",paddingBottom:"20px"},children:n(N,{className:"bg-white p-0",children:[(o==null?void 0:o.attendance_detail)&&n("div",{children:[e("h5",{style:{fontSize:"18px",fontWeight:"700",lineHeight:"21px"},children:"Employee Status"}),n("div",{className:"flex justify-between items-center mt-1",children:[n("div",{className:"d-flex justify-content-between",children:[e("p",{variant:"h6",className:"mb-0",style:{fontSize:"13px",fontWeight:"600",lineHeight:"16px"},children:(on=o==null?void 0:o.workSchedule)==null?void 0:on.day}),n("p",{className:" mb-0",style:{fontSize:"13px",fontWeight:"600",lineHeight:"16px"},children:[" ",Os," ",e("span",{style:{fontSize:"13px",fontWeight:"400"},children:"hrs"})]})]}),e("p",{variant:"h6",fontWeight:"bold",style:{marginTop:"4px",fontSize:"10px",fontWeight:"500",color:"#737373"},className:"",children:Ge((ln=o==null?void 0:o.attendance_detail)==null?void 0:ln.check_in)})]}),e("div",{style:{width:"100%",background:"#ddd",borderRadius:"10px",height:"8px",overflow:"hidden"},children:e("div",{style:{width:`${is}%`,background:"#081438",height:"100%",transition:"width 1s linear"}})}),n("div",{className:"d-flex justify-content-between align-item-center gap-1",style:{marginTop:"4px"},children:[n("p",{variant:"body2",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},className:"mb-0",children:["Check-In:",T((rn=o==null?void 0:o.attendance_detail)==null?void 0:rn.check_in)]}),((cn=o==null?void 0:o.attendance_detail)==null?void 0:cn.check_out)&&n("p",{variant:"body2",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:["Check-Out:",T((dn=o==null?void 0:o.attendance_detail)==null?void 0:dn.check_out)]})]}),n("div",{className:"d-flex justify-content-center align-item-center gap-1 my-1",children:[e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:Je((pn=o==null?void 0:o.workSchedule)==null?void 0:pn.check_in)})," -",e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:Je((mn=o==null?void 0:o.workSchedule)==null?void 0:mn.check_out)})]})]}),n("div",{className:"d-flex justify-content-between flex-wrap flex-lg-nowrap",style:{gap:"3px"},children:[((hn=o==null?void 0:o.attendance_detail)==null?void 0:hn.check_in)&&!((gn=o==null?void 0:o.attendance_detail)!=null&&gn.check_out)&&e(Io,{onClick:()=>v(!k),variant:"contained",fullWidth:!0,className:"",children:"Check-Out"}),(un=o==null?void 0:o.attendance_detail)!=null&&un.check_in?"":e(Hn,{onClick:()=>L(!u),variant:"contained",fullWidth:!0,className:"",children:"Check-In"})]})]})}),(o==null?void 0:o.attendance_detail)&&n("div",{className:"location-container text-start",children:[e("h2",{style:{marginTop:"21px",fontSize:"13px",fontWeight:"600"},children:"Location"}),e("div",{className:"map-container mt-1",style:{borderRadius:"5px"},children:e("iframe",{width:"100%",style:{borderRadius:"5px"},height:"170",frameBorder:"0",src:`https://www.google.com/maps?q=${(fn=o==null?void 0:o.attendance_detail)==null?void 0:fn.lat},${(xn=o==null?void 0:o.attendance_detail)==null?void 0:xn.lng}&hl=es;z=14&output=embed`,allowFullScreen:!0})}),n("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-2",children:[n("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:[" ",Ge((bn=o==null?void 0:o.attendance_detail)==null?void 0:bn.check_in)]}),e("p",{className:"mb-0",style:{fontSize:"10px",fontWeight:"500",color:"#737373"},children:T((yn=o==null?void 0:o.attendance_detail)==null?void 0:yn.check_in)})]}),e(Hn,{onClick:()=>{var l,c;const t=((l=o==null?void 0:o.attendance_detail)==null?void 0:l.lat)||"null",s=((c=o==null?void 0:o.attendance_detail)==null?void 0:c.lng)||"null";window.open(`https://www.google.com/maps?q=${t},${s}&z=14`,"_blank")},color:"primary",className:"",children:"Expand the Location"})]})]})})}),n(_,{lg:"9",md:"8",xs:"12",style:{padding:"0px 10px"},children:[e(y,{className:"shadow-sm bg-white",style:{borderRadius:"5px",marginBottom:"20px"},children:e(N,{className:"",style:{padding:"15.5px 16px"},children:e("div",{className:"d-flex align-items-center justify-content-between",children:e("h4",{className:"pe-1 mb-0 fw-semibold",children:"Attendance"})})})}),n(y,{children:[e(y,{className:" ",style:{borderRadius:"8px",marginBottom:"20px"},children:e(N,{className:"p-0",children:e("div",{ref:P,className:" d-flex align-items-center gap-1 scroll-container",style:{overflow:"auto",scrollbarColor:"transparent"},onMouseDown:_s,onMouseMove:vs,onMouseUp:Oe,onMouseLeave:Oe,children:Cs.map(t=>{var s,l,c;return e("div",{style:{padding:"0 "},children:n("div",{className:"p-1  text-center bg-white attendence-cards",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[n("div",{className:"d-flex justify-content-between align-items-center gap-1",children:[n("div",{className:"icon-box d-flex justify-content-center align-items-center",style:{backgroundColor:`${t.color}`,padding:"10px",borderRadius:"40px"},children:[e("img",{style:{width:"24px",height:"24px"},src:t.icon})," "]}),n("div",{className:"icon-box d-flex justify-content-center align-items-center",children:[e("img",{style:{width:"24px",height:"24px"},src:Wn})," "]})]}),e("div",{className:"d-flex justify-content-start",children:e("h6",{className:"mt-1 ",children:t.title})}),n("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[n("h3",{children:[t.percentage,n("span",{className:"",style:{fontSize:"13px"},children:[t.id===1&&"%",t.id===2&&(((s=h==null?void 0:h.attendance)==null?void 0:s.present)===1?" Day":" Days"),t.id===3&&(((l=h==null?void 0:h.attendance)==null?void 0:l.absent)===1?" Day":" Days"),t.id===4&&(((c=h==null?void 0:h.attendance)==null?void 0:c.late)===1?" Hour":" Hours")]})]}),e("span",{className:"small-percentage",style:{color:`${t.textColor}`,backgroundColor:`${t.color}`,fontSize:"12px",padding:"8px 17px",borderRadius:"20px"},children:t.smallPercentage})]})]})},t.id)})})})}),e(y,{className:"border-none bg-white",style:{borderRadius:"16px"},children:e(N,{className:"p-0",children:n("div",{className:"  ",style:{borderRadius:"14px",border:"1px solid rgba(0, 0, 0, 0.2)"},children:[e(io,{columns:Ms,data:Rs,pagination:!1,highlightOnHover:!0,border:!0,className:"custom-attendence-table"}),((_n=(Nn=h==null?void 0:h.attendance)==null?void 0:Nn.attendance_detail)==null?void 0:_n.length)>0?n("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderTop:"1px solid rgba(0, 0, 0, 0.2)"},children:[e(Mn,{onClick:Bs,disabled:B===1,style:{marginRight:"10px",borderRadius:"20px"},children:"Previous"}),e(Mn,{onClick:Ts,style:{borderRadius:"20px"},disabled:B===Ke,children:"Next"})]}):null]})})})]})]})]})}),e(go,{employeeId:S,fetchEmployeeAttendence:ce,fetchCurrentDaySummary:ie,time:T((vn=o==null?void 0:o.attendance_detail)==null?void 0:vn.check_out),setCheckOutModal:v,checkOutModal:k}),e(uo,{employeeId:S,fetchEmployeeAttendence:ce,fetchCurrentDaySummary:ie,time:T((wn=o==null?void 0:o.attendance_detail)==null?void 0:wn.check_in),checkInModal:u,setCheckInModal:L})]})]})};export{Uo as default};
