import{r as o,j as t,v as s,K as ee,a6 as te,W as ae,F as se,L as le,B as J,M as U}from"./index.e4a29e23.js";import{R as T,c as R,h as oe,s as ne,S as re,C as ie,X as ce,p as de}from"./App.07cedc2c.js";import{F as pe}from"./FormGroup.af707117.js";import{D as Ae}from"./DropDown-Arrow.f1c62309.js";import{B as ge}from"./Backbutton.7e4f9f72.js";const me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHaSURBVHgBvZTRbcIwEIYdCBKP6QSkG7Qb0A3oBIQ3BEhNJkgyQVMJEG+kG9AJoBtkBI+QviEQ0P/COXJCStqqqiUrlnP+7u6/s4X442HUGQyHw26z2fSxlIfDIVwsFvJXQIBsBjmYKU8bM74GvgC6rmvtdrsnwzDczMAwXkzTjLbbrYWvczqdfDatBBtfgCw60Gq1vCiK0orIAyz7mBIO4vl8HhaAo9GIQAGDNvA8qNOqDMZ5bzqdrhqcVo9h8jswGmQD25jOYNpKijxlROkATJu2qBG+XDClM8ljaEbUHs9Y3mlnC2BN50CzKUikNPTZKPN2PB5XXJxceJYmKxhHFADe07KKZrOZl2nYaDRu2FsKmETVEvx04PkWe+/kjB0mtAfxXbbviLP25Owjj1DTZYlll6MKAY7VP0RkA7Sp0DvhCmf/TE2bvqYfpbUcj8e+BpbaNSSnibJFVrYKLEt5v9+vNQ0fkO4NQANOhcBrmoCtKSrsPcLmniXJbfIIsRECQBWmfuojEslRxVp6pJUHUFSSiKKj2/RW0JDGZDIJCCgqepFkoT6jLzIi544o9eAFUPMciHPLCDgIoNFru91Oqx6N8l2ve74UWHLKlvjp83UF3CGtVXv82/gEnBU6jnRrXdIAAAAASUVORK5CYII=",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHYSURBVHgBrZTLccIwFEVlA3t3ENGB04GpIMOaAeMKSCoAKkg6IOGzJqkAd4BLcAms+eZej6QIIyfODJphJKz3jq7eR0LceXh/GcxmM4lJqr9ZkiS7fwMBCZrN5sjzvOHlcpFXDp6Xn8/n6WAweK8FBCxstVprBUoxfxGC9Q7rEOsnrCN+OxwOHSjOK4G8HpRt4biDQ9Lv91PhvkHYaDTWsAl83+/0er1M7/m2IZRtCDudTp0qGAdUZbShLX5rhugGOJ/Pi3jh5G75GhXQnLegD1Q+3wDxcYwpteU7riqXy+WrVqRukUJEfAWkAU9iAsQvAyEZw4ZqzBXpQ9/VavVggEhEyBlxyUqKjONisRjBcciSsUOiKkDs9/t2wbIBAAcWLGTGAZocj8cPfJrg9xnH8aQk/KrQC4VwyJV8qTeYSUwFSJcS7F5KMPqEapkZoMpYrorWDAR9qKBUPnVlnz6A5rolfeskOka4alSGQtmjq9UYFvrwMHOAtRkg/VuUj3C1lAMm2QhIksBhbf3dKKRkZLkLg4CG6vQqWKRgATvG3nM9DuyWDWIjhXocWE6sACZNPw6MGwWo5FUD9WArYhor8I8Dksd4I65vrrexzgMb6MJnedXp87uObxy8Iz5lch2ZAAAAAElFTkSuQmCC",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAImSURBVHgBvVRNbtNAFH4z4zSBRMg3wL1BuEF6gipCQWJFeoKWDSJiUVeAUrGBG0BXSK2q0AVrcoPkCD6CFwlKE8+8vjeOnYnj9Eeq+jYez7z53ve9nwF4ZBN3OdTCQQAqCexaT8ZxeBA/GNAPf/rz6otDAOySQ1C4EoHRJ9NPb37dC7D+7byJWg0EYEC/Q4N45REICow1QlMKsU/7LQbWMN+b9d5GWwFr/d+BgsqItmMB5mDS6wxLSED9KwWVNqgPxuwR23F2Jl1HCTv/GIwjbwNjYwBDPki+QMCcog3Aev+8a2Ua3S7KKDP2kaSC8hzMK42jDUAEdUyfoUu/aJyS+unl94zRUsVQSPluDdAPBz6z4wLALabEzjEgHs2qtVyiQXHFLGtf/r7MAWcqaaYXYI2dm5tnp4NDAuO0nLgp8QDt2lP/d9N/xwyaHIAruZBy9Lx/GVIBziTqEAX8mX7shO6dhcZYeatmSXPoJTYKggyygzSXeEaMwqyVDC7eQ8GEkladdz0ZrySTBASIlk2b27TX6TIoq+fpKKu+FLjPTZ6NpHT08sVWo3/R2gBV5lXZqFUoLXyHg+WMswVXel41I94oG6micQvxIAgb9PVuzjhbxGE7Fkq3SaKvyHEZvRzs80UrBUOfg7tnYnvk1eOAGsY0FT4qGbiPAxCB6Yf1Qdj6HvIo8vQsgXOzxaNCUVV/lL2Ndz6w3NxJtWHlJ+BFs147gqe0G00BB+8NMbqIAAAAAElFTkSuQmCC";function he({getStages:C,handleFilterChange:g,jobTitle:v,jobFilters:k}){const[r,w]=o.exports.useState("All Stages"),[N,S]=o.exports.useState(!0),[m,B]=o.exports.useState({jobTitle:v||"",stage:k.stage||"All Stages"});o.exports.useEffect(()=>{k.stage||g("stage","All Stages")},[g,k.stage]);const b=(i,x)=>{i.preventDefault(),w(x),B(f=>({...f,stage:x}))},y=()=>{g("jobTitle",m.jobTitle),g("stage",m.stage)},p=()=>{B({jobTitle:"",stage:"All Stages"}),w("All Stages"),g("jobTitle",""),g("stage","All Stages")};return t("div",{children:s(pe,{className:"m-0 mb-0",style:{paddingInline:"12px"},children:[t(T,{className:"w-full ",children:s(R,{className:"p-0",children:[t("div",{className:"dropdown-label",style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#040F0F"},children:"Job Title "}),t(oe,{type:"text",placeholder:"Insert text here",className:"JobTitleFilter-input",value:m.jobTitle,onChange:i=>B({...m,jobTitle:i.target.value}),style:{width:"100%",height:"44px",border:"1px solid #ccc",borderRadius:"8px",padding:"0px 10px"}}),t("p",{className:"",style:{color:"#6B6B6B",fontSize:"14px",fontWeight:400,marginBottom:"12px",marginTop:"8px"},children:"Insert text here to help users."})]})}),t(T,{className:"w-full",children:s(R,{className:"p-0",children:[t("div",{className:"dropdown-label",style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#040F0F"},children:"Stage"}),s("div",{className:"custom-dropdown position-relative",style:{width:"100%",height:"44px",cursor:"pointer"},onClick:()=>S(!N),children:[t("div",{className:"selected-option",style:{width:"100%",height:"100%",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",display:"flex",padding:"0 40px 0 40px",alignItems:"center"},children:r}),t("img",{src:Ae,alt:"dropdown-icon",className:"position-absolute",style:{top:"50%",right:"10px",transform:`translateY(-50%) rotate(${N?"0deg":"180deg"})`,transition:"transform 0.3s ease-in-out"}}),t("img",{src:me,alt:"layer-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),N&&s("div",{className:"dropdown-options position-absolute",style:{width:"100%",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",marginTop:"10px",zIndex:10,maxHeight:"200px",overflowY:"auto",color:"#6B6B6B"},children:[s("div",{className:"position-relative",children:[t("img",{src:r==="All Stages"?K:G,alt:"tick-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),t("div",{className:"dropdown-item dropdown-items",style:{padding:"10px 40px",textAlign:"start",cursor:"pointer",color:r==="All Stages"?"#0B87AC":"#6B6B6B",borderBottom:"1px solid #ddd"},onMouseDown:i=>b(i,"All Stages"),children:"All Stages"})]},"All Stages"),C.map(i=>s("div",{className:"position-relative",children:[t("img",{src:r===i.name?K:G,alt:"tick-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),t("div",{className:"dropdown-item dropdown-items",style:{padding:"10px 40px",textAlign:"start",cursor:"pointer",color:r===i.name?"#0B87AC":"#6B6B6B"},onMouseDown:x=>b(x,i.name),children:i.name})]},i.name))]})]})]})}),t(T,{className:"w-full",children:t(R,{children:s("div",{className:"d-flex justify-content-center align-items-center gap-1 position-absolute",style:{bottom:"3%",left:"50%",transform:"translateX(-50%)"},children:[t("button",{onClick:y,className:"btn btn-bg",style:{maxWidth:"110px"},children:"Apply"}),t("button",{onClick:p,className:"btn border",style:{maxWidth:"110px"},children:"Reset"})]})})})]})})}const ue=ne.button`
background-color: transparent !important;
padding: 10px;
min-width: 60px !important;
// width: 100%;
border-radius: 10px!important;
color: #B3B3BF;
cursor: pointer;
transition: background-color 0.3s;
display: flex;
align-items: center;
justify-content: center;
text-align: center;
border: 2px solid #B3B3BF;

// &:hover {
//   background-color: #1a2447 !important;
// }
`,Be=()=>{const C=ee(),g="https://bapi.reownlogics.com/storage",[v,k]=o.exports.useState(""),[r,w]=o.exports.useState(1);o.exports.useState(10);const[N,S]=o.exports.useState([]),[m,B]=o.exports.useState([]),[b,y]=o.exports.useState(!1),[p,i]=o.exports.useState(!1),[x,f]=o.exports.useState(!1);o.exports.useState(null);const{id:j}=te(),[d,E]=o.exports.useState([]),[A,P]=o.exports.useState([]),X=ae(),I=new URLSearchParams(X.search).get("job_link"),[h,Y]=o.exports.useState({jobTitle:"",stage:"All Stages"}),D=10,Q=localStorage.getItem("user_role")||"",V=localStorage.getItem("user_id");console.log("Job Link:",I),o.exports.useEffect(()=>{(async()=>{f(!0);try{const l=localStorage.getItem("authToken"),a=await U.get(`https://bapi.reownlogics.com/api/job-detail/${I}`,{headers:{Authorization:`Bearer ${l}`}});P(a==null?void 0:a.data),console.log("JobDetaiddddl",a==null?void 0:a.data)}catch{setError("Failed to fetch JobDetail details")}finally{f(!1)}})()},[]),o.exports.useEffect(()=>{(async()=>{var a;f(!0);const l=Q==="manager"?`https://bapi.reownlogics.com/api/hiring_lead_jobs?job_id=${j}&hiring_lead_id=${V}`:`https://bapi.reownlogics.com/api/jobs/${j}/candidate`;try{const u=localStorage.getItem("authToken"),n=await U.get(l,{headers:{Authorization:`Bearer ${u}`,Accept:"application/json"}});E(Q==="manager"?(a=n==null?void 0:n.data)==null?void 0:a.selected_candidates:n==null?void 0:n.data),console.log("jobs",n==null?void 0:n.data)}catch(u){console.error("Error fetching candidates:",u)}finally{f(!1)}})()},[j]),o.exports.useEffect(()=>{(async()=>{try{const l=localStorage.getItem("authToken"),a=await U.get("https://bapi.reownlogics.com/api/hiring-stages",{headers:{Authorization:`Bearer ${l}`}});B(a==null?void 0:a.data),console.log("stage",a==null?void 0:a.data)}catch(l){console.error("Error fetching stages:",l)}})()},[]);const q=()=>i(e=>!e),z=()=>{y(!b),S(b?[]:d.map(e=>e.id))},O=e=>{S(l=>l.includes(e)?l.filter(a=>a!==e):[...l,e])},W=[{name:t("input",{type:"checkbox",className:"selectAll-Checkbox",checked:b,onChange:z}),selector:e=>e.id,cell:e=>t("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:t("input",{type:"checkbox",className:"input-padding",checked:N.includes(e.id),onChange:()=>O(e.id)})}),sortable:!1,width:"8%"},{name:"Name",selector:e=>e.full_name,sortable:!1,cell:e=>s("div",{className:"d-flex align-items-center cursor-pointer p-sm-0",onClick:()=>C(`/appliedcandidatedetail/${e.id}`),children:[t("img",{src:e.picture?`${g}/${e.picture}`:de,alt:e.full_name,width:"30",height:"30",className:"rounded-circle border-none me-1 me-lg-2",style:{backgroundColor:"gray",objectFit:"cover",objectPosition:"center"}}),s("div",{children:[t("div",{className:"text-black text-ellipsis",children:e.full_name}),t("div",{className:"small-font",style:{display:p&&window.innerWidth>768?"none":"block",fontSize:"12px",color:"#6c757d"},children:new Date(e.created_at).toLocaleDateString()})]})]}),width:"22%"},{name:"Job Title",selector:e=>e.current_title,sortable:!1,cell:e=>t("span",{className:"d-flex text-center text-md-start d-md-block align-items-center justify-content-center w-100",style:{color:"black"},children:e.current_title})},{name:"Stage",selector:e=>e.stage,sortable:!1,cell:e=>t("span",{className:"d-flex text-center text-md-start d-md-block align-items-center justify-content-center w-100",style:{color:"black"},children:e.stage})},{name:"Applied Date",selector:e=>e.created_at,sortable:!1,cell:e=>t("span",{className:"d-flex text-center text-md-start d-md-block align-items-center justify-content-center w-100",style:{color:"black"},children:new Date(e.created_at).toLocaleDateString()})},{name:"Action",selector:e=>e.action,className:"action",sortable:!1,width:"15.5%",cell:e=>t("div",{className:"d-flex d-md-block align-items-center text-center text-md-start justify-content-center w-100",children:t(ue,{onClick:()=>C(`/appliedcandidatedetail/${e.id}`),children:"view"})})}],L=d==null?void 0:d.filter(e=>{const l=e.full_name.toLowerCase().includes(v.toLowerCase()),a=h.jobTitle.trim()!==""?e.current_title.toLowerCase().includes(h.jobTitle.toLowerCase()):!0,u=h.stage&&h.stage!=="All Stages"?e.stage.toLowerCase()===h.stage.toLowerCase():!0;return l&&a&&u}),F=Math.ceil(d.length/D),M=L.slice((r-1)*D,r*D),H=()=>{r>1&&w(r-1)},Z=()=>{r<F&&w(r+1)},_=(e,l)=>{console.log(`Updating filter: ${e} -> ${l}`),Y(a=>({...a,[e]:l==="All Stages"?"":l}))};if(console.log("filteredData",L),x)return s("div",{className:"d-flex justify-content-center align-items-center fs-3",style:{height:"calc(100vh - 170px)"},children:[t(re,{}),t("span",{className:"fs-2",style:{paddingBottom:"6px",paddingLeft:"5px"}})]});const $=()=>{if(!(d!=null&&d.length)){alert("No data available to export.");return}const e=["Name,Job Title,Stage,Applied Date"],l=d.map(c=>[(c==null?void 0:c.full_name)||"N/A",(c==null?void 0:c.current_title)||"N/A",(c==null?void 0:c.stage)||"N/A",c!=null&&c.created_at?new Date(c.created_at).toLocaleDateString():"N/A"].join(",")),a=e.concat(l).join(`
`),u=new Blob([a],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");n.href=URL.createObjectURL(u),n.setAttribute("download","applied_candidates.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)};return console.log("getStagesgetStages",m),s(se,{children:[t(ge,{}),s("div",{className:"card shadow-none bg-white border mobile-res-head",style:{padding:"25px 46px",borderRadius:"17px",marginBottom:"20px"},children:[s("div",{className:"d-flex align-items-center flex-wrap",style:{gap:"38px"},children:[t("h2",{children:A==null?void 0:A.title}),t("span",{className:"badge bgSky",children:A==null?void 0:A.job_status})]}),s("p",{className:"text-muted",children:["Hiring / ",A==null?void 0:A.title," / ",t("span",{className:"sky-blue",children:"Applied"})]}),s("div",{className:"d-flex align-items-center gap-1 flex-wrap",children:[t("button",{className:"btn btn-bg",style:{maxWidth:"148px",height:"48px"},children:"All Applied"}),t("button",{className:"btn border",onClick:q,style:{height:"48px",width:"90px",backgroundColor:p?"#0C1539":"transparent",color:p?"white":"rgba(20, 20, 20, 0.7)"},children:"Filters"}),t(le,{className:"sky-blue custom-link",to:`/jobdetail/${I}`,children:"View Job Description"})]})]}),s("div",{className:"d-md-flex parent-container",children:[p&&t("div",{className:"filter-panel",children:t("div",{className:"filter-content ",style:{marginTop:"10px"},children:t(he,{getStages:m,handleFilterChange:_,jobTitle:h.jobTitle,jobFilters:h})})}),s("div",{className:`Wrapper-list ${p?"shrink":""} overflow-auto px-1`,style:{width:p?"auto":"100%"},children:[s("div",{className:"d-flex justify-content-between align-center bg-transparent pad-b-12",children:[t("h4",{className:"mb-0 ps-1 pe-1",children:"Applied Candidate"}),t("button",{className:"btn btn-bg",onClick:$,children:"Export"})]}),t(ie,{className:"card border",children:s("div",{className:`react-dataTable react-dataTable-selectable-rows ${p?"overflow-auto":""}`,style:{maxHeight:"500px"},children:[t(ce,{noHeader:!0,subHeader:!1,pagination:!1,responsive:!0,paginationServer:!0,columns:W,data:M,sortIcon:null}),(d==null?void 0:d.length)>0?s("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderTop:"1px solid rgba(0, 0, 0, 0.2)"},children:[t(J,{onClick:H,disabled:r===1,style:{marginRight:"10px",borderRadius:"20px"},children:"Previous"}),t(J,{onClick:Z,style:{borderRadius:"20px"},disabled:r===F,children:"Next"})]}):null]})})]})]})]})};export{Be as default};
