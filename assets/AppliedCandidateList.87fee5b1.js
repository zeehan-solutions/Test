import{r as o,j as t,v as l,K as _,a6 as $,W as ee,F as te,L as ae,B as L,M as D}from"./index.361edad1.js";import{R as T,c as U,h as se,s as le,S as oe,C as ne,X as re,p as ie}from"./App.19801506.js";import{F as ce}from"./FormGroup.58450994.js";import{D as de}from"./DropDown-Arrow.f1c62309.js";import{B as pe}from"./Backbutton.1eb4ec0d.js";const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHaSURBVHgBvZTRbcIwEIYdCBKP6QSkG7Qb0A3oBIQ3BEhNJkgyQVMJEG+kG9AJoBtkBI+QviEQ0P/COXJCStqqqiUrlnP+7u6/s4X442HUGQyHw26z2fSxlIfDIVwsFvJXQIBsBjmYKU8bM74GvgC6rmvtdrsnwzDczMAwXkzTjLbbrYWvczqdfDatBBtfgCw60Gq1vCiK0orIAyz7mBIO4vl8HhaAo9GIQAGDNvA8qNOqDMZ5bzqdrhqcVo9h8jswGmQD25jOYNpKijxlROkATJu2qBG+XDClM8ljaEbUHs9Y3mlnC2BN50CzKUikNPTZKPN2PB5XXJxceJYmKxhHFADe07KKZrOZl2nYaDRu2FsKmETVEvx04PkWe+/kjB0mtAfxXbbviLP25Owjj1DTZYlll6MKAY7VP0RkA7Sp0DvhCmf/TE2bvqYfpbUcj8e+BpbaNSSnibJFVrYKLEt5v9+vNQ0fkO4NQANOhcBrmoCtKSrsPcLmniXJbfIIsRECQBWmfuojEslRxVp6pJUHUFSSiKKj2/RW0JDGZDIJCCgqepFkoT6jLzIi544o9eAFUPMciHPLCDgIoNFru91Oqx6N8l2ve74UWHLKlvjp83UF3CGtVXv82/gEnBU6jnRrXdIAAAAASUVORK5CYII=",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHYSURBVHgBrZTLccIwFEVlA3t3ENGB04GpIMOaAeMKSCoAKkg6IOGzJqkAd4BLcAms+eZej6QIIyfODJphJKz3jq7eR0LceXh/GcxmM4lJqr9ZkiS7fwMBCZrN5sjzvOHlcpFXDp6Xn8/n6WAweK8FBCxstVprBUoxfxGC9Q7rEOsnrCN+OxwOHSjOK4G8HpRt4biDQ9Lv91PhvkHYaDTWsAl83+/0er1M7/m2IZRtCDudTp0qGAdUZbShLX5rhugGOJ/Pi3jh5G75GhXQnLegD1Q+3wDxcYwpteU7riqXy+WrVqRukUJEfAWkAU9iAsQvAyEZw4ZqzBXpQ9/VavVggEhEyBlxyUqKjONisRjBcciSsUOiKkDs9/t2wbIBAAcWLGTGAZocj8cPfJrg9xnH8aQk/KrQC4VwyJV8qTeYSUwFSJcS7F5KMPqEapkZoMpYrorWDAR9qKBUPnVlnz6A5rolfeskOka4alSGQtmjq9UYFvrwMHOAtRkg/VuUj3C1lAMm2QhIksBhbf3dKKRkZLkLg4CG6vQqWKRgATvG3nM9DuyWDWIjhXocWE6sACZNPw6MGwWo5FUD9WArYhor8I8Dksd4I65vrrexzgMb6MJnedXp87uObxy8Iz5lch2ZAAAAAElFTkSuQmCC",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAImSURBVHgBvVRNbtNAFH4z4zSBRMg3wL1BuEF6gipCQWJFeoKWDSJiUVeAUrGBG0BXSK2q0AVrcoPkCD6CFwlKE8+8vjeOnYnj9Eeq+jYez7z53ve9nwF4ZBN3OdTCQQAqCexaT8ZxeBA/GNAPf/rz6otDAOySQ1C4EoHRJ9NPb37dC7D+7byJWg0EYEC/Q4N45REICow1QlMKsU/7LQbWMN+b9d5GWwFr/d+BgsqItmMB5mDS6wxLSED9KwWVNqgPxuwR23F2Jl1HCTv/GIwjbwNjYwBDPki+QMCcog3Aev+8a2Ua3S7KKDP2kaSC8hzMK42jDUAEdUyfoUu/aJyS+unl94zRUsVQSPluDdAPBz6z4wLALabEzjEgHs2qtVyiQXHFLGtf/r7MAWcqaaYXYI2dm5tnp4NDAuO0nLgp8QDt2lP/d9N/xwyaHIAruZBy9Lx/GVIBziTqEAX8mX7shO6dhcZYeatmSXPoJTYKggyygzSXeEaMwqyVDC7eQ8GEkladdz0ZrySTBASIlk2b27TX6TIoq+fpKKu+FLjPTZ6NpHT08sVWo3/R2gBV5lXZqFUoLXyHg+WMswVXel41I94oG6micQvxIAgb9PVuzjhbxGE7Fkq3SaKvyHEZvRzs80UrBUOfg7tnYnvk1eOAGsY0FT4qGbiPAxCB6Yf1Qdj6HvIo8vQsgXOzxaNCUVV/lL2Ndz6w3NxJtWHlJ+BFs147gqe0G00BB+8NMbqIAAAAAElFTkSuQmCC";function ge({getStages:B,handleFilterChange:A,jobTitle:k,jobFilters:C}){const[n,x]=o.exports.useState("All Stages"),[f,w]=o.exports.useState(!0),[g,N]=o.exports.useState({jobTitle:k||"",stage:C.stage||"All Stages"});o.exports.useEffect(()=>{C.stage||A("stage","All Stages")},[A,C.stage]);const h=(r,b)=>{r.preventDefault(),x(b),N(u=>({...u,stage:b}))},v=()=>{A("jobTitle",g.jobTitle),A("stage",g.stage)},d=()=>{N({jobTitle:"",stage:"All Stages"}),x("All Stages"),A("jobTitle",""),A("stage","All Stages")};return t("div",{children:l(ce,{className:"m-0 mb-0",style:{paddingInline:"12px"},children:[t(T,{className:"w-full ",children:l(U,{className:"p-0",children:[t("div",{className:"dropdown-label",style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#040F0F"},children:"Job Title "}),t(se,{type:"text",placeholder:"Insert text here",className:"JobTitleFilter-input",value:g.jobTitle,onChange:r=>N({...g,jobTitle:r.target.value}),style:{width:"100%",height:"44px",border:"1px solid #ccc",borderRadius:"8px",padding:"0px 10px"}}),t("p",{className:"",style:{color:"#6B6B6B",fontSize:"14px",fontWeight:400,marginBottom:"12px",marginTop:"8px"},children:"Insert text here to help users."})]})}),t(T,{className:"w-full",children:l(U,{className:"p-0",children:[t("div",{className:"dropdown-label",style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#040F0F"},children:"Stage"}),l("div",{className:"custom-dropdown position-relative",style:{width:"100%",height:"44px",cursor:"pointer"},onClick:()=>w(!f),children:[t("div",{className:"selected-option",style:{width:"100%",height:"100%",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",display:"flex",padding:"0 40px 0 40px",alignItems:"center"},children:n}),t("img",{src:de,alt:"dropdown-icon",className:"position-absolute",style:{top:"50%",right:"10px",transform:`translateY(-50%) rotate(${f?"0deg":"180deg"})`,transition:"transform 0.3s ease-in-out"}}),t("img",{src:Ae,alt:"layer-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),f&&l("div",{className:"dropdown-options position-absolute",style:{width:"100%",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",marginTop:"10px",zIndex:10,maxHeight:"200px",overflowY:"auto",color:"#6B6B6B"},children:[l("div",{className:"position-relative",children:[t("img",{src:n==="All Stages"?J:F,alt:"tick-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),t("div",{className:"dropdown-item dropdown-items",style:{padding:"10px 40px",textAlign:"start",cursor:"pointer",color:n==="All Stages"?"#0B87AC":"#6B6B6B",borderBottom:"1px solid #ddd"},onMouseDown:r=>h(r,"All Stages"),children:"All Stages"})]},"All Stages"),B.map(r=>l("div",{className:"position-relative",children:[t("img",{src:n===r.name?J:F,alt:"tick-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),t("div",{className:"dropdown-item dropdown-items",style:{padding:"10px 40px",textAlign:"start",cursor:"pointer",color:n===r.name?"#0B87AC":"#6B6B6B"},onMouseDown:b=>h(b,r.name),children:r.name})]},r.name))]})]})]})}),t(T,{className:"w-full",children:t(U,{children:l("div",{className:"d-flex justify-content-center align-items-center gap-1 position-absolute",style:{bottom:"3%",left:"50%",transform:"translateX(-50%)"},children:[t("button",{onClick:v,className:"btn btn-bg",style:{maxWidth:"110px"},children:"Apply"}),t("button",{onClick:d,className:"btn border",style:{maxWidth:"110px"},children:"Reset"})]})})})]})})}const me=le.button`
background-color: transparent !important;
padding: 10px;
min-width: 60px !important;
// width: 100%;
border-radius: 10px!important;
color: #B3B3BF;
cursor: pointer;
transition: background-color 0.3s;
display: flex;
align-items: center;
justify-content: center;
text-align: center;
border: 2px solid #B3B3BF;

// &:hover {
//   background-color: #1a2447 !important;
// }
`,Ne=()=>{const B=_(),A="https://bapi.reownlogics.com/storage",[k,C]=o.exports.useState(""),[n,x]=o.exports.useState(1);o.exports.useState(10);const[f,w]=o.exports.useState([]),[g,N]=o.exports.useState([]),[h,v]=o.exports.useState(!1),[d,r]=o.exports.useState(!1),[b,u]=o.exports.useState(!1);o.exports.useState(null);const{id:E}=$(),[c,G]=o.exports.useState([]),[p,K]=o.exports.useState([]),P=ee(),y=new URLSearchParams(P.search).get("job_link"),[m,X]=o.exports.useState({jobTitle:"",stage:"All Stages"}),j=10;console.log("Job Link:",y),o.exports.useEffect(()=>{(async()=>{u(!0);try{const s=localStorage.getItem("authToken"),a=await D.get(`https://bapi.reownlogics.com/api/job-detail/${y}`,{headers:{Authorization:`Bearer ${s}`}});K(a==null?void 0:a.data),console.log("JobDetaiddddl",a==null?void 0:a.data)}catch{setError("Failed to fetch JobDetail details")}finally{u(!1)}})()},[]),o.exports.useEffect(()=>{(async()=>{u(!0);try{const s=localStorage.getItem("authToken"),a=await D.get(`https://bapi.reownlogics.com/api/jobs/${E}/candidate`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});G(a==null?void 0:a.data),console.log("jobs",a==null?void 0:a.data)}catch(s){console.error("Error fetching candidates:",s)}finally{u(!1)}})()},[E]),o.exports.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("authToken"),a=await D.get("https://bapi.reownlogics.com/api/hiring-stages",{headers:{Authorization:`Bearer ${s}`}});N(a==null?void 0:a.data),console.log("stage",a==null?void 0:a.data)}catch(s){console.error("Error fetching stages:",s)}})()},[]);const Y=()=>r(e=>!e),V=()=>{v(!h),w(h?[]:c.map(e=>e.id))},q=e=>{w(s=>s.includes(e)?s.filter(a=>a!==e):[...s,e])},z=[{name:t("input",{type:"checkbox",className:"selectAll-Checkbox",checked:h,onChange:V}),selector:e=>e.id,cell:e=>t("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:t("input",{type:"checkbox",className:"input-padding",checked:f.includes(e.id),onChange:()=>q(e.id)})}),sortable:!1,width:"8%"},{name:"Name",selector:e=>e.full_name,sortable:!1,cell:e=>l("div",{className:"d-flex align-items-center cursor-pointer p-sm-0",onClick:()=>B(`/appliedcandidatedetail/${e.id}`),children:[t("img",{src:e.picture?`${A}/${e.picture}`:ie,alt:e.full_name,width:"30",height:"30",className:"rounded-circle border-none me-1 me-lg-2",style:{backgroundColor:"gray",objectFit:"cover",objectPosition:"center"}}),l("div",{children:[t("div",{className:"text-black text-ellipsis",children:e.full_name}),t("div",{className:"small-font",style:{display:d&&window.innerWidth>768?"none":"block",fontSize:"12px",color:"#6c757d"},children:new Date(e.created_at).toLocaleDateString()})]})]}),width:"22%"},{name:"Job Title",selector:e=>e.current_title,sortable:!1,cell:e=>t("span",{className:"d-flex text-center text-md-start d-md-block align-items-center justify-content-center w-100",style:{color:"black"},children:e.current_title})},{name:"Stage",selector:e=>e.stage,sortable:!1,cell:e=>t("span",{className:"d-flex text-center text-md-start d-md-block align-items-center justify-content-center w-100",style:{color:"black"},children:e.stage})},{name:"Applied Date",selector:e=>e.created_at,sortable:!1,cell:e=>t("span",{className:"d-flex text-center text-md-start d-md-block align-items-center justify-content-center w-100",style:{color:"black"},children:new Date(e.created_at).toLocaleDateString()})},{name:"Action",selector:e=>e.action,className:"action",sortable:!1,width:"15.5%",cell:e=>t("div",{className:"d-flex d-md-block align-items-center text-center text-md-start justify-content-center w-100",children:t(me,{onClick:()=>B(`/appliedcandidatedetail/${e.id}`),children:"view"})})}],R=c.filter(e=>{const s=e.full_name.toLowerCase().includes(k.toLowerCase()),a=m.jobTitle.trim()!==""?e.current_title.toLowerCase().includes(m.jobTitle.toLowerCase()):!0,I=m.stage&&m.stage!=="All Stages"?e.stage.toLowerCase()===m.stage.toLowerCase():!0;return s&&a&&I}),Q=Math.ceil(c.length/j),O=R.slice((n-1)*j,n*j),W=()=>{n>1&&x(n-1)},M=()=>{n<Q&&x(n+1)},H=(e,s)=>{console.log(`Updating filter: ${e} -> ${s}`),X(a=>({...a,[e]:s==="All Stages"?"":s}))};if(console.log("filteredData",R),b)return l("div",{className:"d-flex justify-content-center align-items-center fs-3",style:{height:"calc(100vh - 170px)"},children:[t(oe,{}),t("span",{className:"fs-2",style:{paddingBottom:"6px",paddingLeft:"5px"}})]});const Z=()=>{if(!(c!=null&&c.length)){alert("No data available to export.");return}const e=["Name,Job Title,Stage,Applied Date"],s=c.map(i=>[(i==null?void 0:i.full_name)||"N/A",(i==null?void 0:i.current_title)||"N/A",(i==null?void 0:i.stage)||"N/A",i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString():"N/A"].join(",")),a=e.concat(s).join(`
`),I=new Blob([a],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(I),S.setAttribute("download","applied_candidates.csv"),document.body.appendChild(S),S.click(),document.body.removeChild(S)};return console.log("getStagesgetStages",g),l(te,{children:[t(pe,{}),l("div",{className:"card shadow-none bg-white border mobile-res-head",style:{padding:"25px 46px",borderRadius:"17px",marginBottom:"20px"},children:[l("div",{className:"d-flex align-items-center flex-wrap",style:{gap:"38px"},children:[t("h2",{children:p==null?void 0:p.title}),t("span",{className:"badge bgSky",children:p==null?void 0:p.job_status})]}),l("p",{className:"text-muted",children:["Hiring / ",p==null?void 0:p.title," / ",t("span",{className:"sky-blue",children:"Applied"})]}),l("div",{className:"d-flex align-items-center gap-1 flex-wrap",children:[t("button",{className:"btn btn-bg",style:{maxWidth:"148px",height:"48px"},children:"All Applied"}),t("button",{className:"btn border",onClick:Y,style:{height:"48px",width:"90px",backgroundColor:d?"#0C1539":"transparent",color:d?"white":"rgba(20, 20, 20, 0.7)"},children:"Filters"}),t(ae,{className:"sky-blue custom-link",to:`/jobdetail/${y}`,children:"View Job Description"})]})]}),l("div",{className:"d-md-flex parent-container",children:[d&&t("div",{className:"filter-panel",children:t("div",{className:"filter-content ",style:{marginTop:"10px"},children:t(ge,{getStages:g,handleFilterChange:H,jobTitle:m.jobTitle,jobFilters:m})})}),l("div",{className:`Wrapper-list ${d?"shrink":""} overflow-auto px-1`,style:{width:d?"auto":"100%"},children:[l("div",{className:"d-flex justify-content-between align-center bg-transparent pad-b-12",children:[t("h4",{className:"mb-0 ps-1 pe-1",children:"Applied Candidate"}),t("button",{className:"btn btn-bg",onClick:Z,children:"Export"})]}),t(ne,{className:"card border",children:l("div",{className:`react-dataTable react-dataTable-selectable-rows ${d?"overflow-auto":""}`,style:{maxHeight:"500px"},children:[t(re,{noHeader:!0,subHeader:!1,pagination:!1,responsive:!0,paginationServer:!0,columns:z,data:O,sortIcon:null}),(c==null?void 0:c.length)>0?l("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderTop:"1px solid rgba(0, 0, 0, 0.2)"},children:[t(L,{onClick:W,disabled:n===1,style:{marginRight:"10px",borderRadius:"20px"},children:"Previous"}),t(L,{onClick:M,style:{borderRadius:"20px"},disabled:n===Q,children:"Next"})]}):null]})})]})]})]})};export{Ne as default};
