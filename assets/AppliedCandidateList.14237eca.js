import{r as l,j as t,v as a,K as M,a6 as W,W as H,F as Z,L as _,M as L}from"./index.9ce7a48c.js";import{R as D,c as j,h as $,S as ee,C as te,X as ae,p as se,a3 as le,a4 as oe,a5 as ne,a6 as re,a7 as ie,ad as ce}from"./App.67f4a7e8.js";import{F as de}from"./FormGroup.2d4a8952.js";import{D as pe}from"./DropDown-Arrow.f1c62309.js";import{B as Ae}from"./Backbutton.191c060c.js";const ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHaSURBVHgBvZTRbcIwEIYdCBKP6QSkG7Qb0A3oBIQ3BEhNJkgyQVMJEG+kG9AJoBtkBI+QviEQ0P/COXJCStqqqiUrlnP+7u6/s4X442HUGQyHw26z2fSxlIfDIVwsFvJXQIBsBjmYKU8bM74GvgC6rmvtdrsnwzDczMAwXkzTjLbbrYWvczqdfDatBBtfgCw60Gq1vCiK0orIAyz7mBIO4vl8HhaAo9GIQAGDNvA8qNOqDMZ5bzqdrhqcVo9h8jswGmQD25jOYNpKijxlROkATJu2qBG+XDClM8ljaEbUHs9Y3mlnC2BN50CzKUikNPTZKPN2PB5XXJxceJYmKxhHFADe07KKZrOZl2nYaDRu2FsKmETVEvx04PkWe+/kjB0mtAfxXbbviLP25Owjj1DTZYlll6MKAY7VP0RkA7Sp0DvhCmf/TE2bvqYfpbUcj8e+BpbaNSSnibJFVrYKLEt5v9+vNQ0fkO4NQANOhcBrmoCtKSrsPcLmniXJbfIIsRECQBWmfuojEslRxVp6pJUHUFSSiKKj2/RW0JDGZDIJCCgqepFkoT6jLzIi544o9eAFUPMciHPLCDgIoNFru91Oqx6N8l2ve74UWHLKlvjp83UF3CGtVXv82/gEnBU6jnRrXdIAAAAASUVORK5CYII=",R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHYSURBVHgBrZTLccIwFEVlA3t3ENGB04GpIMOaAeMKSCoAKkg6IOGzJqkAd4BLcAms+eZej6QIIyfODJphJKz3jq7eR0LceXh/GcxmM4lJqr9ZkiS7fwMBCZrN5sjzvOHlcpFXDp6Xn8/n6WAweK8FBCxstVprBUoxfxGC9Q7rEOsnrCN+OxwOHSjOK4G8HpRt4biDQ9Lv91PhvkHYaDTWsAl83+/0er1M7/m2IZRtCDudTp0qGAdUZbShLX5rhugGOJ/Pi3jh5G75GhXQnLegD1Q+3wDxcYwpteU7riqXy+WrVqRukUJEfAWkAU9iAsQvAyEZw4ZqzBXpQ9/VavVggEhEyBlxyUqKjONisRjBcciSsUOiKkDs9/t2wbIBAAcWLGTGAZocj8cPfJrg9xnH8aQk/KrQC4VwyJV8qTeYSUwFSJcS7F5KMPqEapkZoMpYrorWDAR9qKBUPnVlnz6A5rolfeskOka4alSGQtmjq9UYFvrwMHOAtRkg/VuUj3C1lAMm2QhIksBhbf3dKKRkZLkLg4CG6vQqWKRgATvG3nM9DuyWDWIjhXocWE6sACZNPw6MGwWo5FUD9WArYhor8I8Dksd4I65vrrexzgMb6MJnedXp87uObxy8Iz5lch2ZAAAAAElFTkSuQmCC",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAImSURBVHgBvVRNbtNAFH4z4zSBRMg3wL1BuEF6gipCQWJFeoKWDSJiUVeAUrGBG0BXSK2q0AVrcoPkCD6CFwlKE8+8vjeOnYnj9Eeq+jYez7z53ve9nwF4ZBN3OdTCQQAqCexaT8ZxeBA/GNAPf/rz6otDAOySQ1C4EoHRJ9NPb37dC7D+7byJWg0EYEC/Q4N45REICow1QlMKsU/7LQbWMN+b9d5GWwFr/d+BgsqItmMB5mDS6wxLSED9KwWVNqgPxuwR23F2Jl1HCTv/GIwjbwNjYwBDPki+QMCcog3Aev+8a2Ua3S7KKDP2kaSC8hzMK42jDUAEdUyfoUu/aJyS+unl94zRUsVQSPluDdAPBz6z4wLALabEzjEgHs2qtVyiQXHFLGtf/r7MAWcqaaYXYI2dm5tnp4NDAuO0nLgp8QDt2lP/d9N/xwyaHIAruZBy9Lx/GVIBziTqEAX8mX7shO6dhcZYeatmSXPoJTYKggyygzSXeEaMwqyVDC7eQ8GEkladdz0ZrySTBASIlk2b27TX6TIoq+fpKKu+FLjPTZ6NpHT08sVWo3/R2gBV5lXZqFUoLXyHg+WMswVXel41I94oG6micQvxIAgb9PVuzjhbxGE7Fkq3SaKvyHEZvRzs80UrBUOfg7tnYnvk1eOAGsY0FT4qGbiPAxCB6Yf1Qdj6HvIo8vQsgXOzxaNCUVV/lL2Ndz6w3NxJtWHlJ+BFs147gqe0G00BB+8NMbqIAAAAAElFTkSuQmCC";function me({getStages:f,handleFilterChange:d,jobTitle:C,jobFilters:w}){const[c,N]=l.exports.useState("All Stages"),[p,y]=l.exports.useState(!1),[m,A]=l.exports.useState({jobTitle:C||"",stage:w.stage||"All Stages"});l.exports.useEffect(()=>{w.stage||d("stage","All Stages")},[d,w.stage]);const b=(o,i)=>{o.preventDefault(),N(i),A(B=>({...B,stage:i}))},S=()=>{d("jobTitle",m.jobTitle),d("stage",m.stage)},u=()=>{A({jobTitle:"",stage:"All Stages"}),N("All Stages"),d("jobTitle",""),d("stage","All Stages")};return t("div",{children:a(de,{className:"m-0 mb-0",style:{paddingInline:"12px"},children:[t(D,{className:"w-full ",children:a(j,{className:"p-0",children:[t("div",{className:"dropdown-label",style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#040F0F"},children:"Job Title "}),t($,{type:"text",placeholder:"Insert text here",className:"JobTitleFilter-input",value:m.jobTitle,onChange:o=>A({...m,jobTitle:o.target.value}),style:{width:"100%",height:"44px",border:"1px solid #ccc",borderRadius:"8px",padding:"0px 10px"}}),t("p",{className:"",style:{color:"#6B6B6B",fontSize:"14px",fontWeight:400,marginBottom:"12px",marginTop:"8px"},children:"Insert text here to help users."})]})}),t(D,{className:"w-full",children:a(j,{className:"p-0",children:[t("div",{className:"dropdown-label",style:{fontSize:"14px",fontWeight:500,marginBottom:"8px",color:"#040F0F"},children:"Stage"}),a("div",{className:"custom-dropdown position-relative",style:{width:"100%",height:"44px",cursor:"pointer"},onClick:()=>y(!p),children:[t("div",{className:"selected-option",style:{width:"100%",height:"100%",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",display:"flex",padding:"0 40px 0 40px",alignItems:"center"},children:c}),t("img",{src:pe,alt:"dropdown-icon",className:"position-absolute",style:{top:"50%",right:"10px",transform:`translateY(-50%) rotate(${p?"0deg":"180deg"})`,transition:"transform 0.3s ease-in-out"}}),t("img",{src:ge,alt:"layer-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),p&&a("div",{className:"dropdown-options position-absolute",style:{width:"100%",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",marginTop:"10px",zIndex:10,maxHeight:"200px",overflowY:"auto",color:"#6B6B6B"},children:[a("div",{className:"position-relative",children:[t("img",{src:c==="All Stages"?E:R,alt:"tick-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),t("div",{className:"dropdown-item dropdown-items",style:{padding:"10px 40px",textAlign:"start",cursor:"pointer",color:c==="All Stages"?"#0B87AC":"#6B6B6B",borderBottom:"1px solid #ddd"},onMouseDown:o=>b(o,"All Stages"),children:"All Stages"})]},"All Stages"),f.map(o=>a("div",{className:"position-relative",children:[t("img",{src:c===o.name?E:R,alt:"tick-icon",className:"position-absolute",style:{top:"50%",left:"10px",transform:"translateY(-50%)"}}),t("div",{className:"dropdown-item dropdown-items",style:{padding:"10px 40px",textAlign:"start",cursor:"pointer",color:c===o.name?"#0B87AC":"#6B6B6B"},onMouseDown:i=>b(i,o.name),children:o.name})]},o.name))]})]})]})}),t(D,{className:"w-full",children:t(j,{children:a("div",{className:"d-flex justify-content-center align-items-center gap-1 position-absolute",style:{bottom:"3%",left:"50%",transform:"translateX(-50%)"},children:[t("button",{onClick:S,className:"btn btn-bg",style:{maxWidth:"110px"},children:"Apply"}),t("button",{onClick:u,className:"btn border",style:{maxWidth:"110px"},children:"Reset"})]})})})]})})}const Ne=()=>{const f=M(),d="https://bapi.reownlogics.com/storage",[C,w]=l.exports.useState(""),[c,N]=l.exports.useState(1),[p,y]=l.exports.useState(10),[m,A]=l.exports.useState([]),[b,S]=l.exports.useState([]),[u,o]=l.exports.useState(!1),[i,B]=l.exports.useState(!1),[Q,I]=l.exports.useState(!1);l.exports.useState(null);const{id:U}=W(),[h,G]=l.exports.useState([]),K=H(),T=new URLSearchParams(K.search).get("job_link"),[g,P]=l.exports.useState({jobTitle:"",stage:"All Stages"});console.log("Job Link:",T),l.exports.useEffect(()=>{(async()=>{I(!0);try{const s=localStorage.getItem("authToken"),n=await L.get(`https://bapi.reownlogics.com/api/jobs/${U}/candidate`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});G(n.data),console.log("jobs",n.data)}catch(s){console.error("Error fetching candidates:",s)}finally{I(!1)}})()},[U]),l.exports.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("authToken"),n=await L.get("https://bapi.reownlogics.com/api/hiring-stages",{headers:{Authorization:`Bearer ${s}`}});S(n.data),console.log("stage",n.data)}catch(s){console.error("Error fetching stages:",s)}})()},[]);const F=()=>B(e=>!e),X=()=>{o(!u),A(u?[]:h.map(e=>e.id))},Y=e=>{A(s=>s.includes(e)?s.filter(n=>n!==e):[...s,e])},J=[{name:t("input",{type:"checkbox",className:"selectAll-Checkbox",checked:u,onChange:X}),selector:e=>e.id,cell:e=>t("input",{type:"checkbox",className:"input-padding",checked:m.includes(e.id),onChange:()=>Y(e.id)}),sortable:!1,width:"8%"},{name:"Name",selector:e=>e.full_name,sortable:!1,cell:e=>a("div",{className:"d-flex align-items-center cursor-pointer p-sm-0",onClick:()=>f(`/appliedcandidatedetail/${e.id}`),children:[t("img",{src:e.picture?`${d}/${e.picture}`:se,alt:e.full_name,width:"30",height:"30",className:"rounded-circle border-none me-1 me-lg-2",style:{backgroundColor:"gray"}}),a("div",{children:[t("div",{className:"text-black text-ellipsis",children:e.full_name}),t("div",{className:"small-font",style:{display:i&&window.innerWidth>768?"none":"block",fontSize:"12px",color:"#6c757d"},children:new Date(e.created_at).toLocaleDateString()})]})]}),width:"22%"},{name:"Job Title",selector:e=>e.current_title,sortable:!1,width:"24.5%",cell:e=>t("span",{style:{color:"black"},children:e.current_title})},{name:"Stage",selector:e=>e.stage,sortable:!1,width:"17.5%",cell:e=>t("span",{style:{color:"black"},children:e.stage})},{name:"Applied Date",selector:e=>e.created_at,sortable:!1,width:"17.5%",cell:e=>t("span",{style:{color:"black"},children:new Date(e.created_at).toLocaleDateString()})},{name:"Action",selector:e=>e.action,sortable:!1,cell:e=>a(le,{children:[t(oe,{className:"pe-1",tag:"span",children:t(ne,{size:15})}),t(re,{end:!0,children:t(ie,{onClick:()=>f(`/ticket-detail/${employee.id}`),children:t("span",{className:"align-middle ms-50",children:"Detail"})})})]}),width:"10%"}],z=(e,s)=>{console.log(`Updating filter: ${e} -> ${s}`),P(n=>({...n,[e]:s==="All Stages"?"":s}))},v=h.filter(e=>{const s=e.full_name.toLowerCase().includes(C.toLowerCase()),n=g.jobTitle.trim()!==""?e.current_title.toLowerCase().includes(g.jobTitle.toLowerCase()):!0,k=g.stage&&g.stage!=="All Stages"?e.stage.toLowerCase()===g.stage.toLowerCase():!0;return s&&n&&k});console.log("filteredData",v);const O=v.slice((c-1)*p,c*p),V=()=>t(ce,{previousLabel:"",nextLabel:"",pageCount:Math.ceil(v.length/p)||1,activeClassName:"active",forcePage:c-1,onPageChange:e=>N(e.selected+1),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"});if(Q)return a("div",{className:"d-flex justify-content-center align-items-center fs-3",style:{height:"calc(100vh - 170px)"},children:[t(ee,{}),t("span",{className:"fs-2",style:{paddingBottom:"6px",paddingLeft:"5px"}})]});const q=()=>{if(!(h!=null&&h.length)){alert("No data available to export.");return}const e=["Name,Job Title,Stage,Applied Date"],s=h.map(r=>[(r==null?void 0:r.full_name)||"N/A",(r==null?void 0:r.current_title)||"N/A",(r==null?void 0:r.stage)||"N/A",r!=null&&r.created_at?new Date(r.created_at).toLocaleDateString():"N/A"].join(",")),n=e.concat(s).join(`
`),k=new Blob([n],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(k),x.setAttribute("download","applied_candidates.csv"),document.body.appendChild(x),x.click(),document.body.removeChild(x)};return console.log("getStagesgetStages",b),a(Z,{children:[t(Ae,{}),a("div",{className:"card shadow-none bg-white border mobile-res-head",style:{padding:"25px 46px",borderRadius:"17px",marginBottom:"20px"},children:[a("div",{className:"d-flex align-items-center flex-wrap",style:{gap:"38px"},children:[t("h2",{children:"Creative Head"}),t("span",{className:"badge bgSky",children:"Open"})]}),a("p",{className:"text-muted",children:["Hiring / Creative Head / ",t("span",{className:"sky-blue",children:"Applied"})]}),a("div",{className:"d-flex align-items-center gap-1 flex-wrap",children:[t("button",{className:"btn btn-bg",style:{maxWidth:"148px",height:"48px"},children:"All Applied"}),t("button",{className:"btn border",onClick:F,style:{height:"48px",width:"90px",backgroundColor:i?"#0C1539":"transparent",color:i?"white":"rgba(20, 20, 20, 0.7)"},children:"Filters"}),t(_,{className:"sky-blue custom-link",to:`/jobdetail/${T}`,children:"View Job Description"})]})]}),a("div",{className:"d-md-flex parent-container",children:[i&&t("div",{className:"filter-panel",children:t("div",{className:"filter-content ",style:{marginTop:"10px"},children:t(me,{getStages:b,handleFilterChange:z,jobTitle:g.jobTitle,jobFilters:g})})}),a("div",{className:`Wrapper-list ${i?"shrink":""} overflow-auto px-1`,style:{width:i?"auto":"100%"},children:[a("div",{className:"d-flex justify-content-between align-center bg-transparent pad-b-12",children:[t("h4",{className:"mb-0 ps-1 pe-1",children:"Applied Candidate"}),t("button",{className:"btn btn-bg",onClick:q,children:"Export"})]}),t(te,{className:"card border",children:t("div",{className:`react-dataTable react-dataTable-selectable-rows ${i?"overflow-auto":""}`,style:{maxHeight:"500px"},children:t(ae,{noHeader:!0,subHeader:!1,pagination:!0,responsive:!0,paginationServer:!0,columns:J,data:O,sortIcon:null,paginationComponent:V})})})]})]})]})};export{Ne as default};
